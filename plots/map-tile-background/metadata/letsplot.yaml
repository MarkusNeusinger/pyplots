library: letsplot
specification_id: map-tile-background
created: '2026-01-20T22:39:27Z'
updated: '2026-01-20T22:42:15Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21189771808
issue: 3756
python_version: 3.13.11
library_version: 4.8.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/map-tile-background/letsplot/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/map-tile-background/letsplot/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/map-tile-background/letsplot/plot.html
quality_score: 72
review:
  strengths:
  - Excellent text legibility with appropriately sized fonts for 4800x2700 output
  - Good use of dual encoding (color + size) for visitor data
  - Interactive HTML version properly uses geom_livemap with CARTO tiles
  - Realistic European tourism dataset with recognizable cities
  - Clean code structure following KISS principles
  weaknesses:
  - PNG does not show actual map tiles - uses polygon approximations instead of tile
    background (core spec requirement)
  - Redundant legends showing same Visitors (K) data twice
  - Axis labels lack degree units (should be Longitude degrees or similar)
  - Title uses letsplot instead of lets-plot
  image_description: 'The plot displays a map of European cities with tourism visitor
    data. The background consists of simplified gray polygon shapes approximating
    Europe''s outline (mainland Europe, Scandinavia, British Isles, and Ireland) rather
    than actual map tiles. City locations are shown as circular markers with dual
    encoding: marker size and border color both represent visitor counts (in thousands).
    Colors range from blue (#306998) for lower values to yellow (#FFD43B) for higher
    values. The largest/brightest markers appear for Paris and London (the highest
    tourism destinations). Two legends appear on the right: a color gradient bar and
    a size legend, both labeled "Visitors (K)". The title reads "European Tourism
    · map-tile-background · letsplot · pyplots.ai". Axes show Longitude (-10 to 30)
    and Latitude (36 to 72).'
  criteria_checklist:
    visual_quality:
      score: 31
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title, axis labels, tick marks, and legend text are all clearly readable
          at full size
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text or elements
      - id: VQ-03
        name: Element Visibility
        score: 6
        max: 8
        passed: true
        comment: Markers visible but some smaller cities hard to distinguish; alpha
          and stroke work well
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 5
        passed: true
        comment: Blue-to-yellow gradient is colorblind-friendly, good contrast
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 5
        passed: true
        comment: Plot fills ~60% of canvas, reasonable but legends take space
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: false
        comment: Labels are generic Longitude and Latitude without units (degrees)
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Legend is duplicated - both color and size legends show same data
    spec_compliance:
      score: 15
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 4
        max: 8
        passed: false
        comment: 'Critical: Spec requires tile-based background. PNG shows polygon
          approximations, not actual map tiles'
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Lat/lon correctly mapped, visitor values encoded in color and size
      - id: SC-03
        name: Required Features
        score: 3
        max: 5
        passed: false
        comment: Missing attribution for tile providers, no marker clustering demonstrated
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All cities visible within axes bounds
      - id: SC-05
        name: Legend Accuracy
        score: 0
        max: 2
        passed: false
        comment: Two legends showing same data is redundant and confusing
      - id: SC-06
        name: Title Format
        score: 0
        max: 2
        passed: false
        comment: Uses letsplot instead of lets-plot in title
    data_quality:
      score: 16
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 6
        max: 8
        passed: true
        comment: Shows range of visitor counts from 3000 to 38000, good geographic
          spread
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: European tourism is a real, neutral, comprehensible scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 3
        max: 5
        passed: false
        comment: Visitor counts plausible but labeling inconsistent (K units vs actual
          thousands)
    code_quality:
      score: 7
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Clean linear flow: imports, data, plot, save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 0
        max: 2
        passed: false
        comment: Several unused imports present
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current lets-plot API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves both plot.png and plot.html
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses layer_tooltips but geom_livemap only in HTML version
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - layer-composition
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  dataprep: []
  styling:
  - custom-colormap
  - alpha-blending
  - grid-styling
