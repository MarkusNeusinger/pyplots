library: pygal
specification_id: heatmap-interactive
created: '2026-01-08T16:06:43Z'
updated: '2026-01-08T16:13:25Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20822856761
issue: 3289
python_version: 3.13.11
library_version: 3.1.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/heatmap-interactive/pygal/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/heatmap-interactive/pygal/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/heatmap-interactive/pygal/plot.html
quality_score: 72
review:
  strengths:
  - Comprehensive interactive HTML output with zoom, pan, and hover tooltips matching
    spec requirements
  - Well-designed colorbar with gradient and clear value labels
  - Realistic website analytics use case with visible data clusters
  - Good color contrast with blue-to-orange gradient
  - Cell-level interactivity with crosshair highlighting in HTML version
  weaknesses:
  - Violates KISS principle by using a custom class (InteractiveHeatmap) instead of
    flat script structure
  - Missing axis titles (should have Page and User Segment labels)
  - Generic colorbar label Value should be more descriptive (e.g., Engagement Score)
  - Uses hacky sys.path manipulation to avoid import conflicts
  - Data range (20-95) does not include low values near 0 for full contrast demonstration
  image_description: The plot displays a 20x20 interactive heatmap representing website
    page engagement across user segments. Row labels ("Page 1" through "Page 20")
    are aligned on the left side, while column labels ("Seg 1" through "Seg 20") are
    rotated 45 degrees at the bottom. The heatmap uses a blue-to-orange color gradient
    (light blue for low values ~20, orange for high values ~95). A vertical colorbar
    on the right shows the "Value" scale from 20 to 95 with min/mid/max labels. Visible
    clusters of high engagement (orange/yellow regions) appear at positions corresponding
    to Pages 3-6 x Segs 4-8, Pages 11-14 x Segs 13-17, and Pages 16-18 x Segs 2-5.
    Individual hot spots are visible at Page 1/Seg 1 (bright orange) and Page 19/Seg
    19. The title "heatmap-interactive 路 pygal 路 pyplots.ai" is centered at the top.
    White cell borders provide clear separation between cells.
  criteria_checklist:
    visual_quality:
      score: 32
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 10
        passed: true
        comment: All text readable, but row/column labels could be slightly larger
          for the canvas size
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text, rotated column labels work well
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Cells are well-sized, colors clearly distinguishable
      - id: VQ-04
        name: Color Accessibility
        score: 3
        max: 5
        passed: true
        comment: Blue-orange gradient is colorblind-safe but uses similar yellow tones
          that may be harder to distinguish
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 5
        passed: true
        comment: Good layout but significant whitespace at top and bottom margins
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: false
        comment: No axis titles (missing Page and User Segment labels)
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: White cell borders serve as grid, colorbar well-placed
    spec_compliance:
      score: 21
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct heatmap type
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: X/Y correctly assigned (rows=pages, columns=segments)
      - id: SC-03
        name: Required Features
        score: 3
        max: 5
        passed: true
        comment: Hover tooltips in HTML, zoom/pan in HTML, colorbar present; crosshair
          implemented but PNG is static
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible (0-100 scale)
      - id: SC-05
        name: Legend Accuracy
        score: 0
        max: 2
        passed: false
        comment: Colorbar label Value is generic, should describe the metric
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: heatmap-interactive 路 pygal 路 pyplots.ai'
    data_quality:
      score: 16
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 6
        max: 8
        passed: true
        comment: Shows clusters, hot spots, and value variation; could benefit from
          more extreme low/high contrast
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Website page engagement by user segment is a plausible, neutral business
          scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 3
        max: 5
        passed: true
        comment: Values 20-95 are reasonable but range is narrow (no values near 0)
    code_quality:
      score: 0
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 0
        max: 3
        passed: false
        comment: Uses custom class (InteractiveHeatmap) which violates KISS principle
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 0
        max: 2
        passed: false
        comment: sys path manipulation is hacky
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Current API usage
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Code uses sys.path manipulation which is unusual
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Creates custom Graph subclass to extend pygal capabilities for heatmap,
          but pygal does not natively support heatmaps well
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - colorbar
  - hover-tooltips
  - html-export
  - custom-legend
  patterns:
  - data-generation
  - matrix-construction
  dataprep: []
  styling:
  - custom-colormap
  - edge-highlighting
