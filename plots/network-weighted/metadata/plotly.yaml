library: plotly
specification_id: network-weighted
created: '2026-01-08T15:58:57Z'
updated: '2026-01-08T16:01:55Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20822849491
issue: 3290
python_version: 3.13.11
library_version: 6.5.1
preview_url: https://storage.googleapis.com/pyplots-images/plots/network-weighted/plotly/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/network-weighted/plotly/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/network-weighted/plotly/plot.html
quality_score: 81
review:
  strengths:
  - Excellent implementation of force-directed layout algorithm from scratch
  - Good visual encoding with edge thickness proportional to trade weight
  - Node sizing by weighted degree adds additional information layer
  - Hover tooltips provide interactive detail on trade volumes
  - Clean, professional color scheme (Python-branded yellow/blue)
  - Realistic trade data scenario with plausible values
  weaknesses:
  - Weight scale annotation in bottom-right is cut off, making it unreadable
  - Some node label overlap (Japan/S. Korea region)
  - Network positioned asymmetrically with large empty space in lower-left quadrant
  - Could center the network better within the canvas
  image_description: The plot displays a weighted network graph showing international
    trade relationships between 15 countries. Nodes are rendered as yellow circles
    with blue borders, sized proportionally to their weighted degree (total trade
    volume). The USA and China nodes are the largest, indicating their central roles
    in global trade. Edges vary in thickness based on trade volume in billions USD
    - the thickest connections are USA-Canada (~$620B), USA-Mexico (~$550B), and USA-China
    (~$580B). The layout uses a force-directed algorithm that positions strongly connected
    nodes closer together. Labels appear above each node in gray text. The title 'network-weighted
    · plotly · pyplots.ai' is centered at the top. An annotation explaining the edge
    thickness scale appears in the bottom-right corner but is partially cut off.
  criteria_checklist:
    visual_quality:
      score: 31
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 7
        max: 10
        passed: true
        comment: Title and most labels readable, but some labels are small relative
          to canvas size
      - id: VQ-02
        name: No Overlap
        score: 4
        max: 8
        passed: false
        comment: Japan and S. Korea labels overlap; Italy/France labels very close
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Nodes and edges well-sized for data density, clear visual hierarchy
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue edges with yellow nodes provide good contrast; colorblind-safe
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 5
        passed: false
        comment: Network positioned in upper-right quadrant leaving large empty space
          in lower-left; annotation cut off
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: N/A for network graphs, axes correctly hidden
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: No grid (appropriate), annotation explains weight scale
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct weighted network graph with edge thickness encoding
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Edges correctly map weight to thickness, nodes sized by weighted
          degree
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: 'All spec features present: weighted edges, node sizing, force-directed
          layout, weight annotation'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All nodes and edges visible within canvas
      - id: SC-05
        name: Legend Accuracy
        score: 0
        max: 2
        passed: false
        comment: Weight scale annotation is partially cut off
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Uses correct format 'network-weighted · plotly · pyplots.ai'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows strong vs weak connections, hub nodes, geographic clustering
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Trade network with real country names and plausible trade volumes
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Trade values are realistic (35B-620B USD range)
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Follows imports → data → plot → save structure, no functions/classes
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only numpy and plotly imported
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Plotly API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 4
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 4
        max: 5
        passed: true
        comment: Good use of Plotly hover tooltips, trace-based rendering, and HTML
          export
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep:
  - normalization
  styling:
  - alpha-blending
  - edge-highlighting
