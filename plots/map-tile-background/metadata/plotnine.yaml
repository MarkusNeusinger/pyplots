library: plotnine
specification_id: map-tile-background
created: '2026-01-20T22:40:33Z'
updated: '2026-01-20T22:50:31Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21189771608
issue: 3756
python_version: 3.13.11
library_version: 0.15.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/map-tile-background/plotnine/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/map-tile-background/plotnine/plot_thumb.png
preview_html: null
quality_score: 76
review:
  strengths:
  - Creative simulation of tile background using geom_rect grid with terrain-based
    coloring
  - Effective use of plotnine grammar of graphics with multiple coordinated layers
  - Good color palette for category distinction (8 colors, colorblind-safe)
  - Realistic San Francisco landmarks data with appropriate visitor counts
  - Clean attribution annotation meeting spec requirements
  weaknesses:
  - Title is cut off on the left side, missing SF Bay Area Landm portion - needs better
    figure margins or shorter title
  - Label overlap between Fishermans Wharf and Pier 39 despite nudge adjustments in
    code
  - Size legend label Visitors (K/yr) is confusing since data values like 10000 in
    legend represent 10M visitors (data is already in thousands)
  image_description: 'The plot shows a map of San Francisco Bay Area landmarks with
    a simulated tile background. The background uses a grid of rectangles colored
    in beige (land) and light blue (water) to create a terrain-like effect. A dark
    gray coastline polygon outlines the San Francisco peninsula. Fifteen data points
    are displayed as colored circles with sizes proportional to visitor counts (ranging
    from ~500K to ~15M visitors per year). Points are colored by category: blue for
    Landmarks, cyan for Tourism, green for Museums, purple for Cultural, brown for
    Historic, yellow for Shopping, red for Sports, and orange for Transport. Four
    labels identify top attractions: Golden Gate Bridge, Fishermans Wharf, Pier 39,
    and Union Square. The title is partially cut off on the left side showing "arks
    · map-tile-background · plotnine · pyplots.ai" (missing "SF Bay Area Landm").
    Axes show Longitude (°) and Latitude (°) with appropriate geographic coordinates.
    Two legends appear on the right: one showing visitor counts as bubble sizes (5000,
    10000, 15000 K/yr), and another showing category colors. An attribution text "Simulated
    tiles | Data: SF landmarks" appears at the bottom right of the map area.'
  criteria_checklist:
    visual_quality:
      score: 32
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 7
        max: 10
        passed: true
        comment: Text is generally readable but some labels overlap. Title is cut
          off on the left side.
      - id: VQ-02
        name: No Overlap
        score: 4
        max: 8
        passed: false
        comment: Labels for Fishermans Wharf and Pier 39 overlap with each other,
          making text partially unreadable.
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Markers are well-sized for the data density (15 points), with good
          size variation showing visitor differences.
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Uses colorblind-safe palette with 8 distinct category colors that
          are distinguishable.
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Good canvas utilization with plot filling majority of space, legends
          well-positioned on right.
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: 'Descriptive labels with units: Longitude and Latitude with degree
          symbols.'
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: No grid (appropriate for map), dual legends well-placed and readable.
    spec_compliance:
      score: 21
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct map visualization with tile-style background and data points.
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Lat/Lon correctly mapped to geographic positions, size encodes visitors,
          color encodes category.
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Has tile background (simulated), markers, labels, attribution. Missing
          actual tile providers but simulated approach is reasonable.
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All 15 landmarks visible within map bounds.
      - id: SC-05
        name: Legend Accuracy
        score: 1
        max: 2
        passed: false
        comment: Legends correct but size legend labeling is confusing - shows K/yr
          while data values already represent thousands.
      - id: SC-06
        name: Title Format
        score: 0
        max: 2
        passed: false
        comment: Title is cut off and does not show complete format. Shows arks instead
          of full title.
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows multiple landmarks across different categories, varying visitor
          counts, and geographic spread.
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: San Francisco landmarks with plausible visitor counts - real-world
          scenario.
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Visitor counts are realistic. Geographic coordinates are accurate
          for SF area.
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Clean linear structure: imports, data, tiles, coastline, plot, save.'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42) for reproducibility.
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used.
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current plotnine API.
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png at 300 DPI.
    library_features:
      score: 5
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 5
        max: 5
        passed: true
        comment: Creative use of plotnine grammar of graphics with multiple layers
          (geom_rect, geom_polygon, geom_point, geom_label, annotate). Good layer
          composition and scale customization.
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - layer-composition
  - annotations
  - custom-legend
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - alpha-blending
  - edge-highlighting
  - minimal-chrome
