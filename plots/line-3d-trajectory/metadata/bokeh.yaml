library: bokeh
specification_id: line-3d-trajectory
created: '2026-01-07T16:28:39Z'
updated: '2026-01-07T16:43:20Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20788381932
issue: 3182
python_version: 3.13.11
library_version: 3.8.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/line-3d-trajectory/bokeh/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/line-3d-trajectory/bokeh/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/line-3d-trajectory/bokeh/plot.html
quality_score: 87
review:
  strengths:
  - Excellent choice of Lorenz attractor as a classic 3D trajectory example that showcases
    chaotic dynamics
  - Clever use of multi_line with per-segment coloring to create continuous color
    gradient along trajectory
  - Good implementation of 3D to 2D isometric projection with custom axis visualization
  - HoverTool provides interactive exploration with coordinates and time values
  - Viridis colormap is colorblind-safe and visually appealing
  - Clean code structure following KISS principles
  - Outputs both PNG and HTML for static and interactive viewing
  weaknesses:
  - Colorbar scale shows 0-1 instead of actual simulation time (0-15 seconds) despite
    color_mapper being configured with high=n_points * dt
  - Axis labels appear truncated - (state) suffix specified in code but not visible
    in output
  - Invisible scatter points (alpha=0) for hover may be confusing - users will not
    know where to hover
  - Some canvas space wasted on left side; layout could be more balanced
  image_description: The plot displays a Lorenz attractor trajectory rendered as a
    3D line plot with isometric projection. The characteristic double-lobe "butterfly"
    pattern is clearly visible with the trajectory spiraling around two attractors.
    A Viridis color gradient (dark purple → teal → green → yellow) indicates time
    progression from start to end of the simulation. Custom 3D coordinate axes with
    arrows originate from the center, labeled X, Y, and Z. A colorbar on the right
    shows "Time Progression" with values 0 to 1. The title "Lorenz Attractor · line-3d-trajectory
    · bokeh · pyplots.ai" appears in the top-left. The background is light gray (#f9f9f9)
    with subtle dashed grid lines. The trajectory line width is appropriate and uses
    transparency (alpha=0.85) for handling overlapping segments.
  criteria_checklist:
    visual_quality:
      score: 34
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 10
        passed: true
        comment: Title and axis labels are readable but axis labels appear smaller
          than specified in code; colorbar text is readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements; trajectory overlaps handled well with
          transparency
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Line width of 3 with alpha=0.85 provides excellent visibility; trajectory
          is smooth and clear
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Viridis palette is colorblind-safe; excellent color progression
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 5
        passed: true
        comment: Plot is well-centered but colorbar could be better integrated; some
          wasted space on left
      - id: VQ-06
        name: Axis Labels
        score: 1
        max: 2
        passed: true
        comment: Labels show X, Y, Z but (state) suffix not visible in rendered output;
          no units
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: true
        comment: Grid is subtle with alpha=0.2 and dashed style; colorbar title shows
          Time Progression but should show full Simulation Time (seconds)
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct 3D line trajectory visualization with proper projection
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: X, Y, Z coordinates correctly mapped; time correctly used for color
          encoding
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Connected lines, color gradient for time, multiple trajectory loops
          visible
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible within canvas; proper padding applied
      - id: SC-05
        name: Legend Accuracy
        score: 0
        max: 2
        passed: false
        comment: Colorbar scale shows 0-1 but should show actual simulation time (0-15
          seconds) as configured in color_mapper
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Uses correct format: Lorenz Attractor · line-3d-trajectory · bokeh
          · pyplots.ai'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: Lorenz attractor demonstrates chaotic dynamics perfectly; shows both
          lobes, spiral behavior, and sensitive dependence on initial conditions
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Classic physics example (Lorenz 1963); widely used in chaos theory
          education
      - id: DQ-03
        name: Appropriate Scale
        score: 3
        max: 5
        passed: true
        comment: Coordinates normalized to std units; simulation time of 15s reasonable
          but colorbar scale mismatch detracts
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Sequential structure: imports → data generation → projection → plot
          → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set (though Lorenz is deterministic from initial
          conditions)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports used; no unused imports
      - id: CQ-04
        name: No Deprecated API
        score: 0
        max: 1
        passed: false
        comment: 'Minor: export_png requires selenium which adds complexity'
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves both plot.png and plot.html - HTML is bonus but colorbar metadata
          mismatch
    library_features:
      score: 4
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 4
        max: 5
        passed: true
        comment: Good use of HoverTool for interactivity, ColumnDataSource, multi_line
          for gradient, ColorBar; however hover points use alpha=0 which may confuse
          users
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - colorbar
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  - columndatasource
  - iteration-over-groups
  dataprep:
  - normalization
  styling:
  - custom-colormap
  - alpha-blending
  - grid-styling
  - minimal-chrome
