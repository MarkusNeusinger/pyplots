library: altair
specification_id: campbell-basic
created: '2026-02-15T21:10:25Z'
updated: '2026-02-15T21:21:21Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 22043026897
issue: 4241
python_version: 3.14.3
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/altair/plot.html
quality_score: 86
review:
  strengths:
  - 'Excellent spec compliance: all required Campbell Diagram elements present (engine
    order lines, natural frequency curves, critical speed markers, mode labels, operating
    range band)'
  - 'Strong data storytelling: operating range band and critical speed annotations
    create clear narrative for engineering analysis'
  - 'Good Altair idiom usage: layered composition, independent color scale resolution,
    and declarative encoding'
  - 'Visually polished: custom color palette, subtle grid, diamond markers with white
    stroke, dashed engine order lines differentiated from solid mode curves'
  - Realistic rotordynamic data with physically plausible mode frequencies and engine
    order intersections
  weaknesses:
  - 'Layout balance: legends on the right consume too much space, reducing effective
    plot area; consider making the legend more compact or repositioning'
  - Blue (#306998) and purple (#8172B2) mode lines are somewhat hard to distinguish,
    especially for colorblind viewers; consider increasing color distance between
    these two
  - The 1st Bending / 1x annotation near RPM 4400 is slightly crowded near the data;
    annotation placement could be refined
  - The dummy chart for the engine order legend entry adds code complexity; could
    explore cleaner approach for custom legend entries
  image_description: 'The plot displays a Campbell Diagram titled "campbell-basic
    · altair · pyplots.ai" at the top left. The X-axis is "Rotational Speed (RPM)"
    (0–6000) and the Y-axis is "Frequency (Hz)" (0–310). Five solid colored lines
    represent natural frequency modes: 1st Bending (blue, ~45 Hz rising), 2nd Bending
    (orange, ~95 Hz slightly decreasing), 1st Torsional (green, ~130 Hz rising), Axial
    (purple, ~175 Hz nearly flat), and 3rd Bending (red, ~220 Hz decreasing). Three
    dashed gray diagonal lines from the origin represent engine orders labeled "1x",
    "2x", and "3x" near the right edge. Red diamond markers with white stroke highlight
    critical speed intersections. Three text annotations in dark red label "1st Bending
    / 3x", "1st Bending / 2x", and "1st Bending / 1x" near their respective intersections.
    A light blue semi-transparent vertical band marks the "Operating Range" (3000–5000
    RPM) with an italic label at the bottom. Two separate legends on the right distinguish
    Natural Frequencies (5 colored lines) and Excitation (dashed engine order line).
    The grid is subtle with low opacity. Overall layout is clean and professional.'
  criteria_checklist:
    visual_quality:
      score: 26
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 8
        passed: true
        comment: 'All font sizes explicitly set: title 28pt, axis title 22pt, tick
          labels 18pt, legend 14-16pt, annotations 12-16pt'
      - id: VQ-02
        name: No Overlap
        score: 5
        max: 6
        passed: true
        comment: 'Minor: 1st Bending / 1x annotation slightly crowded near data lines;
          mostly clean'
      - id: VQ-03
        name: Element Visibility
        score: 6
        max: 6
        passed: true
        comment: Lines at strokeWidth=3, engine orders dashed at 1.5, diamond markers
          size=280 with white stroke
      - id: VQ-04
        name: Color Accessibility
        score: 3
        max: 4
        passed: true
        comment: Blue and purple may be hard to distinguish for colorblind viewers;
          other colors well separated
      - id: VQ-05
        name: Layout & Canvas
        score: 2
        max: 4
        passed: false
        comment: Right-side legends consume significant space, plot area doesn't fill
          canvas optimally
      - id: VQ-06
        name: Axis Labels & Title
        score: 2
        max: 2
        passed: true
        comment: Rotational Speed (RPM) and Frequency (Hz) - descriptive with units
    design_excellence:
      score: 14
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 6
        max: 8
        passed: true
        comment: Custom palette, dashed engine orders, diamond markers with white
          stroke, operating range band - above defaults
      - id: DE-02
        name: Visual Refinement
        score: 4
        max: 6
        passed: true
        comment: Subtle grid opacity 0.12, removed view stroke, clean axis styling
          with light domain/tick colors
      - id: DE-03
        name: Data Storytelling
        score: 4
        max: 6
        passed: true
        comment: Operating range band and critical speed annotations create narrative;
          visual hierarchy guides reader
    spec_compliance:
      score: 15
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: Correct Campbell Diagram with frequency vs RPM, engine order overlay,
          critical speed identification
      - id: SC-02
        name: Required Features
        score: 4
        max: 4
        passed: true
        comment: 'All spec features present: engine order lines, frequency curves,
          critical speed markers, mode labels, EO labels, operating range, legend'
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: X=RPM, Y=Frequency(Hz), correctly mapped
      - id: SC-04
        name: Title & Legend
        score: 3
        max: 3
        passed: true
        comment: Title format correct; two legends properly distinguish natural frequencies
          from excitation lines
    data_quality:
      score: 14
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 5
        max: 6
        passed: true
        comment: 5 modes with varying behavior, 3 engine orders, multiple intersections;
          could show more pronounced gyroscopic effects
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 5
        passed: true
        comment: Plausible rotordynamic scenario with realistic mode names
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 4
        passed: true
        comment: Frequencies 45-220 Hz, RPM 0-6000, engine orders 1x-3x - all physically
          plausible
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Imports → data generation → plot → save, no functions/classes
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only altair, numpy, pandas imported - all used
      - id: CQ-04
        name: Code Elegance
        score: 1
        max: 2
        passed: true
        comment: Well-organized but verbose with multiple DataFrames and dummy chart
          for EO legend entry
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves plot.png and plot.html
    library_features:
      score: 8
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 4
        max: 5
        passed: true
        comment: Good use of declarative encoding, layered composition, resolve_scale,
          configure_* chains
      - id: LM-02
        name: Distinctive Features
        score: 4
        max: 5
        passed: true
        comment: resolve_scale(color=independent) for separate legends, layered composition
          operator, mark_rect for band, tooltips, dual export
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - layer-composition
  - custom-legend
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - grid-styling
  - alpha-blending
