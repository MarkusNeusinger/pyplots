library: seaborn
specification_id: treemap-basic
created: '2025-12-24T09:51:17Z'
updated: '2025-12-24T10:09:05Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20483443695
issue: 0
python_version: 3.13.11
library_version: 0.13.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/treemap-basic/seaborn/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/treemap-basic/seaborn/plot_thumb.png
preview_html: null
quality_score: 91
review:
  strengths:
  - Excellent use of seaborn colorblind palette for accessibility
  - Smart depth shading using sns.light_palette to show hierarchy within categories
  - Clean white borders clearly separate all rectangles
  - Dynamic text color selection based on background luminance ensures readability
  - Adaptive font sizing based on rectangle area
  - Well-designed legend with horizontal layout below the plot
  weaknesses:
  - Uses strict=True in zip() which is Python 3.10+ specific and unnecessary for this
    use case
  image_description: 'The treemap displays a "Budget Allocation by Department" visualization
    with 12 nested rectangles representing subcategories across 5 main departments.
    The largest rectangle (Product Dev $45M) is in blue (Engineering), followed by
    Enterprise ($35M) in golden/orange (Sales). The color scheme uses a colorblind-safe
    palette: blue for Engineering, golden/orange for Sales, teal/green for Marketing,
    orange for Operations, and pink for HR. Each rectangle is labeled with the subcategory
    name and dollar value in millions. Rectangles within the same category show depth
    shading (lighter shades for smaller values). White borders separate all rectangles,
    and a horizontal legend at the bottom identifies the 5 departments. The title
    follows the required format with "treemap-basic · seaborn · pyplots.ai" suffix.'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: 'All labels readable, title is 24pt bold, subcategory labels scale
          appropriately. Minor: some smaller rectangles (Training $8M) have slightly
          tight spacing'
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text, all labels fit within their rectangles
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Rectangle sizes clearly distinguish value differences, alpha=0.9
          provides good visibility
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Uses seaborn's colorblind palette, distinct hues for all 5 categories
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good use of canvas space, treemap fills most of the area, legend
          positioned below. Minor padding imbalance on right side
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Legend is well-placed below plot with good spacing, ncol=5 keeps
          it compact
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct treemap visualization showing hierarchical data as nested
          rectangles
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Values correctly determine rectangle area (Product Dev largest at
          $45M)
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Distinct category colors, labels for all rectangles, borders between
          rectangles, hierarchy shown through color shading
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All 12 items visible with appropriate sizing
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly maps colors to department names
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Follows "{title} · {spec-id} · {library} · pyplots.ai" format
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: 'Shows hierarchy (category → subcategory), varying sizes, depth shading.
          Minor: could benefit from showing a more extreme size contrast'
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Budget allocation by department is a real, relatable business scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Values in $M range are realistic for corporate budgets, though total
          of ~$265M is somewhat large for a single organization
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear flow: imports → data → processing → plot → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) is set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used (matplotlib, numpy, seaborn, squarify, patches)
      - id: CQ-04
        name: No Deprecated API
        score: 0
        max: 1
        passed: false
        comment: Uses `strict=True` in zip which requires Python 3.10+, not strictly
          deprecated but adds unnecessary constraint
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as 'plot.png' with dpi=300
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Uses seaborn features
        score: 3
        max: 5
        passed: true
        comment: Uses sns.set_style("white"), sns.color_palette("colorblind"), and
          sns.light_palette for depth shading. However, seaborn doesn't have a native
          treemap function, so squarify does the heavy lifting. The seaborn usage
          is primarily for styling and color palette generation.
  verdict: APPROVED
