library: pygal
specification_id: raincloud-basic
created: '2025-12-25T08:21:24Z'
updated: '2026-02-14T20:45:41Z'
generated_by: claude-opus-4-6
workflow_run: 20501866165
issue: 0
python_version: '3.14'
library_version: 3.1.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/raincloud-basic/pygal/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/raincloud-basic/pygal/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/raincloud-basic/pygal/plot.html
quality_score: 85
impl_tags:
  dependencies:
  - cairosvg
  techniques:
  - annotations
  - layer-composition
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep:
  - kde
  styling:
  - alpha-blending
  - grid-styling
review:
  strengths:
  - 'Excellent raincloud metaphor execution: cloud above, rain below, box centered
    — all three components correctly layered'
  - Strong data storytelling with median annotations and '100 ms faster' callout box
    with connecting arrow
  - Colorblind-safe palette with good luminance differentiation (blue, yellow, green)
  - Well-structured data with realistic reaction time scenario, appropriate outliers,
    and distinct group characteristics
  - Creative use of pygal's native SVG output for post-processing annotations
  weaknesses:
  - Box plots are too thin and hard to distinguish — the gray outlined boxes blend
    into the background. Consider increasing box_hw or using a fill color with slight
    alpha
  - Horizontal stroke line runs across each category center spanning the full x-range
    (pygal XY artifact from the cloud series baseline points) — this is visually distracting
  - Rain point opacity is 0.80 (style-level) rather than the spec's recommended 0.5-0.7
    — points in dense areas overlap without enough transparency
  - The cloud fill extends along the baseline creating a visible horizontal line because
    the first and last points of the cloud polygon sit at the x-axis extremes of the
    KDE — the tails extend too far creating a visible flat base
  image_description: 'The plot displays a horizontal raincloud visualization with
    three treatment groups (Control, Treatment A, Treatment B) on the y-axis and Reaction
    Time (ms) on the x-axis ranging from 100 to 700. Each group features three layered
    elements: a half-violin density "cloud" extending upward from the category baseline
    (blue for Control, golden yellow for Treatment A, green for Treatment B), jittered
    scatter "rain" dots below the baseline in matching colors, and a thin outlined
    box plot centered on the baseline with whiskers. Median value annotations appear
    above each cloud (432 ms for Control, 378 ms for Treatment A, 331 ms for Treatment
    B) with dashed leader lines. A green-bordered callout box in the upper-right reads
    "▼ 100 ms faster" with a dashed arrow pointing toward Treatment B''s median. The
    y-axis is labeled "Treatment Group" (rendered via SVG injection, rotated). The
    title reads "raincloud-basic · pygal · pyplots.ai" at the top. The overall layout
    is clean with a white background, subtle dashed grid lines, and good use of canvas
    space. A faint horizontal stroke line runs across each category center (artifact
    of the pygal XY series baseline connection).'
  criteria_checklist:
    visual_quality:
      score: 28
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 8
        passed: true
        comment: All font sizes explicitly set (title=84, labels=54, ticks=48). All
          text perfectly readable.
      - id: VQ-02
        name: No Overlap
        score: 6
        max: 6
        passed: true
        comment: No overlapping text elements. Median labels, category labels, and
          title are well-separated.
      - id: VQ-03
        name: Element Visibility
        score: 4
        max: 6
        passed: false
        comment: Rain dots are well-sized but box plots are thin and hard to distinguish.
          Gray outlined boxes blend into background.
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 4
        passed: true
        comment: Blue, yellow, green palette is colorblind-safe with good luminance
          variation.
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 4
        passed: true
        comment: Plot fills ~65-70% of canvas with balanced margins.
      - id: VQ-06
        name: Axis Labels & Title
        score: 2
        max: 2
        passed: true
        comment: Reaction Time (ms) with units on x-axis, Treatment Group on y-axis.
    design_excellence:
      score: 15
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 6
        max: 8
        passed: false
        comment: Custom colorblind-safe palette, clean styling. Horizontal stroke
          lines through each category center detract slightly from polish.
      - id: DE-02
        name: Visual Refinement
        score: 4
        max: 6
        passed: false
        comment: Subtle dashed grid lines, clean background. Baseline stroke lines
          spanning each category width are a visual distraction.
      - id: DE-03
        name: Data Storytelling
        score: 5
        max: 6
        passed: true
        comment: Strong storytelling with median annotations and '100 ms faster' callout
          box with connecting arrow.
    spec_compliance:
      score: 14
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: Correct raincloud plot with half-violin, jittered points, and box
          plot. Horizontal orientation.
      - id: SC-02
        name: Required Features
        score: 3
        max: 4
        passed: false
        comment: All major features present. Rain point transparency is 0.80 rather
          than spec's recommended 0.5-0.7.
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: Categories on y-axis, continuous values on x-axis. Correct horizontal
          orientation.
      - id: SC-04
        name: Title Format
        score: 3
        max: 3
        passed: true
        comment: 'Correct format: raincloud-basic · pygal · pyplots.ai. Legend appropriately
          hidden.'
    data_quality:
      score: 15
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 6
        max: 6
        passed: true
        comment: Three groups with distinct means, different spreads, and realistic
          outliers.
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 5
        passed: true
        comment: Reaction times for control vs treatment groups — neutral scientific
          scenario.
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 4
        passed: true
        comment: Reaction times of 180-680 ms are realistic for human response studies.
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 2
        max: 3
        passed: false
        comment: Includes helper functions for SVG coordinate mapping. Understandable
          but breaks pure KISS.
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: np.random.seed(42) set at top plus per-group seeds for jitter.
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: 'All imports used: cairosvg, numpy, pygal, Style.'
      - id: CQ-04
        name: Code Elegance
        score: 1
        max: 2
        passed: false
        comment: SVG injection is creative but adds complexity. Box plot path construction
          is verbose.
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves plot.png, plot.svg, plot.html. No deprecated functions.
    library_mastery:
      score: 5
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 3
        max: 5
        passed: false
        comment: Uses pygal.XY with fill/stroke, custom Style. Relies heavily on manual
          calculations for KDE and box plot.
      - id: LM-02
        name: Distinctive Features
        score: 2
        max: 5
        passed: false
        comment: SVG post-processing of pygal output is a distinctive pattern, but
          most visualization logic is manual.
  verdict: REJECTED
