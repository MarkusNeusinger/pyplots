library: plotly
specification_id: histogram-2d
created: '2025-12-25T20:10:41Z'
updated: '2025-12-25T20:19:42Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20510277976
issue: 2012
python_version: 3.13.11
library_version: 6.5.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/histogram-2d/plotly/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/histogram-2d/plotly/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/histogram-2d/plotly/plot.html
quality_score: 91
review:
  strengths:
  - Excellent implementation of marginal histograms using make_subplots with shared_xaxes/shared_yaxes
    for proper alignment
  - Viridis colormap provides clear density visualization that is colorblind-accessible
  - Realistic financial returns context with appropriate correlation structure (0.7)
  - Good use of Plotly Histogram2d with proper bin configuration (40x40)
  - Both PNG and interactive HTML outputs generated
  - Clean code structure following KISS principles
  - Proper font sizing for 4800x2700 output
  weaknesses:
  - Colorbar positioning creates slight visual imbalance with the marginal histogram
    on the right
  - No grid lines on marginal histograms
  image_description: The plot displays a 2D histogram heatmap showing the joint distribution
    of two correlated stock returns (Stock A vs Stock B). The main visualization uses
    the Viridis colormap (dark purple for low counts transitioning through blue, green
    to yellow for high counts ~70). A clear positive correlation pattern is visible
    as an elongated diagonal density from lower-left to upper-right centered near
    (0, 0). Marginal 1D histograms in blue (#306998) appear at the top (X distribution)
    and right side (Y distribution), showing bell-curve shaped distributions. The
    title "histogram-2d · plotly · pyplots.ai" is centered at the top. Axis labels
    show "Stock A Daily Return (%)" and "Stock B Daily Return (%)" with values ranging
    from approximately -3 to 3. A colorbar labeled "Count" appears on the right side.
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 32pt, axis labels at 22pt, tick fonts at 18pt - all clearly
          readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements anywhere
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: 40x40 bins provide excellent resolution for 5000 points, density
          pattern clearly visible
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Viridis colormap is perceptually uniform and colorblind-safe
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 5
        passed: true
        comment: Good use of subplots with marginal histograms, but colorbar positioning
          creates slight imbalance
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: 'Descriptive labels with units: "Stock A Daily Return (%)"'
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: No grid visible on the main 2D histogram (though this is acceptable
          for heatmaps, the marginal histograms also lack subtle grid lines)
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct 2D histogram heatmap
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: X/Y continuous values correctly mapped
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Colorbar present, Viridis colormap used, marginal histograms included
          (optional feature implemented)
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible within axes
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Colorbar correctly labeled "Count"
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: "histogram-2d · plotly · pyplots.ai"'
    data_quality:
      score: 20
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: Shows correlation structure, density variation, demonstrates where
          scatter plots become unreadable (5000 points)
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Financial returns scenario is real-world applicable, matches spec
          applications
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Daily returns in ±3% range with 0.7 correlation is realistic for
          correlated stocks
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear flow: imports → data → plot → save, no functions/classes'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) is set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only numpy, plotly.graph_objects, and make_subplots used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Plotly API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 5
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 5
        max: 5
        passed: true
        comment: Excellent use of make_subplots with shared axes, Histogram2d trace,
          and interactive HTML export
  verdict: APPROVED
