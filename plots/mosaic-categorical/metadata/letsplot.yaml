library: letsplot
specification_id: mosaic-categorical
created: '2026-01-11T00:18:55Z'
updated: '2026-01-11T00:23:31Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20886562618
issue: 3650
python_version: 3.13.11
library_version: 4.8.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/mosaic-categorical/letsplot/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/mosaic-categorical/letsplot/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/mosaic-categorical/letsplot/plot.html
quality_score: 91
review:
  strengths:
  - Excellent implementation of mosaic plot using geom_rect with proper proportional
    sizing
  - Clear visualization of the association between passenger class and survival rate
  - Well-chosen color scheme (Python Blue/Yellow) with good contrast and accessibility
  - Frequency labels inside rectangles enhance data communication
  - Proper title format and descriptive axis labels
  weaknesses:
  - Legend positioned slightly far from the main plot area
  - Could leverage lets-plot interactive features (hover tooltips) since HTML export
    is already generated
  - Minor visual gap inconsistency between horizontal segments
  image_description: 'The plot displays a mosaic chart visualizing Titanic-like survival
    data cross-tabulated by passenger class and survival status. Four vertical columns
    represent First Class, Second Class, Third Class, and Crew, with widths proportional
    to the total count of passengers in each class. Each column is divided into two
    stacked rectangles: blue (Python Blue #306998) for "Survived" and yellow (Python
    Yellow #FFD43B) for "Did Not Survive". The heights within each column represent
    the conditional proportions of survival. White frequency labels are displayed
    in each rectangle (202, 123, 118, 167, 178, 528, 212, 673). The title reads "mosaic-categorical
    · letsplot · pyplots.ai" at the top. The x-axis is labeled "Passenger Class (width
    proportional to count)" and the y-axis is labeled "Survival Rate (%)". A legend
    on the right identifies the two survival status categories. The grid is hidden
    for a clean appearance.'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title, axis labels, tick labels, and frequency annotations are all
          clearly readable at full size
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements; all labels and annotations are well-spaced
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Rectangles are well-sized and clearly visible; small deduction for
          minor gaps between segments
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue and yellow provide excellent contrast and are colorblind-safe
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good use of canvas space; legend positioned well on the right
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Descriptive labels with context (width proportional to count, Survival
          Rate %)
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Grid is removed (good), but legend could be positioned closer to
          the plot
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct mosaic plot with rectangles proportional to cell frequencies
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: category_1 (class) determines column width, category_2 (survival)
          determines segment height
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Shows proportional widths, conditional heights, frequency labels,
          gap spacing
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible within 0-100% range on both axes
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly identifies Survived and Did Not Survive
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Uses correct format mosaic-categorical · letsplot · pyplots.ai
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows clear association pattern (higher class = higher survival);
          demonstrates varying column widths and segment heights well
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Titanic survival data is a classic, well-known dataset for demonstrating
          categorical associations
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Frequencies and proportions are realistic for Titanic data
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Clean imports → data → plot → save structure without functions/classes
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 3
        passed: true
        comment: Deterministic data (hardcoded frequencies), no random seed needed
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current lets-plot API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Good use of ggplot grammar with geom_rect and geom_text; could have
          used more lets-plot specific features like interactive tooltips
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - manual-ticks
  - html-export
  patterns:
  - iteration-over-groups
  dataprep: []
  styling:
  - minimal-chrome
  - edge-highlighting
