library: bokeh
specification_id: line-annotated-events
created: '2025-12-31T10:56:13Z'
updated: '2025-12-31T11:02:06Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20617491118
issue: 2997
python_version: 3.13.11
library_version: 3.8.1
preview_url: https://storage.googleapis.com/pyplots-images/plots/line-annotated-events/bokeh/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/line-annotated-events/bokeh/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/line-annotated-events/bokeh/plot.html
quality_score: 91
review:
  strengths:
  - Excellent spec compliance with all required features (vertical lines, event labels,
    distinct styling)
  - Clean alternating height pattern for event labels prevents text overlap
  - Good color scheme with Python blue and yellow that is colorblind-safe
  - Realistic tech product scenario with meaningful event labels
  - Proper use of Bokeh Span and Label models for annotations
  - Dual output (PNG + HTML) showcases Bokeh capabilities
  weaknesses:
  - Event labels at 16pt are slightly small compared to other text elements at 4800x2700
    canvas size
  - Legend is positioned far from the data in bottom-right corner
  - HTML output could leverage Bokeh hover tools for enhanced interactivity
  image_description: 'The plot displays a time series line chart showing "Active Users
    (thousands)" over the course of 2024 (January 2024 to January 2025). The main
    data line is blue (#306998) with a line width of 4, showing a clear upward trend
    from ~100 to ~185 with realistic noise and subtle seasonal variation. Five vertical
    dashed yellow (#FFD43B) lines mark important events at different dates: "Product
    Launch" (Feb 15), "Feature Update" (May 1), "Server Upgrade" (Jul 20), "API v2
    Release" (Sep 10), and "Mobile App Launch" (Nov 25). Event labels are positioned
    at alternating heights (0.92 and 0.84) to avoid overlap. The title "line-annotated-events
    · bokeh · pyplots.ai" appears at the top left. Axis labels show "Date" on x-axis
    and "Active Users (thousands)" on y-axis. A legend showing "Daily Active Users"
    is positioned in the bottom right with a semi-transparent background. The background
    is a subtle off-white (#fafafa) with dashed grid lines at 0.3 alpha.'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title 28pt, axis labels 22pt, tick labels 18pt - all clearly readable,
          event labels at 16pt are slightly small but still legible
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text; alternating event label heights prevent collisions
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Line width 4 is good; vertical event lines are clearly visible with
          dashed style
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue/yellow color scheme is colorblind-safe; good contrast
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good canvas utilization; legend position could be better (isolated
          in corner with significant gap from data)
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: '"Active Users (thousands)" includes units; "Date" is descriptive'
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: true
        comment: Grid is subtle (alpha 0.3, dashed), but legend is far from the main
          data area
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: 'Correct: line plot with event annotations'
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Date on x-axis (datetime), values on y-axis (numeric)
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Has vertical lines (Span), event markers, text labels, distinct colors
          for events vs data
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible, axes auto-scaled appropriately
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: '"Daily Active Users" correctly describes the line'
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: "line-annotated-events · bokeh · pyplots.ai"'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows upward trend, noise, seasonal variation, 5 distinct events
          with varied timing; could show events correlating with data changes
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Tech product metrics scenario is realistic and neutral (daily active
          users with product milestones)
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: User counts in thousands (100-185k) are realistic; 365 data points
          appropriate
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Clean structure: imports → data → source → figure → styling → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) is set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used (numpy, pandas, bokeh components)
      - id: CQ-04
        name: No Deprecated API
        score: 0
        max: 1
        passed: true
        comment: Using strict=True in zip is good Python, but could avoid it for broader
          compatibility
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 3
        max: 5
        passed: true
        comment: Uses Bokeh-specific Span and Label models, ColumnDataSource, and
          exports both PNG and HTML; could leverage hover tools or additional interactivity
          in HTML output
  verdict: APPROVED
