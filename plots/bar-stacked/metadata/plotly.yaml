library: plotly
specification_id: bar-stacked
created: '2025-12-26T10:04:11Z'
updated: '2025-12-26T10:08:51Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20520476849
issue: 1947
python_version: 3.13.11
library_version: 6.5.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/bar-stacked/plotly/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/bar-stacked/plotly/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/bar-stacked/plotly/plot.html
quality_score: 97
review:
  strengths:
  - Excellent use of annotations for total values above each stack
  - Clean data labels inside each bar segment with appropriate text colors (white
    on dark, dark on light)
  - Well-chosen color palette with good visual distinction between categories
  - Proper use of Plotly stacking mode and bar gap for visual clarity
  - HTML export included for interactivity
  weaknesses:
  - Legend horizontal positioning at top takes vertical space; could use right-side
    vertical legend
  - Yellow and coral colors may be slightly challenging for some colorblind users
  image_description: 'The plot displays a stacked bar chart showing quarterly revenue
    (Q1-Q4 2024) for four product categories: Software (dark blue at bottom), Hardware
    (yellow), Services (teal), and Support (coral at top). Each bar segment contains
    its value (e.g., 120, 80, 45, 25 for Q1). Total revenue annotations appear above
    each stack ($270K, $305K, $350K, $390K) showing clear growth. The title "bar-stacked
    · plotly · pyplots.ai" is centered at the top with a horizontal legend beneath
    it. Y-axis shows "Revenue (Thousands USD)" and x-axis shows "Quarter". Clean white
    background with subtle gridlines.'
  criteria_checklist:
    visual_quality:
      score: 38
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: all text perfectly readable at full size
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: no overlapping text elements
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: bar segments well-sized with clear data labels
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 5
        passed: true
        comment: distinct colors, minor yellow/coral concern for colorblind
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: excellent proportions and margins
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: descriptive with units "Revenue (Thousands USD)"
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: true
        comment: grid subtle, horizontal legend functional but takes space
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: correct stacked bar chart
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: categories on x-axis, components stacked correctly
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: distinct colors, legend, total labels, consistent ordering, spacing
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: all data visible
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: labels match data series
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: uses correct {spec-id} · {library} · pyplots.ai format
    data_quality:
      score: 20
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: shows growth pattern, varying components, part-to-whole relationships
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: plausible quarterly revenue by product category
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: realistic business revenue values in thousands USD
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: clean imports → data → plot → save flow
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 3
        passed: true
        comment: deterministic data, no random seed needed but could be explicit
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: only plotly.graph_objects used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: modern Plotly API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: saves as plot.png
    library_features:
      score: 5
      max: 5
      items: []
  verdict: APPROVED
