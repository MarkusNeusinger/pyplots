library: bokeh
specification_id: campbell-basic
created: '2026-02-15T21:10:18Z'
updated: '2026-02-15T21:38:58Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 22043026932
issue: 4241
python_version: 3.14.3
library_version: 3.8.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/bokeh/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/bokeh/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/bokeh/plot.html
quality_score: 95
review:
  strengths:
  - 'Excellent data storytelling: operating range shading, danger zone boxes, and
    warning annotation guide the viewer to the engineering insight'
  - 'Comprehensive spec implementation: all 5 modes, 3 EO lines, critical markers
    with sign-change interpolation for accurate intersection finding'
  - 'Strong visual hierarchy: bold mode curves (width 4) vs subtle EO lines (width
    2, alpha 0.6) vs prominent critical markers (size 28, orange diamonds)'
  - Effective use of Bokeh-distinctive HoverTool with enriched tooltips showing intersection
    details and operating range status
  - Clean deterministic code with appropriate complexity for the visualization task
  weaknesses:
  - Legend entries are somewhat small and dense - could benefit from slightly larger
    glyph sizes or more spacing for improved readability at full resolution
  - Could leverage additional Bokeh-specific features such as CustomJS callbacks or
    linked selections to maximize library mastery score
  image_description: 'The plot displays a Campbell Diagram titled "campbell-basic
    · bokeh · pyplots.ai" on a light gray (#FAFAFA) background. The X-axis shows "Rotational
    Speed (RPM)" from 0 to 6000, and the Y-axis shows "Frequency (Hz)" from 0 to 200.
    Five natural frequency mode curves are drawn in distinct colors: 1st Bending in
    blue (#306998), 2nd Bending in amber/orange (#E8A838), 1st Torsional in red (#C44E52),
    Axial in purple (#7A68A6), and 3rd Bending in teal (#48A9A6). Each curve shows
    realistic variation with speed — some increase, some decrease, some oscillate.
    Three gray dashed engine order lines (1x, 2x, 3x) radiate from the origin with
    increasing slopes, labeled at the right edge. Orange diamond markers appear at
    intersections of EO lines with mode curves (critical speeds). A light blue shaded
    region spans 3000–5000 RPM marking the operating range, with dashed blue boundary
    lines and a bold italic label "Operating Range (3000–5000 RPM)" near the bottom.
    Small reddish boxes highlight danger zones around critical speeds within the operating
    range. A warning annotation "⚠ 2x × 1st Torsional @ 3000 RPM" calls out the most
    critical intersection. The legend in the top-left lists all mode curves, EO lines,
    and critical speed markers with correct styling.'
  criteria_checklist:
    visual_quality:
      score: 29
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 8
        passed: true
        comment: 'All font sizes explicitly set: title 28pt, axis labels 22pt, ticks
          18pt, legend 16pt. All perfectly readable.'
      - id: VQ-02
        name: No Overlap
        score: 5
        max: 6
        passed: true
        comment: No significant overlap. Legend entries somewhat small/dense but readable.
      - id: VQ-03
        name: Element Visibility
        score: 6
        max: 6
        passed: true
        comment: Mode lines width 4, EO lines width 2 with alpha 0.6, critical markers
          size 28. Well-adapted to data density.
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 4
        passed: true
        comment: Blue, amber, red, purple, teal palette is perceptually distinct and
          colorblind-safe.
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 4
        passed: true
        comment: Plot fills canvas well at 4800x2700. Balanced margins.
      - id: VQ-06
        name: Axis Labels & Title
        score: 2
        max: 2
        passed: true
        comment: 'Descriptive with units: Rotational Speed (RPM), Frequency (Hz).'
    design_excellence:
      score: 17
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 7
        max: 8
        passed: true
        comment: Custom palette with intentional visual hierarchy. Near publication
          quality.
      - id: DE-02
        name: Visual Refinement
        score: 5
        max: 6
        passed: true
        comment: Subtle grid, removed outline, custom background, hidden minor ticks,
          styled axes.
      - id: DE-03
        name: Data Storytelling
        score: 5
        max: 6
        passed: true
        comment: Operating range shading, danger zones, warning annotation guide viewer
          to engineering insight.
    spec_compliance:
      score: 15
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: Correct Campbell Diagram with natural frequency curves overlaid on
          engine order lines.
      - id: SC-02
        name: Required Features
        score: 4
        max: 4
        passed: true
        comment: 'All spec features present: 5 modes, 3 EO lines, critical markers,
          labels, legend, shaded zones.'
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: X=RPM, Y=Hz correctly mapped. All data visible.
      - id: SC-04
        name: Title & Legend
        score: 3
        max: 3
        passed: true
        comment: Title format correct. Legend labels match data accurately.
    data_quality:
      score: 15
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 6
        max: 6
        passed: true
        comment: 5 modes with different behaviors, 3 EO lines, multiple critical intersections
          inside and outside operating range.
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 5
        passed: true
        comment: Real rotordynamic scenario with named mode shapes. Realistic speed
          range for rotating machinery.
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 4
        passed: true
        comment: Natural frequencies 25-190 Hz, speed 0-6000 RPM. Realistic gyroscopic
          effects.
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Imports -> Data -> Plot -> Save. No functions/classes.
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: Fully deterministic data computed from np.linspace.
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports used.
      - id: CQ-04
        name: Code Elegance
        score: 2
        max: 2
        passed: true
        comment: Clean, Pythonic. Appropriate complexity.
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png via export_png. No deprecated functions.
    library_features:
      score: 9
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 5
        max: 5
        passed: true
        comment: Expert use of ColumnDataSource, figure, Legend, Label, BoxAnnotation,
          Span, HoverTool.
      - id: LM-02
        name: Distinctive Features
        score: 4
        max: 5
        passed: true
        comment: HoverTool with enriched tooltips, BoxAnnotation for shaded regions,
          dual PNG+HTML output.
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - custom-legend
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  - columndatasource
  dataprep:
  - interpolation
  styling:
  - grid-styling
  - alpha-blending
