library: bokeh
specification_id: contour-3d
created: '2026-01-07T20:25:01Z'
updated: '2026-01-07T20:32:42Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20795211097
issue: 3230
python_version: 3.13.11
library_version: 3.8.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/contour-3d/bokeh/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/contour-3d/bokeh/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/contour-3d/bokeh/plot.html
quality_score: 88
review:
  strengths:
  - Impressive 3D visualization using 2D Bokeh via manual isometric projection
  - Proper painter's algorithm for depth sorting of surface quads
  - Excellent use of contourpy for contour line generation
  - Base plane contour projections as reference (matches spec suggestion)
  - Well-implemented custom 3D axes with arrows
  - Dual output (PNG + HTML) for flexibility
  weaknesses:
  - Layout has excessive empty space below the surface, reducing canvas utilization
  - Helper function violates KISS principle (should be inline calculation)
  - Axis labels are generic (X, Y, Z) rather than descriptive with units
  - Title appears smaller in output compared to the 48pt specification
  image_description: The plot displays a 3D contour surface rendered using isometric
    projection. The surface shows two Gaussian peaks - a primary peak near the center
    and a secondary smaller peak offset to the side. The surface is colored using
    the Viridis colormap (purple at low values through green and yellow at high values
    ~1.0). Dark contour lines are drawn on the surface at regular intervals, clearly
    delineating elevation levels. The base plane shows dashed contour projections
    in matching Viridis colors providing reference. Custom 3D axes are drawn with
    X, Y, and Z labels with arrows. A vertical colorbar on the right shows "Height
    (Z)" ranging from approximately 0 to 1. The title "contour-3d · bokeh · pyplots.ai"
    appears at top left. The background is a subtle light gray.
  criteria_checklist:
    visual_quality:
      score: 35
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title and axis labels are readable, colorbar text slightly small
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Surface and contours clearly visible, quads slightly dense
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Viridis is colorblind-safe
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 5
        passed: true
        comment: Plot is well-centered but has significant empty space below
      - id: VQ-06
        name: Axis Labels
        score: 1
        max: 2
        passed: true
        comment: Axis labels (X, Y, Z) are generic without descriptive names or units
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Colorbar well-placed, subtle background grid
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct 3D contour plot
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: X/Y grid with Z height correctly mapped
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Has surface, contour lines on surface, base plane projections, colorbar;
          rotation not possible in static PNG
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible within axes
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Colorbar accurately shows height scale
      - id: SC-06
        name: Title Format
        score: 1
        max: 2
        passed: true
        comment: Uses correct format but title font appears smaller than recommended
          48pt in output
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows dual Gaussian peaks with varying contour densities, but could
          show more complex topology
      - id: DQ-02
        name: Realistic Context
        score: 6
        max: 7
        passed: true
        comment: Mathematical surface function, plausible but generic
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Values 0-1 are reasonable for normalized height
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 1
        max: 3
        passed: false
        comment: Uses helper function project_3d_to_2d instead of flat script
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Modern Bokeh API used
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png
    library_features:
      score: 4
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 4
        max: 5
        passed: true
        comment: Good use of Bokeh patches, ColorBar, Label annotations, and HTML
          export; however contourpy is external
  verdict: REJECTED
impl_tags:
  dependencies:
  - contourpy
  techniques:
  - 3d-projection
  - colorbar
  - patches
  - html-export
  patterns:
  - data-generation
  - matrix-construction
  - iteration-over-groups
  dataprep: []
  styling:
  - custom-colormap
  - alpha-blending
  - grid-styling
