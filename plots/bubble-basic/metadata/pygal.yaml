library: pygal
specification_id: bubble-basic
created: 2025-12-14 11:08:57+00:00
updated: '2026-02-16T20:50:44Z'
generated_by: claude-opus-4-6
workflow_run: 20207010176
issue: 755
python_version: 3.14.3
library_version: 3.1.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/bubble-basic/pygal/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/bubble-basic/pygal/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/bubble-basic/pygal/plot.html
quality_score: 77
impl_tags:
  dependencies: []
  techniques:
  - custom-legend
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep:
  - binning
  - normalization
  styling:
  - alpha-blending
  - grid-styling
review:
  strengths:
  - 'Effective dual encoding (color + size) creates a clear visual narrative: denser
    cities have longer commutes and less green space'
  - Colorblind-safe sequential palette with good perceptual ordering from purple through
    teal to gold
  - All font sizes explicitly configured for the 4800x2700 canvas ensuring excellent
    readability
  - Realistic city comparison scenario with plausible data ranges
  - 'Clean use of pygal-specific features: per-series dots_size, tooltip configuration,
    legend column layout'
  weaknesses:
  - Bubble sizes are binned into 5 discrete tiers rather than continuous area-scaled
    sizing, reducing the bubble chart effect
  - The binning loop is verbose and could be simplified with np.digitize
  - No true size legend showing the mapping from green space percentage to bubble
    diameter
  - Some whitespace at top-right of chart could be reduced with tighter margins
  improvements: []
  verdict: APPROVED
  image_description: 'The plot displays a bubble chart on a clean white/light gray
    background with the title "bubble-basic · pygal · pyplots.ai" at top. The x-axis
    shows "Population Density (people/km²)" ranging from ~2,000 to ~13,000 with comma-formatted
    labels. The y-axis shows "Avg Commute Time (min)" ranging from ~16 to ~34. Data
    is represented as 40 circular dots in 5 color-coded tiers corresponding to green
    space percentage: deep purple (≤15%), blue (~22%), teal (~30%), olive/sage (~38%),
    and gold (≥45%). Bubble sizes increase with green space percentage — smallest
    purple dots to largest gold dots. A clear positive correlation between population
    density and commute time is visible. Denser cities (right side) tend to have less
    green space (smaller, darker dots) while less dense cities (left side) show more
    green space (larger, warmer-colored dots). The legend at the bottom displays all
    5 tiers in a single row. Grid lines are subtle light gray. Transparency (alpha
    ~0.6) is applied, allowing overlapping bubbles to remain distinguishable.'
  criteria_checklist:
    visual_quality:
      score: 23
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 8
        passed: true
        comment: 'All font sizes explicitly set: title=32, label=22, major_label=20,
          legend=20. All text clearly readable.'
      - id: VQ-02
        name: No Overlap
        score: 6
        max: 6
        passed: true
        comment: No overlapping text elements. Legend cleanly arranged at bottom in
          5 columns.
      - id: VQ-03
        name: Element Visibility
        score: 5
        max: 6
        passed: false
        comment: 40 data points with dots_size 20-64 and alpha=0.6. Well-sized overall,
          but some nearby dots overlap slightly in dense regions.
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 4
        passed: true
        comment: Sequential palette (purple to blue to teal to sage to gold) is colorblind-safe
          with good contrast.
      - id: VQ-05
        name: Layout & Canvas
        score: 3
        max: 4
        passed: false
        comment: Plot fills ~65% of canvas. Minor wasted whitespace at top-right.
          Legend well-placed at bottom.
      - id: VQ-06
        name: Axis Labels & Title
        score: 2
        max: 2
        passed: true
        comment: Both axes have descriptive labels with units.
    design_excellence:
      score: 12
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 6
        max: 8
        passed: false
        comment: Thoughtful custom palette, clean backgrounds, intentional font hierarchy.
          Above defaults but not publication-level.
      - id: DE-02
        name: Visual Refinement
        score: 4
        max: 6
        passed: false
        comment: Subtle grid lines, clean plot background, neat legend arrangement.
          Some refinement but room for more polish.
      - id: DE-03
        name: Data Storytelling
        score: 4
        max: 6
        passed: false
        comment: Dual encoding (color + size) creates visual hierarchy. Denser cities
          cluster top-right with small dark dots, greener cities bottom-left with
          large warm dots.
    spec_compliance:
      score: 12
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: Bubble chart via pygal.XY with per-series dots_size. Correct approach
          for pygal.
      - id: SC-02
        name: Required Features
        score: 3
        max: 4
        passed: false
        comment: Transparency, size differentiation, color grouping present. Size
          legend approximated via tier labels rather than true size legend. Sizes
          are tier-based not area-scaled.
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: X=population density, Y=commute time, Size=green space. All correctly
          mapped.
      - id: SC-04
        name: Title & Legend
        score: 3
        max: 3
        passed: true
        comment: Title uses correct format. Legend labels are descriptive tier labels.
    data_quality:
      score: 13
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 5
        max: 6
        passed: false
        comment: Shows three-variable relationship with positive density/commute correlation
          and inverse green space trend. Binning into 5 tiers loses some continuous
          variation.
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 5
        passed: true
        comment: City comparison scenario with population density, commute time, green
          space percentage. Highly plausible.
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 4
        passed: true
        comment: Density 1500-14000/km2, commute 15-34 min, green space 5-50%. All
          realistic urban values.
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Clean Imports, Data, Plot, Save structure. No functions or classes.
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: np.random.seed(42) set.
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: numpy, pygal, Style — all used.
      - id: CQ-04
        name: Code Elegance
        score: 1
        max: 2
        passed: false
        comment: 5-tier binning loop is somewhat verbose but necessary for pygal.
          Could be simplified with np.digitize.
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves plot.png correctly.
    library_features:
      score: 8
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 4
        max: 5
        passed: false
        comment: Good use of pygal.XY, per-series dots_size, custom Style, tooltip
          config, legend layout options.
      - id: LM-02
        name: Distinctive Features
        score: 4
        max: 5
        passed: false
        comment: Per-series dots_size, tooltip_fancy_mode, legend_at_bottom_columns,
          value formatters are pygal-specific. Dual HTML+PNG output leverages SVG
          nature.
