library: altair
specification_id: pie-basic
created: '2025-12-23T00:35:02Z'
updated: '2026-02-14T14:47:33Z'
generated_by: claude-opus-4-6
workflow_run: 20447773724
issue: 0
python_version: 3.14.0
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/pie-basic/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/pie-basic/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/pie-basic/altair/plot.html
quality_score: 81
impl_tags:
  dependencies: []
  techniques:
  - layer-composition
  - html-export
  patterns: []
  dataprep: []
  styling:
  - edge-highlighting
review:
  strengths:
  - Excellent text legibility with all font sizes explicitly set
  - Idiomatic Altair usage with declarative encoding, layer composition, and proper
    theta encoding
  - Realistic cloud market share data with plausible, well-known values
  - Colorblind-safe custom palette anchored with Python Blue
  - Polished slice styling with padAngle separation and cornerRadius
  weaknesses:
  - Missing exploded slice for emphasis as required by specification (Slightly explode
    the largest or smallest slice for emphasis)
  - Large whitespace gap between pie chart and bottom legend creates unbalanced layout
    — pie should be more centered or legend closer
  - 'No data storytelling: no annotations highlighting AWS as market leader or calling
    out that Others collectively ranks second'
  - Small slices (Alibaba 4%, Oracle 3%) are very thin and could benefit from the
    exploded slice treatment for visibility
  image_description: 'The plot displays a pie chart titled "pie-basic · altair · pyplots.ai"
    with the subtitle "Global Cloud Infrastructure Market Share". Six slices represent
    cloud providers: AWS (31%, dark blue/Python Blue), Azure (24%, golden yellow),
    Google Cloud (11%, teal), Alibaba (4%, coral/salmon), Oracle (3%, light teal),
    and Others (27%, gray). Percentage labels are positioned outside each slice in
    bold text at radius 380. White stroke lines (2.5px) separate the slices with subtle
    corner radius (3px) and pad angle (0.02) for visual separation. A horizontal legend
    at the bottom lists all six providers with colored circles, titled "Provider".
    The pie occupies the upper portion of the square canvas (1200x1200 logical, 3600x3600
    rendered) with significant whitespace between the chart and the bottom legend,
    creating a top-heavy layout.'
  criteria_checklist:
    visual_quality:
      score: 26
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 8
        passed: true
        comment: 'All font sizes explicitly set: title 28pt, subtitle 20pt, legend
          title 20pt, legend labels 18pt, text labels 21pt'
      - id: VQ-02
        name: No Overlap
        score: 6
        max: 6
        passed: true
        comment: No overlapping text. Percentage labels positioned outside slices
          with adequate spacing
      - id: VQ-03
        name: Element Visibility
        score: 5
        max: 6
        passed: false
        comment: Slices visible but Alibaba (4%) and Oracle (3%) are very thin. No
          exploded slice for emphasis
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 4
        passed: true
        comment: Colorblind-safe palette with blue, yellow, teal, coral, light teal,
          gray
      - id: VQ-05
        name: Layout Balance
        score: 2
        max: 4
        passed: false
        comment: Pie in upper portion with large whitespace gap to bottom legend.
          Top-heavy layout
      - id: VQ-06
        name: Axis Labels & Title
        score: 1
        max: 2
        passed: false
        comment: Title and subtitle descriptive. No axes on pie chart; subtitle provides
          context
    design_excellence:
      score: 11
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 5
        max: 8
        passed: false
        comment: Custom palette, padAngle, cornerRadius, white strokes. Above defaults
          but not publication-exceptional
      - id: DE-02
        name: Visual Refinement
        score: 4
        max: 6
        passed: false
        comment: Clean view with no frame, horizontal legend, white separators. Some
          refinement visible
      - id: DE-03
        name: Data Storytelling
        score: 2
        max: 6
        passed: false
        comment: Percentages displayed but no annotations highlighting insights. No
          storytelling
    spec_compliance:
      score: 13
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: Correct pie chart type with proportional slices
      - id: SC-02
        name: Required Features
        score: 2
        max: 4
        passed: false
        comment: Missing exploded slice for emphasis as required by spec
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: Categories to slices, values to angles via theta encoding
      - id: SC-04
        name: Title & Legend
        score: 3
        max: 3
        passed: true
        comment: Title format correct, legend labels match data
    data_quality:
      score: 14
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 5
        max: 6
        passed: false
        comment: Six categories with good range (3% to 31%). No exploded slice to
          show emphasis variation
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 5
        passed: true
        comment: Cloud infrastructure market share is a real, neutral, well-known
          scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 4
        passed: true
        comment: Values sum to 100%, proportions approximate real-world cloud market
          shares
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Imports → data → processing → chart → save. No functions/classes
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: Deterministic hardcoded data, no randomness
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only altair and pandas imported, both used
      - id: CQ-04
        name: Code Elegance
        score: 1
        max: 2
        passed: false
        comment: Clean but base chart + layering pattern slightly verbose for simple
          pie
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves plot.png and plot.html. No deprecated functions
    library_mastery:
      score: 8
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 5
        max: 5
        passed: true
        comment: Declarative encoding, theta with stack=True, alt.layer, mark_arc,
          configure_view. Expertly idiomatic
      - id: LM-02
        name: Distinctive Features
        score: 3
        max: 5
        passed: false
        comment: Uses padAngle, cornerRadius, layer composition, HTML export. Altair-specific
          but standard for pie charts
  verdict: REJECTED
