library: highcharts
specification_id: hierarchy-toggle-view
created: '2026-01-11T09:31:11Z'
updated: '2026-01-11T09:35:17Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20892895217
issue: 3697
python_version: 3.13.11
library_version: unknown
preview_url: https://storage.googleapis.com/pyplots-images/plots/hierarchy-toggle-view/highcharts/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/hierarchy-toggle-view/highcharts/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/hierarchy-toggle-view/highcharts/plot.html
quality_score: 91
review:
  strengths:
  - Excellent interactive toggle implementation with smooth button styling
  - Consistent color scheme across both views using colorblind-safe palette
  - Rich hierarchical data with realistic organizational structure
  - Proper use of Highcharts-specific features (treemap/sunburst modules, drilldown)
  - Well-structured HTML with modern CSS styling for toggle buttons
  weaknesses:
  - Some smaller leaf nodes have text that could be slightly larger for perfect readability
  image_description: |-
    The plot displays a treemap visualization of TechCorp's organizational structure showing employee headcount distribution. The main title "TechCorp Organizational Structure · Employee Headcount" appears at the top, followed by a toggle button with "Treemap" (active, blue) and "Sunburst" (inactive, gray) options. Below is the spec title "hierarchy-toggle-view · highcharts · pyplots.ai".

    The treemap uses a squarified layout with nested rectangles representing the company hierarchy. Four main departments are color-coded:
    - Engineering (blue #306998): Contains Backend, Frontend, DevOps, and QA teams with their sub-teams
    - Sales (yellow #FFD43B): Contains Enterprise (North America, Europe, Asia Pacific), SMB, and Partners divisions
    - Operations (purple #9467BD): Contains Support (Tier 1, 2, 3) and Logistics teams
    - Human Resources (cyan #17BECF): Contains Recruiting and Training teams

    Text labels are clearly visible on most rectangles with white text outline for contrast. The layout fills the canvas well with white borders separating nested levels.
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: All text readable, larger rectangles have clear labels, some smaller
          rectangles have slightly cramped text
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No text overlap, labels fit within rectangles
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: All rectangles clearly visible, white borders provide good separation
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Uses colorblind-safe palette (blue, yellow, purple, cyan)
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Treemap fills canvas well with balanced proportions
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: false
        comment: N/A - treemaps do not have traditional axes
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Clean presentation, colors self-explanatory via grouping
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct treemap visualization with toggle to sunburst
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Hierarchy correctly mapped, parent-child relationships preserved
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Toggle button present, consistent colors, drilldown enabled; animation
          on toggle works
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All hierarchy levels visible (4 levels as specified)
      - id: SC-05
        name: Legend Accuracy
        score: 1
        max: 2
        passed: false
        comment: No explicit legend, but colors are consistent and self-documenting
          via hierarchy
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Uses hierarchy-toggle-view · highcharts · pyplots.ai format
    data_quality:
      score: 19
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows 4-level hierarchy with 43 nodes, demonstrates both branch and
          leaf nodes
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Company organizational structure is a perfect real-world use case
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Employee headcount values are realistic (4-35 range)
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear flow: data to HTML generation to screenshot'
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 3
        passed: true
        comment: Deterministic data (no random), but relies on external CDN downloads
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Highcharts API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves both plot.png and plot.html correctly
    library_features:
      score: 5
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 5
        max: 5
        passed: true
        comment: Uses Highcharts treemap and sunburst modules, drilldown capability,
          animated transitions, interactive toggle
  verdict: APPROVED
impl_tags:
  dependencies:
  - selenium
  techniques:
  - html-export
  - hover-tooltips
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - edge-highlighting
