library: bokeh
specification_id: windbarb-basic
created: '2026-01-11T20:53:01Z'
updated: '2026-01-11T20:55:56Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20901644037
issue: 3694
python_version: 3.13.11
library_version: 3.8.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/windbarb-basic/bokeh/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/windbarb-basic/bokeh/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/windbarb-basic/bokeh/plot.html
quality_score: 91
review:
  strengths:
  - Excellent implementation of meteorological wind barb notation with correct geometry
  - Proper handling of calm wind indicator as open circle
  - Good use of Bokeh multi_line and patches for efficient rendering
  - Clear legend explaining barb notation
  - Well-sized canvas (4800x2700) with appropriate font sizes
  weaknesses:
  - Legend annotation text at bottom is quite small relative to the large canvas
  - Data context uses generic grid units rather than realistic meteorological scenario
    (lat/lon, station names)
  - Could leverage Bokeh interactive features (hover tooltips showing wind speed/direction)
  image_description: 'The plot displays a 6x5 grid (30 points) of wind barbs on a
    clean white background with subtle dashed gridlines. Each wind barb consists of
    a blue staff (#306998) pointing in the direction from which the wind blows, with
    various combinations of half barbs (5 knots), full barbs (10 knots), and triangular
    pennants (50 knots) attached to indicate wind speed. Yellow observation points
    (#FFD43B) with blue borders mark each grid location. One calm wind indicator (open
    circle with no staff) is visible at approximately (10, 4). The title "windbarb-basic
    · bokeh · pyplots.ai" appears in the top-left corner. X-axis is labeled "X Position
    (grid units)" and Y-axis "Y Position (grid units)". A legend annotation at the
    bottom explains: "Half barb = 5 kt | Full barb = 10 kt | Pennant (flag) = 50 kt".
    The wind barbs show varied directions and speeds, demonstrating the full range
    of meteorological notation.'
  criteria_checklist:
    visual_quality:
      score: 37
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 28pt, axis labels at 22pt, tick labels at 18pt - all clearly
          readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping elements; grid spacing prevents barb overlap
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Barbs are well-sized and visible; markers slightly small for canvas
          size
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue (#306998) with yellow accent is colorblind-safe
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Good canvas utilization with balanced margins
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Descriptive labels with units (grid units)
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Legend text at bottom is very small/hard to read at full resolution
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct wind barb plot with proper meteorological notation
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: X/Y coordinates correctly mapped to grid positions
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: 'All features present: half barbs, full barbs, pennants, calm indicator'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible within axis range
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend annotation correctly explains notation
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: windbarb-basic · bokeh · pyplots.ai'
    data_quality:
      score: 17
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows varied wind speeds and directions; could show more extreme
          pennant cases
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 7
        passed: true
        comment: Generic grid units rather than realistic lat/lon or station names
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Wind speeds in realistic range (0-50+ knots)
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear structure: imports → data → geometry calculation → plot →
          save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports used (numpy, bokeh modules)
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Bokeh API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves as plot.png (correct but minor deduction for code complexity)
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses ColumnDataSource, multi_line, patches correctly but no interactive
          features like hover tooltips
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - patches
  - annotations
  patterns:
  - data-generation
  - columndatasource
  - iteration-over-groups
  dataprep: []
  styling:
  - grid-styling
