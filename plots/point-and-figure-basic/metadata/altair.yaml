library: altair
specification_id: point-and-figure-basic
created: '2026-01-15T21:39:55Z'
updated: '2026-01-15T21:42:45Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21047207442
issue: 3755
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/point-and-figure-basic/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/point-and-figure-basic/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/point-and-figure-basic/altair/plot.html
quality_score: 91
review:
  strengths:
  - Excellent implementation of the P&F algorithm with proper box size and reversal
    logic
  - Clear visual distinction between bullish (X) and bearish (O) movements using blue
    and red colors
  - Good use of Altair declarative encoding with proper axis formatting (dollar signs)
  - Helpful tooltips for exploring individual data points
  - Clean KISS code structure with proper reproducibility (seed=42)
  - Informative subtitle showing chart parameters
  weaknesses:
  - Missing interactive() method which is a distinctive Altair feature for pan/zoom
  - Legend shows filled circles instead of X/O symbols (minor visual inconsistency)
  - Support/resistance trend lines mentioned in spec are not implemented
  image_description: 'The plot displays a Point and Figure chart showing price movements
    from approximately $80 to $114. The chart uses blue "X" characters for bullish
    (rising) columns and red "O" characters for bearish (falling) columns. The X-axis
    shows "Column (Reversals)" ranging from 0 to 12, and the Y-axis shows "Price ($)"
    with currency formatting. The title "point-and-figure-basic · altair · pyplots.ai"
    is prominently displayed at the top with a subtitle showing "Box Size: $2 | Reversal:
    3 boxes". A legend on the right side indicates blue for "bullish" and red for
    "bearish" directions. The grid is subtle with light gray lines. The chart shows
    alternating columns of X''s and O''s demonstrating price reversals over time,
    with the price generally trending upward from the initial ~$100 to around $104-$106
    by the end.'
  criteria_checklist:
    visual_quality:
      score: 38
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title, axis labels, and tick marks are all clearly readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text or symbols
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: X and O symbols are well-sized (fontSize=24) and clearly visible
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 5
        passed: true
        comment: Blue and red provide good contrast, though red-blue is better than
          red-green for colorblind users
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Good use of canvas space with well-balanced margins
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Price ($) and Column (Reversals) are descriptive
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: true
        comment: 'Grid is subtle (alpha=0.3), legend is well-placed; minor: legend
          shows filled circles instead of X/O symbols'
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct Point and Figure chart with X's and O's
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Columns on X-axis, price on Y-axis as per P&F convention
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: 'Has X''s for rising, O''s for falling, box size, reversal logic;
          missing: support/resistance trend lines mentioned in spec'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Full price range visible from $80 to $114
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly identifies bullish/bearish
      - id: SC-06
        name: Title Format
        score: 1
        max: 2
        passed: true
        comment: Correct format but docstring header differs slightly from spec-id
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows both X and O columns, multiple reversals; could benefit from
          clearer support/resistance demonstration
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Stock price data is a perfect realistic context for P&F charts
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Price range $80-$114 is realistic; $2 box size appropriate for this
          range
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear flow: imports → data → P&F algorithm → plot → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only altair, numpy, pandas imported
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Altair API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 2
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 2
        max: 5
        passed: false
        comment: Uses Altair's declarative grammar and tooltips, but misses interactive()
          feature which is a key Altair strength
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep:
  - time-series
  styling:
  - grid-styling
