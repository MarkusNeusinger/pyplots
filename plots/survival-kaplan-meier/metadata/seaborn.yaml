library: seaborn
specification_id: survival-kaplan-meier
created: '2025-12-29T22:48:27Z'
updated: '2025-12-29T22:57:27Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20584327715
issue: 0
python_version: 3.13.11
library_version: 0.13.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/survival-kaplan-meier/seaborn/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/survival-kaplan-meier/seaborn/plot_thumb.png
preview_html: null
quality_score: 91
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - custom-legend
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - alpha-blending
review:
  strengths:
  - Excellent Kaplan-Meier step function implementation with proper survival probability
    calculation
  - Clear visual separation between Treatment (blue) and Control (yellow) groups with
    colorblind-friendly palette
  - Correctly implemented 95% confidence intervals as shaded bands using Greenwood
    formula
  - Censored observations properly marked with vertical tick marks on the curves
  - 'Helpful median survival annotation box showing Treatment: 22.4 months vs Control:
    16.9 months'
  - Clean clinical trial scenario with realistic survival data (150 patients, 36-month
    follow-up)
  - Proper title format following pyplots.ai conventions
  weaknesses:
  - Code uses functions (kaplan_meier) which violates KISS principle - should be inline
    calculations
  - Does not use any seaborn-specific plotting functions (only sns.set_style) - relies
    entirely on matplotlib for actual plotting
  image_description: 'The plot displays two Kaplan-Meier survival curves comparing
    Treatment (dark blue) and Control (yellow/gold) groups over a 36-month follow-up
    period. Both curves start at 1.0 survival probability and step down over time,
    with the Treatment group showing better survival (ending around 0.4) compared
    to Control (ending around 0.25). Each curve has shaded confidence interval bands
    (blue for treatment, yellow for control). Vertical tick marks along the curves
    indicate censored observations. A horizontal dashed gray line at y=0.5 marks the
    median survival reference. An annotation box in the upper right shows median survival
    times: Treatment 22.4 months, Control 16.9 months. The legend is positioned in
    the lower left. Title follows the pyplots.ai format. Grid is subtle with dashed
    lines.'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title 24pt, axis labels 20pt, ticks 16pt, all perfectly readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text or elements
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Step curves with linewidth=3 clearly visible, tick marks sized appropriately
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue and yellow are colorblind-safe, excellent contrast
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Good canvas utilization, balanced margins
      - id: VQ-06
        name: Axis Labels
        score: 1
        max: 2
        passed: false
        comment: Y-axis missing units (should be "Survival Probability (proportion)"
          or similar)
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Subtle dashed grid at alpha 0.3, legend well-placed in lower left
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct Kaplan-Meier step function
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Time on X, survival probability on Y
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Step function, confidence intervals, censoring marks, group comparison,
          median annotation
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Full 0-36 month range shown, Y-axis 0-1.05
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Treatment/Control labels correct
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: '"survival-kaplan-meier · seaborn · pyplots.ai" correct'
    data_quality:
      score: 20
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: Shows declining survival, group differences, censoring, confidence
          widening over time
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Clinical trial with 150 patients, exponential survival model, appropriate
          censoring
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: 36-month follow-up, realistic survival proportions
    code_quality:
      score: 7
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 0
        max: 3
        passed: false
        comment: Uses function definition (kaplan_meier) instead of inline code
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Current API used
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 3
        max: 5
        passed: false
        comment: Only uses sns.set_style(), actual plotting done with matplotlib ax.step(),
          ax.fill_between(), ax.scatter()
  verdict: APPROVED
