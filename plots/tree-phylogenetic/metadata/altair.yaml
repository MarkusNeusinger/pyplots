library: altair
specification_id: tree-phylogenetic
created: '2025-12-31T13:53:39Z'
updated: '2025-12-31T14:01:14Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20620334905
issue: 3070
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/tree-phylogenetic/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/tree-phylogenetic/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/tree-phylogenetic/altair/plot.html
quality_score: 91
impl_tags:
  dependencies: []
  techniques:
  - layer-composition
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  dataprep: []
  styling: []
review:
  strengths:
  - Excellent visual clarity with proper text sizing and no overlap
  - Scientifically accurate primate phylogeny with realistic branch lengths
  - Good use of Altair layered composition for complex tree structure
  - Proper scale bar with units for interpreting evolutionary distances
  - Interactive tooltips enhance exploration of the tree
  - Colorblind-safe Python Blue/Yellow color scheme
  weaknesses:
  - Code uses helper functions instead of preferred flat KISS structure
  - Missing clade color-coding which was mentioned in specification notes
  - Internal nodes could be slightly larger for better visibility
  image_description: 'The plot displays a phylogenetic tree of primate species showing
    evolutionary relationships based on mitochondrial DNA divergence. The tree uses
    a rectangular (cladogram) layout with Python Blue (#306998) branches and small
    blue internal nodes. Leaf nodes are marked with Python Yellow (#FFD43B) circles
    with blue borders. Seven species are labeled: Olive Baboon, Rhesus Macaque, Gibbon,
    Orangutan, Bonobo, Chimpanzee, and Human. The x-axis shows "Evolutionary Distance
    (substitutions per site)" ranging from -0.02 to 0.46. A scale bar labeled "0.05
    subs/site" appears in the lower left. The title reads "Primate Evolution · tree-phylogenetic
    · altair · pyplots.ai" with a subtitle "Phylogenetic tree based on mitochondrial
    DNA divergence". The y-axis has no labels or ticks (appropriately hidden for a
    tree diagram).'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 28pt, labels at 20pt bold, all text clearly readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text, species labels well-spaced
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Branches at strokeWidth=4, nodes clearly visible, slight deduction
          for internal nodes being small
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue/yellow contrast is colorblind-safe, no red-green issues
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good canvas utilization, slight empty space on right side
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: X-axis has descriptive label with units
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: true
        comment: Grid visible but very subtle (good), no legend needed for this plot
          type
    spec_compliance:
      score: 24
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct phylogenetic tree with rectangular/cladogram layout
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Branch lengths proportional to evolutionary distance
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Has scale bar, branch lengths, species labels; missing color-coding
          of clades
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible within axis range
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: N/A (no legend needed, tooltips available)
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: tree-phylogenetic · altair · pyplots.ai'
    data_quality:
      score: 19
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows hierarchical branching, varying branch lengths, multiple clades;
          could show more divergence in some branches
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Real primate phylogeny based on mitochondrial DNA, scientifically
          accurate relationships
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Branch lengths in substitutions per site are realistic for mtDNA
          divergence
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 1
        max: 3
        passed: true
        comment: Uses helper functions (get_leaves, calc_x_positions, calc_y_positions)
          instead of flat structure
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports used (altair, numpy, pandas)
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Current Altair API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 4
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 4
        max: 5
        passed: true
        comment: Good use of layered composition, mark_rule for branches, mark_circle
          for nodes, mark_text for labels, tooltips for interactivity, proper configuration
  verdict: APPROVED
