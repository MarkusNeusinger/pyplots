library: altair
specification_id: bar-basic
created: '2025-12-23T00:23:22Z'
updated: '2026-02-14T14:53:38Z'
generated_by: claude-opus-4-6
workflow_run: 20447578467
issue: 0
python_version: '3.14'
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/bar-basic/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/bar-basic/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/bar-basic/altair/plot.html
quality_score: 92
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - layer-composition
  - hover-tooltips
  - html-export
  patterns: []
  dataprep: []
  styling:
  - grid-styling
review:
  strengths:
  - Excellent data storytelling with conditional color highlighting and Top seller
    annotation that guides the viewer attention
  - 'Strong visual refinement: rounded corners, subtle dashed gridlines at 0.15 opacity,
    removed view border'
  - Perfect spec compliance implementing all recommended features (value labels, highlight,
    consistent widths, spacing)
  - Idiomatic Altair code using declarative conditional encoding, layer composition,
    and proper encoding types
  - Dual output (PNG + HTML) leverages Altair interactive capabilities
  - Realistic retail scenario with well-chosen data values including close pairs for
    meaningful comparison
  weaknesses:
  - Minor whitespace imbalance on the right side of the chart could be tightened
  - Value labels at fontSize=16 are slightly smaller than tick labels at fontSize=18,
    creating a subtle visual hierarchy inconsistency
  image_description: The plot displays a vertical bar chart showing product sales
    by category for 7 retail categories, sorted in descending order. The tallest bar
    (Electronics, $45,200) is highlighted in golden yellow (#FFD43B) with a bold annotation
    reading "Top seller — $45.2k" above it. The remaining 6 bars (Clothing $31,500,
    Home & Garden $29,800, Sports $21,800, Books $18,500, Toys $14,200, Food $13,100)
    are rendered in Python Blue (#306998). Each bar has a dollar-formatted value label
    positioned above it. Bars feature rounded top corners. The x-axis is labeled "Product
    Category" with labels rotated at -45 degrees, and the y-axis shows "Sales ($)"
    with dashed gridlines at $10k intervals. The title reads "bar-basic · altair ·
    pyplots.ai" in 28pt font. The view border is removed and y-axis gridlines are
    subtle (0.15 opacity, dashed). The overall layout is clean and professional with
    good use of the canvas area.
  criteria_checklist:
    visual_quality:
      score: 28
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 7
        max: 8
        passed: true
        comment: 'All font sizes explicitly set (title 28, axis titles 22, tick labels
          18, value labels 16, annotation 18). All readable. Minor hierarchy inconsistency:
          value labels (16) slightly smaller than tick labels (18).'
      - id: VQ-02
        name: No Overlap
        score: 6
        max: 6
        passed: true
        comment: No overlapping text. Rotated x-axis labels avoid collision. Value
          labels and annotation well-positioned with dy offsets.
      - id: VQ-03
        name: Element Visibility
        score: 6
        max: 6
        passed: true
        comment: Bars well-sized with good spacing. All 7 categories clearly distinguishable.
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 4
        passed: true
        comment: Blue (#306998) + Yellow (#FFD43B) is colorblind-safe with strong
          luminance contrast.
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 4
        passed: true
        comment: Good canvas utilization at 4800x2700. Some unused whitespace on right
          side.
      - id: VQ-06
        name: Axis Labels & Title
        score: 2
        max: 2
        passed: true
        comment: Product Category and Sales ($) — descriptive with units.
    design_excellence:
      score: 16
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 6
        max: 8
        passed: true
        comment: Custom color scheme with intentional highlight, rounded bar corners,
          removed view stroke, subtle dashed gridlines. Above defaults, cohesive professional
          look.
      - id: DE-02
        name: Visual Refinement
        score: 5
        max: 6
        passed: true
        comment: View stroke removed, x-axis grid removed, y-axis grid styled with
          0.15 opacity dashed pattern. Clean polished appearance.
      - id: DE-03
        name: Data Storytelling
        score: 5
        max: 6
        passed: true
        comment: Conditional color highlights leader, Top seller annotation provides
          narrative, descending sort creates ranking story.
    spec_compliance:
      score: 15
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: Correct vertical bar chart.
      - id: SC-02
        name: Required Features
        score: 4
        max: 4
        passed: true
        comment: Value labels, highlight, consistent widths, adequate spacing — all
          spec features present.
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: Categories on x-axis, values on y-axis, all data visible.
      - id: SC-04
        name: Title & Legend
        score: 3
        max: 3
        passed: true
        comment: Title format bar-basic · altair · pyplots.ai correct. No legend needed.
    data_quality:
      score: 14
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 5
        max: 6
        passed: true
        comment: 7 categories within 3-15 range. Close-valued pairs and clear leader.
          Good variation.
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 5
        passed: true
        comment: Retail product sales by category — real, neutral, comprehensible
          business scenario.
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 4
        passed: true
        comment: Values $13k-$45k realistic for product category sales.
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Clean Imports → Data → Plot → Save flow. No functions or classes.
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: Deterministic hardcoded data, no randomness.
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only altair and pandas imported, both actively used.
      - id: CQ-04
        name: Code Elegance
        score: 2
        max: 2
        passed: true
        comment: Clean and Pythonic. Layer composition with + operator is idiomatic.
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves plot.png with scale_factor=3.0 and plot.html. No deprecated
          functions.
    library_mastery:
      score: 9
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 5
        max: 5
        passed: true
        comment: 'Expert use of declarative API: mark_bar encoding, alt.condition,
          alt.Tooltip, layer composition, configure chain.'
      - id: LM-02
        name: Distinctive Features
        score: 4
        max: 5
        passed: true
        comment: Declarative conditional encoding with alt.condition(alt.datum.is_top),
          layer composition with + operator, cornerRadius mark properties, HTML export.
  verdict: APPROVED
