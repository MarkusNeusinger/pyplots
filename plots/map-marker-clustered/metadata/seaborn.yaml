library: seaborn
specification_id: map-marker-clustered
created: '2026-01-20T18:49:59Z'
updated: '2026-01-20T19:25:10Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21183365546
issue: 3766
python_version: 3.13.11
library_version: 0.13.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/map-marker-clustered/seaborn/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/map-marker-clustered/seaborn/plot_thumb.png
preview_html: null
quality_score: 85
review:
  strengths:
  - Excellent use of seaborn colorblind palette for accessibility
  - Good implementation of dual-layer visualization (background points + cluster markers)
  - Clear count labels on larger clusters with good contrast (white on colored markers)
  - Appropriate text sizing throughout meeting all legibility requirements
  - Realistic NYC business location scenario with sensible coordinates
  - Uses AgglomerativeClustering from sklearn effectively for the clustering logic
  weaknesses:
  - Geographic context is minimal (faint waterway lines barely visible) - spec requests
    basemap with appropriate geographic context
  - Some cluster count labels overlap in dense areas reducing readability slightly
  - Legend only shows categories, missing size legend to explain cluster marker sizes
  image_description: 'The plot displays a clustered marker map showing 500 business
    locations across the NYC region. The visualization uses a scatter plot approach
    with two layers: a background layer showing individual points with low opacity
    (alpha ~0.3) in four colors representing business categories (Coffee Shop - blue,
    Restaurant - yellow/gold, Bookstore - green, Gym - pink), and a foreground layer
    showing clustered markers with varying sizes based on cluster count. Cluster markers
    with counts >4 display white numerical labels indicating the number of grouped
    points. The plot has a light beige/cream background with subtle gray dashed gridlines.
    Geographic context is minimal but includes faint blue waterway lines. The title
    "map-marker-clustered · seaborn · pyplots.ai" is prominently displayed at the
    top. A "Business Type" legend in the upper left shows the four business types
    with colored circular markers. An annotation in the bottom right shows "500 locations
    · 185 clusters". Axes are labeled "Longitude (°)" and "Latitude (°)" with tick
    values appropriate for the NYC area (-74.4 to -73.4 longitude, 40.0 to 41.2 latitude).'
  criteria_checklist:
    visual_quality:
      score: 34
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 24pt, axis labels at 20pt, tick labels at 16pt - all perfectly
          readable
      - id: VQ-02
        name: No Overlap
        score: 7
        max: 8
        passed: true
        comment: Minor overlap in some cluster count labels where clusters are close
          together, but generally readable
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Good marker sizing; individual points appropriately small (s=40)
          with alpha=0.3 for background, clusters sized 100-800 based on count
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Uses seaborn colorblind palette which is excellent for accessibility
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 5
        passed: true
        comment: Plot uses canvas well but the geographic boundaries (water lines)
          are very faint and don't add much context
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: 'Labels include units: Longitude and Latitude with degree symbols'
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Legend is well-placed but grid at alpha=0.3 with dashed style competes
          slightly with the subtle markers
    spec_compliance:
      score: 20
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 6
        max: 8
        passed: true
        comment: Implements clustering concept but not true interactive map clustering
          - static representation acceptable for non-interactive library
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Lat/Lon correctly mapped to Y/X axes
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Shows cluster counts, size encoding, category colors - but missing
          meaningful basemap context
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible within axes range
      - id: SC-05
        name: Legend Accuracy
        score: 0
        max: 2
        passed: false
        comment: Legend present but missing cluster size explanation (only shows categories,
          not what marker sizes mean)
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Correctly formatted as map-marker-clustered · seaborn · pyplots.ai
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows clustering behavior, category distribution, size encoding,
          count labels - good coverage
      - id: DQ-02
        name: Realistic Context
        score: 6
        max: 7
        passed: true
        comment: NYC business locations is a realistic scenario, 4 relevant business
          categories
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Coordinates are realistic NYC area values (~40.7N, ~74W)
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 2
        max: 3
        passed: true
        comment: Mostly linear flow but has some iteration patterns; still reasonably
          simple
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used (matplotlib, numpy, pandas, seaborn, sklearn)
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current seaborn API correctly
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png
    library_features:
      score: 4
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 4
        max: 5
        passed: true
        comment: Good use of seaborn scatterplot with hue/size encoding, set_theme,
          colorblind palette, despine - but could have used seaborn more distinctively
  verdict: APPROVED
impl_tags:
  dependencies:
  - sklearn
  techniques:
  - annotations
  - custom-legend
  - patches
  patterns:
  - data-generation
  - groupby-aggregation
  - iteration-over-groups
  dataprep:
  - hierarchical-clustering
  styling:
  - alpha-blending
  - edge-highlighting
  - grid-styling
