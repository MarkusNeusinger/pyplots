library: matplotlib
specification_id: gain-curve
created: '2025-12-29T22:47:36Z'
updated: '2025-12-29T22:51:48Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20584327624
issue: 0
python_version: 3.13.11
library_version: 3.10.8
preview_url: https://storage.googleapis.com/pyplots-images/plots/gain-curve/matplotlib/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/gain-curve/matplotlib/plot_thumb.png
preview_html: null
quality_score: 93
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - fill-between
  patterns:
  - data-generation
  dataprep: []
  styling: []
review:
  strengths:
  - Excellent implementation of the gains curve with all spec-required elements (model,
    baseline, perfect model)
  - Clear visual hierarchy with distinct line styles (solid, dashed, dotted) and colors
  - Informative annotation highlighting the key insight at 20% targeting threshold
  - Shaded area effectively communicates the model lift over random selection
  - Clean, well-structured code following KISS principles
  - Proper use of matplotlib Axes methods throughout
  weaknesses:
  - Legend positioned in lower right overlaps with the data region where curves pass
    through
  - Square aspect ratio (1:1) while appropriate for the 0-100% axes creates some unused
    corner space compared to 16:9
  image_description: The plot displays a cumulative gains chart on a square canvas
    with 1:1 aspect ratio. The main model curve is shown in blue (solid line, linewidth=3),
    starting from origin (0,0) and curving upward to (100,100). A gray dashed diagonal
    line represents the random baseline. A yellow/gold dotted line shows the perfect
    model - rising steeply to 100% at approximately 50% of population, then horizontal.
    A light blue shaded area fills the space between the model curve and the baseline,
    visually highlighting the model's "lift" over random selection. An annotation
    box in the lower portion reads "Top 20% captures 35% of positive cases" with an
    arrow pointing to the corresponding point on the curve. The legend is positioned
    in the lower right corner. All text is clearly legible with appropriate font sizes.
  criteria_checklist:
    visual_quality:
      score: 37
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title 24pt, axis labels 20pt, ticks 16pt, legend 16pt - all perfectly
          readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping elements, annotation well-positioned
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Lines are appropriately sized (linewidth=3 for model, 2 for others),
          clearly distinguishable
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue, gray, and yellow are colorblind-safe and have good contrast
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good use of canvas with equal aspect, though square format creates
          some empty space in corners
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: '"Population Targeted (%)" and "Positive Cases Captured (%)" are
          descriptive with units'
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: true
        comment: Grid at alpha=0.3 is good, but legend could be positioned better
          (lower right overlaps with data region)
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct cumulative gains chart
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: X=population percentage, Y=cumulative positives captured - correct
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Has diagonal baseline, model curve, perfect model reference, annotation
          showing key insight
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Axes show 0-100% for both dimensions
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend labels correctly identify Model, Random (Baseline), Perfect
          Model
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Uses exact format "gain-curve · matplotlib · pyplots.ai"
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows model lift over baseline and comparison to perfect model; the
          model demonstrates clear discrimination with steeper initial slope
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Customer response model is a real, neutral business scenario (marketing
          campaign optimization)
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Values are sensible; 35% capture at 20% targeting is realistic for
          a decent model, though the lift could be more dramatic to better showcase
          the plot type
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear flow: imports → data → plot → save, no functions/classes'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only matplotlib.pyplot and numpy imported, both used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current matplotlib API (Axes methods)
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as 'plot.png'
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 3
        max: 5
        passed: true
        comment: Uses fill_between for shaded area, annotation with arrowprops, proper
          Axes methods - good but not exceptional matplotlib features
  verdict: APPROVED
