library: bokeh
specification_id: contour-map-geographic
created: '2026-01-17T11:54:34Z'
updated: '2026-01-18T22:27:03Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21093797308
issue: 3772
python_version: 3.13.11
library_version: 3.8.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/contour-map-geographic/bokeh/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/contour-map-geographic/bokeh/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/contour-map-geographic/bokeh/plot.html
quality_score: 91
review:
  strengths:
  - Excellent use of Viridis colormap for colorblind-safe elevation visualization
  - Good integration of filled contours (image) with overlaid contour lines
  - Contour labels with white background provide good readability against varied backgrounds
  - Realistic Pacific Northwest elevation data with simulated Cascade Range
  - Proper use of Bokeh ColumnDataSource and LabelSet for contour labeling
  - Interactive tools (pan, wheel_zoom, box_zoom, reset) enhance usability
  - Colorbar with proper title and sizing
  weaknesses:
  - Legend for coastline is positioned in upper-left but appears small relative to
    canvas size
  - Grid lines could be slightly more visible or use dashed style for better distinction
    from contour lines
  image_description: The plot displays a geographic contour map of simulated elevation
    data for the Pacific Northwest region (Oregon to Washington). The visualization
    uses a Viridis colormap ranging from dark purple (low elevation near coast, ~0m)
    through green/cyan to bright yellow (high elevation in mountain ranges, ~3000m).
    Two prominent yellow/green oval-shaped high-elevation areas are visible, representing
    the Cascade Range with peaks around 3000m. Black contour lines are overlaid on
    the filled color surface, with labels showing elevation values (500m, 1000m, 1500m,
    2000m, 2500m, 3000m) at regular intervals. A blue line on the left edge represents
    an approximate coastline. The X-axis shows Longitude (°W) from -125 to -117, Y-axis
    shows Latitude (°N) from 42 to 49. A colorbar on the right displays "Elevation
    (m)" ranging from 0 to 3000. The title correctly shows "contour-map-geographic
    · bokeh · pyplots.ai". A legend in the upper-left indicates "Coastline (approx.)".
  criteria_checklist:
    visual_quality:
      score: 37
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title, axis labels, and tick marks are all clearly readable at full
          resolution
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements; contour labels have white backgrounds
          for clarity
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Contour lines are visible with good line widths; filled background
          shows elevation clearly; minor deduction as some contour labels are small
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Viridis colormap is colorblind-safe with excellent sequential contrast
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Plot fills canvas well with balanced margins
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: 'Descriptive labels with units: Longitude (°W) and Latitude (°N)'
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Legend positioned in upper-left corner but is quite small and hard
          to read; grid is subtle but visible
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct contour map with isolines on geographic coordinates
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Latitude/Longitude correctly mapped to Y/X axes, elevation as contour
          values
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Has contour lines, labels, filled contours, colorbar, coastline representation;
          missing explicit border representation
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible within axes range
      - id: SC-05
        name: Legend Accuracy
        score: 1
        max: 2
        passed: true
        comment: Coastline legend present but small
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: contour-map-geographic · bokeh · pyplots.ai'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows elevation gradients, mountain range (Cascade), coastal lowlands,
          varied terrain; could show more feature diversity
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Pacific Northwest elevation data is a realistic, neutral scenario
          with plausible geography
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Elevation values 0-3000m are realistic for the region; grid spacing
          appropriate
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 2
        max: 3
        passed: true
        comment: Generally linear structure but includes smoothing loop and helper
          matplotlib usage
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 1
        max: 2
        passed: true
        comment: matplotlib.pyplot imported but only used for contour extraction,
          not for plotting output
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: No deprecated functions
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png using export_png
    library_features:
      score: 5
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 5
        max: 5
        passed: true
        comment: Uses Bokeh's image(), ColorBar, LabelSet, ColumnDataSource, LinearColorMapper,
          interactive tools
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - colorbar
  - annotations
  patterns:
  - data-generation
  - columndatasource
  - iteration-over-groups
  - matrix-construction
  dataprep: []
  styling:
  - custom-colormap
  - alpha-blending
  - grid-styling
