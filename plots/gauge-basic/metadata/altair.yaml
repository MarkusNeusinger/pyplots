library: altair
specification_id: gauge-basic
created: '2025-12-23T13:03:02Z'
updated: '2025-12-23T13:10:27Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20461378816
issue: 0
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/gauge-basic/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/gauge-basic/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/gauge-basic/altair/plot.html
quality_score: 92
impl_tags:
  dependencies: []
  techniques:
  - layer-composition
  - html-export
  patterns:
  - data-generation
  dataprep: []
  styling: []
review:
  strengths:
  - Excellent visual design with clear color zones following intuitive red/yellow/green
    convention
  - Creative use of Altair mark_arc for gauge segments and mark_rule for the needle
    indicator
  - Prominent value display (72%) centered below the gauge for immediate readability
  - Proper use of Altair layering system to combine arcs, needle, hub, and labels
  - Well-positioned threshold labels (30, 70) and range labels (0, 100)
  weaknesses:
  - Code contains a function definition value_to_angle() which violates the KISS structure
    requirement (imports → data → plot → save, no functions)
  image_description: 'The plot displays a semi-circular gauge chart with three colored
    zones: red (0-30), yellow (30-70), and green (70-100). A dark blue needle points
    to approximately the 72 mark, which falls in the green zone. The title "gauge-basic
    · altair · pyplots.ai" appears at the top in large text. Threshold values "30"
    and "70" are labeled above the arc at their respective positions. Min (0) and
    max (100) values are displayed at the left and right ends of the gauge. A prominent
    "72%" label is centered below the gauge hub. The layout uses a white background
    with good contrast.'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title is large and clear, value label "72%" is bold and prominent,
          all threshold and range labels are readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements, all labels are well-spaced
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Arc segments are clearly visible with distinct colors, needle is
          thick and clearly points to the value
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 5
        passed: true
        comment: Red/yellow/green is intuitive for gauges but not ideal for colorblind
          users; however, the zones are also labeled with numbers
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good canvas utilization with the gauge centered, though there is
          some empty space at the bottom
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: true
        comment: Not applicable for gauge charts (no traditional axes), but min/max
          labels are present
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: No grid needed for gauge; color zones are self-explanatory
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct semi-circular gauge chart as specified
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Value correctly mapped to needle position at 72
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: 'All spec features present: needle indicator, color zones (red/yellow/green),
          value label, min/max bounds, thresholds at 30 and 70'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Full range 0-100 is visible
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Threshold labels and range labels are accurate
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Correctly uses "gauge-basic · altair · pyplots.ai"
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows gauge with value in green zone; could also demonstrate edge
          cases but current value (72) effectively shows the concept
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Sales performance at 72% is a realistic business KPI scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: 0-100 percentage scale is appropriate; thresholds at 30/70 are reasonable
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 1
        max: 3
        passed: false
        comment: Contains a function definition `value_to_angle()` which violates
          KISS principle (no functions/classes rule)
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Data is deterministic (fixed values, no randomness)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports (altair, numpy, pandas) are used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Altair API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 5
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 5
        max: 5
        passed: true
        comment: Excellent use of Altair's declarative layering with `alt.layer()`,
          custom arc marks with `mark_arc()`, rule marks for needle, and proper theta
          encoding for radial positioning
  verdict: APPROVED
