library: matplotlib
specification_id: map-connection-lines
created: '2026-01-21T16:32:05Z'
updated: '2026-01-21T16:35:02Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21217351552
issue: 3746
python_version: 3.13.11
library_version: 3.10.8
preview_url: https://storage.googleapis.com/pyplots-images/plots/map-connection-lines/matplotlib/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/map-connection-lines/matplotlib/plot_thumb.png
preview_html: null
quality_score: 86
review:
  strengths:
  - Excellent implementation of great circle geodesic paths with proper spherical
    interpolation
  - Good handling of date line crossing by splitting lines
  - Effective use of line width and alpha transparency to encode passenger volume
  - Clear, informative legend showing the volume scale
  - Realistic flight route data with actual major airport locations
  - Proper title format following the specification
  weaknesses:
  - Contains a helper function geodesic_path() which violates the KISS principle (no
    functions/classes rule)
  - London and Paris labels overlap slightly due to their geographic proximity
  - Continent representation is very simplistic (rectangles) - could benefit from
    more realistic coastlines
  - Airport label font size (11pt) is slightly small for the 4800x2700 canvas
  - Axis labels lack degree units (should be Longitude and Latitude with degree symbols)
  image_description: The plot displays a world map visualization showing major international
    flight routes as connection lines between 10 airports. The background features
    a light blue ocean color (#D4E5F7) with simplified gray rectangular continent
    approximations. Connection lines are rendered in blue (#306998) with varying thickness
    and alpha transparency based on passenger volume (1.5M to 4.2M passengers/year).
    Airport markers are yellow circles (#FFD43B) with blue borders, and each is labeled
    with the city name. The routes show curved great circle paths connecting cities
    like New York-London, London-Dubai, Singapore-Sydney, etc. The title reads "Major
    International Flight Routes · map-connection-lines · matplotlib · pyplots.ai"
    at the top. A legend in the lower left shows three line thicknesses representing
    passenger volumes plus the airport marker symbol. Axis labels show "Longitude"
    and "Latitude" with tick marks ranging from -150 to 150 for longitude and -80
    to 80 for latitude.
  criteria_checklist:
    visual_quality:
      score: 33
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 10
        passed: true
        comment: Title at 24pt is good, labels at 11pt are slightly small for the
          canvas size, but readable
      - id: VQ-02
        name: No Overlap
        score: 6
        max: 8
        passed: true
        comment: London and Paris labels slightly overlap each other due to proximity
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Connection lines and markers are well-sized, good use of varying
          line widths
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue/yellow color scheme is colorblind-safe
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good canvas utilization, plot fills most of the space
      - id: VQ-06
        name: Axis Labels
        score: 1
        max: 2
        passed: true
        comment: Longitude and Latitude without degree units
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Grid is subtle (alpha 0.3), legend is well-placed and clear
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct map with connection lines/great circle arcs
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Origin/destination coordinates correctly mapped
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Has curved lines, varying thickness by volume, transparency, location
          markers, base map, labels
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Full world extent shown (-180 to 180, -90 to 90)
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly shows passenger volume scaling and airport marker
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Uses correct format with spec-id, library, and pyplots.ai
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows variety of route lengths and volumes, but all routes are similar
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Real major airports with plausible passenger volumes for international
          routes
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Passenger volumes (1.5M-4.2M) are realistic for major routes
    code_quality:
      score: 7
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 1
        max: 3
        passed: false
        comment: Contains a helper function geodesic_path() which violates the no-functions
          rule
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: No deprecated functions
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: true
        comment: Saves as plot.png correctly
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Good use of ax methods, annotations, custom legend with Line2D, but
          map implementation is basic
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - custom-legend
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep:
  - interpolation
  styling:
  - alpha-blending
  - grid-styling
