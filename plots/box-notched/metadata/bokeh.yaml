library: bokeh
specification_id: box-notched
created: '2025-12-25T19:54:33Z'
updated: '2025-12-25T19:56:48Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20510123461
issue: 2019
python_version: 3.13.11
library_version: 3.8.1
preview_url: https://storage.googleapis.com/pyplots-images/plots/box-notched/bokeh/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/box-notched/bokeh/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/box-notched/bokeh/plot.html
quality_score: 91
review:
  strengths:
  - Excellent implementation of notched box plots using Bokeh primitives (quad, patch,
    segment)
  - Notch calculation correctly implements ±1.57 × IQR / √n formula per specification
  - Clean visual design with appropriate sizing for 4800×2700 canvas
  - Proper colorblind-friendly palette with five distinct hues
  - Outliers correctly identified and rendered with contrasting hollow circle style
  weaknesses:
  - Unused variable xs (lines 135-146) is dead code that should be removed
  - Y-axis label lacks units (should be Performance Score 0-100 or similar)
  - Some generated outlier values exceed 100, which is unrealistic for a 0-100 performance
    scale
  - No legend mapping colors to departments (though categories on x-axis partially
    compensate)
  image_description: 'The plot displays 5 notched box plots comparing employee performance
    scores across departments (Engineering, Sales, Marketing, Operations, HR). Each
    department has a distinct color: blue (Engineering), yellow (Sales), green (Marketing),
    orange (Operations), and purple (HR). The notches are clearly rendered as triangular
    indentations at the median level, providing visual confidence intervals. Whiskers
    extend from each box with horizontal caps. Outliers are shown as hollow circles
    with colored borders matching their respective departments - Sales shows several
    outliers (~40, 48-50, 95-100), Operations has outliers (~42, ~107), and HR has
    one outlier (~51). The title correctly displays "box-notched · bokeh · pyplots.ai".
    The Y-axis is labeled "Performance Score" and X-axis "Department". The background
    is a subtle light gray (#FAFAFA) with dashed horizontal grid lines.'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 42pt, axis labels at 32pt, tick labels at 24-26pt - all
          clearly readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements, all labels clearly separated
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Boxes well-sized, outliers visible at size 22, notches clearly defined
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Five distinct colors (blue, yellow, green, orange, purple) are colorblind-friendly
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Plot fills canvas well, balanced margins, good proportions
      - id: VQ-06
        name: Axis Labels
        score: 1
        max: 2
        passed: false
        comment: Labels are descriptive ("Performance Score", "Department") but lack
          units
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: true
        comment: Subtle dashed grid at alpha 0.3 is good, but no legend present (colors
          not labeled)
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct notched box plot type
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Categories on X-axis, values on Y-axis
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Notches at 95% CI, median, quartiles, whiskers at 1.5×IQR, outliers
          shown
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible including outliers
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: No legend needed for this plot type (categories on axis)
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Correctly formatted as "box-notched · bokeh · pyplots.ai"
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: 'Shows different distributions, varying spreads, outliers present;
          minor: could show more dramatic median differences for notch comparison'
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Employee performance scores (0-100) across departments is a realistic
          business scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Performance scores in 40-100 range are realistic; some outliers exceed
          100 which is slightly unrealistic for a 0-100 scale
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear script structure: imports → data → plot → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only necessary imports (numpy, bokeh components)
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Bokeh API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves as 'plot.png' but there's unused variable 'xs' (lines 135-146)
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 3
        max: 5
        passed: false
        comment: Good use of ColumnDataSource for outliers, quad/patch/segment for
          custom rendering, but could leverage more Bokeh-specific features like HoverTool
          for interactivity
  verdict: APPROVED
