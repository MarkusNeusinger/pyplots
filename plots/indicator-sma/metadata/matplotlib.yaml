library: matplotlib
specification_id: indicator-sma
created: '2026-01-11T00:17:56Z'
updated: '2026-01-11T00:20:29Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20886559571
issue: 3651
python_version: 3.13.11
library_version: 3.10.8
preview_url: https://storage.googleapis.com/pyplots-images/plots/indicator-sma/matplotlib/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/indicator-sma/matplotlib/plot_thumb.png
preview_html: null
quality_score: 91
review:
  strengths:
  - Excellent implementation of all required SMA periods (20, 50, 200)
  - Clean, readable code following KISS principles
  - Good color choices with distinct line colors
  - Proper title format and axis labeling
  - Realistic stock price data generation with trends
  weaknesses:
  - Legend position in upper left overlaps with early price data
  - Could use matplotlib date formatters (DateFormatter) for better date display
  - Yellow SMA line could have slightly higher contrast against white background
  image_description: 'The plot displays a Simple Moving Average (SMA) chart for stock
    price data spanning from January 2024 to March 2025. The blue line represents
    the raw price data, showing significant volatility with values ranging from approximately
    $130 to $170. Three SMA lines overlay the price: a yellow SMA 20 (short-term),
    a red SMA 50 (medium-term), and a green SMA 200 (long-term). The SMAs progressively
    smooth out price movements, with the 200-day SMA being the smoothest and showing
    the least data (starting around October 2024 due to the calculation window). The
    plot uses a white background with subtle gray horizontal grid lines. The title
    follows the correct format "indicator-sma 路 matplotlib 路 pyplots.ai". The legend
    is positioned in the upper left corner. X-axis labels show dates at an angle,
    and the Y-axis shows "Price ($)".'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 24pt, labels at 20pt, ticks at 16pt, all perfectly readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Lines are clearly visible with good linewidth (2.5), alpha=0.9 on
          price line works well
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 5
        passed: true
        comment: Blue, yellow, red, green are distinguishable; yellow on white could
          be slightly better
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Plot fills canvas well with balanced margins
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Price ($) and Date are descriptive with units
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Legend in upper left overlaps with early price data
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct line chart with SMA overlays
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Dates on X-axis, prices on Y-axis, correctly mapped
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: All three SMAs (20, 50, 200) present, price line prominent, distinct
          colors
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible, axes show full range
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: 'Legend labels correct: Price, SMA 20, SMA 50, SMA 200'
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: indicator-sma 路 matplotlib 路 pyplots.ai'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows price volatility, trend changes, SMA lag behavior, but no clear
          crossover signals demonstrated
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Stock price scenario with realistic daily returns and volatility
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Price values ($130-170) are realistic; 300 days is good for showing
          200-day SMA
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Simple linear flow: imports, data, plot, save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only necessary imports (matplotlib, numpy, pandas)
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current matplotlib API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png with correct settings
    library_features:
      score: 2
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 2
        max: 5
        passed: false
        comment: Basic matplotlib usage; could use date formatters or more sophisticated
          date handling
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques: []
  patterns:
  - data-generation
  - explicit-figure
  dataprep:
  - rolling-window
  - time-series
  styling:
  - alpha-blending
  - grid-styling
