library: plotnine
specification_id: network-weighted
created: '2026-01-08T15:59:07Z'
updated: '2026-01-08T16:14:07Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20822858331
issue: 3290
python_version: 3.13.11
library_version: 0.15.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/network-weighted/plotnine/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/network-weighted/plotnine/plot_thumb.png
preview_html: null
quality_score: 90
review:
  strengths:
  - Excellent creative solution using geom_segment + geom_point to render network
    graph in plotnine
  - Clear edge thickness variation shows trade volume differences effectively
  - Good legend with meaningful breaks (100, 300, 500 billions USD)
  - Realistic trade data with plausible country relationships and volumes
  - Clean code structure following KISS principles
  - Proper use of theme_void for network visualization
  - Node sizing by weighted degree adds information density
  weaknesses:
  - 'Title format incorrect: should be network-weighted · plotnine · pyplots.ai but
    includes extra International Trade Network · prefix'
  image_description: The plot displays a weighted network graph visualizing international
    trade relationships between 12 countries. Nodes are arranged in a roughly circular
    layout, represented as yellow circles with dark borders. Each node is labeled
    with the country name (USA, China, Germany, Japan, UK, France, Canada, Mexico,
    S.Korea, India, Brazil, Australia) in bold black text positioned above the node.
    Edges connect trading partners with thickness proportional to trade volume in
    billions USD - the thickest edges connect USA-Canada, USA-Mexico, and USA-China,
    clearly showing the USA as a major trade hub. Edge color is a consistent blue
    (#306998) with ~55% transparency. A legend on the right shows "Trade Volume (Billions
    USD)" with three reference line sizes (100, 300, 500). The title reads "International
    Trade Network · network-weighted · plotnine · pyplots.ai" in bold centered text,
    with a gray subtitle explaining that edge thickness represents bilateral trade
    volume.
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title and labels are readable, labels slightly small but bold helps
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text, node labels well positioned with nudge_y offset
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Nodes and edges visible, edge thickness variation clear
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue edges on white background, yellow nodes - colorblind safe
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Good use of canvas, network centered with legend on right
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: true
        comment: N/A for network graphs using theme_void
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Legend well placed and clear with appropriate breaks
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct weighted network graph with edge thickness
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Nodes, edges, weights correctly mapped
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Edge thickness for weight, node sizing by weighted degree, legend
          present
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All nodes and connections visible
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly shows trade volume scale
      - id: SC-06
        name: Title Format
        score: 0
        max: 2
        passed: false
        comment: Title includes extra text before spec-id
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows strong and weak edges, hub nodes, varied connections
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: International trade between real countries is neutral and realistic
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Trade volumes plausible but slightly simplified
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear flow: imports, data, plot, save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Current plotnine API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Good use of geom_segment, geom_point, geom_text with scale_size_continuous,
          theme_void, and guide_legend
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - layer-composition
  - custom-legend
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - minimal-chrome
  - alpha-blending
