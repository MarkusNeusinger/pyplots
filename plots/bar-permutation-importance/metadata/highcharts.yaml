library: highcharts
specification_id: bar-permutation-importance
created: '2026-01-09T08:19:17Z'
updated: '2026-01-09T08:22:17Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20845561698
issue: 2998
python_version: 3.13.11
library_version: unknown
preview_url: https://storage.googleapis.com/pyplots-images/plots/bar-permutation-importance/highcharts/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/bar-permutation-importance/highcharts/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/bar-permutation-importance/highcharts/plot.html
quality_score: 91
review:
  strengths:
  - Excellent implementation of all specification requirements including sorted bars,
    error bars, color gradient, and zero reference line
  - Clean horizontal bar chart with 15 features showing the full range of importance
    values
  - Good use of Highcharts error bar series linked to the main bar series
  - Appropriate color gradient from light blue (low importance) to Python Blue (high
    importance)
  - Includes both PNG and HTML outputs for static and interactive viewing
  - Realistic house price prediction context with sensible feature names
  weaknesses:
  - Uses helper function (get_color) instead of purely linear script style
  - No legend explaining what the color gradient represents (though it is intuitive)
  - X-axis tick labels are somewhat dense
  image_description: The plot displays a horizontal bar chart showing permutation
    feature importance for a house price prediction model with 15 features. Bars are
    sorted from highest importance (Square Footage at top) to lowest (Renovation Year
    at bottom, which shows negative importance). A blue gradient color scheme is used,
    with darker blues for higher importance values and lighter blues for lower values.
    Each bar has horizontal error bars (whiskers) showing standard deviation across
    permutation repetitions. A vertical reference line at x=0 distinguishes positive
    from negative importance. The title follows the correct format "bar-permutation-importance
    · highcharts · pyplots.ai" with a subtitle describing the model context. The x-axis
    shows "Mean Decrease in R² Score" values ranging from approximately -0.06 to 0.46.
    Feature labels on the y-axis are clearly readable.
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title, subtitle, axis labels, and feature names are all clearly readable.
          Font sizes are appropriately scaled for 4800x2700 resolution.
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text or elements. Feature labels are well-spaced on
          the y-axis.
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Bars are appropriately sized with good contrast. Error bars are clearly
          visible with adequate whisker width and stem thickness.
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue gradient is colorblind-safe. No red-green conflicts. Good contrast
          between bars and background.
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good use of canvas space with adequate margins. The left margin accommodates
          feature labels well. Minor deduction for slightly dense x-axis tick labels.
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Y-axis has descriptive feature names. X-axis label 'Mean Decrease
          in R² Score' is descriptive with implicit unit context.
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Grid lines are subtle and appropriate. However, no legend is shown
          to explain the color gradient meaning.
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct horizontal bar chart type for permutation importance visualization.
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Features on y-axis, importance values on x-axis, correctly mapped.
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: 'All spec features present: sorted by importance, horizontal error
          bars, sequential color gradient, vertical reference line at x=0, and appropriate
          number of features.'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Axes show all data appropriately, including negative importance values.
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly disabled for single series; color gradient is self-explanatory.
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: bar-permutation-importance · highcharts · pyplots.ai'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: 'Excellent coverage: shows positive importance values with varying
          magnitudes, negative importance, error bars of different sizes.'
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 7
        passed: true
        comment: House price prediction is a plausible real-world scenario with sensible
          feature names.
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: R² decrease values in the range -0.01 to 0.35 are realistic for permutation
          importance.
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 2
        max: 3
        passed: true
        comment: Mostly follows KISS principle but includes a helper function (get_color).
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42) for reproducibility.
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used.
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Highcharts API patterns.
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves plot.png correctly but also saves plot.html which wasn't strictly
          required.
    library_features:
      score: 4
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 4
        max: 5
        passed: true
        comment: 'Good use of Highcharts features: bar chart type, error bar series
          linked to main series, plotLines for reference line, custom tooltips, subtitle
          option. Uses highcharts-more.js for error bars.'
  verdict: APPROVED
impl_tags:
  dependencies:
  - selenium
  techniques:
  - html-export
  patterns:
  - data-generation
  dataprep: []
  styling:
  - gradient-fill
  - edge-highlighting
