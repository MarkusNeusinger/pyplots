library: altair
specification_id: boxen-basic
created: '2026-01-09T08:09:18Z'
updated: '2026-01-09T08:12:14Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20845374052
issue: 3414
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/boxen-basic/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/boxen-basic/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/boxen-basic/altair/plot.html
quality_score: 91
review:
  strengths:
  - Excellent manual implementation of letter-value plot using layered bar charts
    with decreasing widths
  - Good use of Altair layered composition to combine boxes, median ticks, and outliers
  - Realistic server response time data with varied distributions showcasing boxen
    plot benefits
  - Clean, readable code with proper reproducibility (seed=42)
  - Appropriate color scheme with good contrast between elements
  weaknesses:
  - Missing legend explaining quantile levels (spec explicitly requires this)
  - Could use tooltips for interactivity (Altair strength not leveraged)
  image_description: 'The plot displays a boxen (letter-value) plot showing server
    response times across 4 endpoints: API Gateway, Auth Service, Cache, and Database.
    Each endpoint shows nested blue boxes of decreasing width representing different
    quantile levels (median, quartiles, eighths, etc.). The boxes use a blue color
    scheme (#306998 and #4A90C2) with varying opacity. Yellow/gold horizontal tick
    marks indicate the median for each distribution. Outliers are displayed as individual
    blue points above the main box structures. The Database endpoint shows the widest
    distribution with outliers reaching up to ~1,300ms, while Cache shows the tightest
    distribution. The title "boxen-basic · altair · pyplots.ai" appears at the top.
    Axis labels are "Endpoint" (x-axis) and "Response Time (ms)" (y-axis). A subtle
    grid is visible in the background.'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title, axis labels, and tick labels are all clearly readable. Font
          sizes are appropriate (title 28pt, labels 18-22pt). Slight deduction as
          x-axis labels are angled but still fully legible.
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements. All labels and boxes are clearly separated.
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Nested boxes are clearly visible with good opacity gradients. Outlier
          points are appropriately sized. Minor deduction as some inner boxes could
          have slightly more contrast.
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue color scheme is colorblind-safe. Yellow median line provides
          good contrast against blue boxes.
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Plot fills canvas well with balanced margins. Good proportions.
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: 'Descriptive labels with units: Response Time (ms) and Endpoint.'
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Grid is subtle and appropriate, but there is no legend explaining
          quantile levels as specified in the spec.
    spec_compliance:
      score: 22
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct boxen/letter-value plot type with nested boxes showing multiple
          quantile levels.
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Categories on X-axis, values on Y-axis correctly mapped.
      - id: SC-03
        name: Required Features
        score: 3
        max: 5
        passed: false
        comment: Shows nested boxes, decreasing widths, outliers, and median. Missing
          legend explaining quantile levels as required by spec.
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible including outliers up to ~1,300ms.
      - id: SC-05
        name: Legend Accuracy
        score: 1
        max: 2
        passed: false
        comment: No legend present to explain quantile levels.
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Uses correct format: boxen-basic · altair · pyplots.ai'
    data_quality:
      score: 20
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: 'Excellent feature demonstration: shows different distribution shapes
          (tight for Cache, heavy-tailed for Database), outliers, varying medians,
          and different spreads.'
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Server response times by endpoint is a realistic, neutral scenario
          perfectly suited for demonstrating large dataset distributions.
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Response times in realistic range (0-300ms typical, outliers to 1300ms
          for Database). ~2000 points per category is appropriate for boxen plots.
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Follows imports → data → plot → save structure. Uses loops for data
          generation but no unnecessary functions/classes.
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42) for reproducibility.
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: 'Only necessary imports: altair, numpy, pandas.'
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Altair API.
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html.
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Good use of Altair's layered composition, mark_bar with y/y2 encoding,
          and mark_tick for median. However, does not use tooltips or more declarative
          approaches.
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - layer-composition
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - alpha-blending
  - grid-styling
