library: altair
specification_id: cat-strip
created: '2025-12-30T16:29:50Z'
updated: '2025-12-30T16:36:52Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20601057771
issue: 0
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/cat-strip/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/cat-strip/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/cat-strip/altair/plot.html
quality_score: 92
impl_tags:
  dependencies: []
  techniques:
    - hover-tooltips
    - html-export
  patterns:
    - data-generation
  dataprep: []
  styling:
    - alpha-blending
review:
  strengths:
  - Excellent use of Altair transform_calculate for implementing jitter with Box-Muller
    transform
  - Clean declarative syntax with proper encoding types (N for nominal, Q for quantitative)
  - Good font sizing configuration making all text highly readable
  - Realistic business context with product ratings across departments
  - Proper use of xOffset encoding for jitter positioning
  - Interactive tooltips with formatted rating values
  weaknesses:
  - No legend present (minor, as single color does not require one, but could show
    data count per category)
  - All categories have exactly 30 points - varying counts would demonstrate the plot
    type better
  - Could use additional Altair features like selection for interactivity or layering
    with mean markers
  image_description: 'The plot displays a categorical strip plot showing customer
    ratings (1-5 stars) across 5 departments: Books, Clothing, Electronics, Home &
    Garden, and Sports. Points are rendered as blue circles (#306998) with horizontal
    jitter applied to reduce overlap. The y-axis ranges from 1.0 to 5.0 with the label
    "Customer Rating (1-5 stars)". The x-axis shows "Department" with all 5 category
    labels clearly visible and not rotated. The title "cat-strip · altair · pyplots.ai"
    appears at the top center. Each department shows approximately 30 data points
    with varying distributions - Books clusters tightly around 4.5, Clothing shows
    wider spread down to ~2.2, Electronics clusters around 4.0-4.5 with some at 5.0,
    Home & Garden shows moderate spread around 4.0, and Sports clusters tightly around
    4.3-4.5. Subtle gray grid lines are present. The overall layout is clean with
    good proportions.'
  criteria_checklist:
    visual_quality:
      score: 37
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 28pt, axis labels at 22pt, tick labels at 18pt - all perfectly
          readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No text overlap, category labels well-spaced with labelAngle=0
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Markers size=200 with opacity=0.7 appropriate for 150 points, though
          some overlap within categories
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Single blue color (#306998) with good contrast, no color differentiation
          needed
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Plot fills canvas well with balanced margins, good use of 1600x900
          dimensions
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Y-axis has descriptive label with units "Customer Rating (1-5 stars)",
          X-axis has "Department"
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: true
        comment: Grid is subtle (alpha 0.3), but no legend present (not strictly needed
          for single-color plot)
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct categorical strip plot with jitter
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Categories on X, numeric values on Y as specified
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Jitter implemented via transform_calculate, individual points visible
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Y-axis shows full 1-5 range, all data visible
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: No legend needed for single-color strip plot
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Correctly formatted as "cat-strip · altair · pyplots.ai"
    data_quality:
      score: 17
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 6
        max: 8
        passed: true
        comment: Shows different distributions (tight vs spread), but all categories
          have similar point counts
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Product ratings across departments is a real, neutral business scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Ratings 1-5 are realistic, values appropriately clipped
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Simple imports → data → plot → save structure, no functions/classes
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only altair, numpy, pandas used, all necessary
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Altair API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 3
        max: 5
        passed: true
        comment: Uses transform_calculate for jitter, xOffset encoding, tooltips -
          good Altair idioms but could leverage more declarative features
  verdict: APPROVED
