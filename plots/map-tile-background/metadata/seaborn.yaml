library: seaborn
specification_id: map-tile-background
created: '2026-01-20T22:41:00Z'
updated: '2026-01-20T22:44:15Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21189771533
issue: 3756
python_version: 3.13.11
library_version: 0.13.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/map-tile-background/seaborn/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/map-tile-background/seaborn/plot_thumb.png
preview_html: null
quality_score: 91
review:
  strengths:
  - Excellent implementation of Web Mercator projection for accurate point placement
  - Proper OpenStreetMap tile fetching with appropriate User-Agent header
  - Good use of coolwarm palette for temperature visualization
  - White marker edges provide excellent contrast against varied map backgrounds
  - Station labels with semi-transparent backgrounds ensure readability over complex
    tile imagery
  - Proper OSM attribution as required by license terms
  weaknesses:
  - Minor label overlap in densely-clustered southern stations (Mountain View/Sunnyvale/Santa
    Clara area)
  - Seaborn role is somewhat limited compared to the manual tile/projection work
  image_description: The plot displays a map of the San Francisco Bay Area using OpenStreetMap
    tile backgrounds. Fifteen weather station locations are shown as circular markers
    scattered across the region from Richmond in the north to San Jose in the south.
    The markers are sized and colored according to temperature values using a "coolwarm"
    diverging palette - cooler temperatures (around 15-17°C) appear in blue (Richmond,
    Berkeley) while warmer temperatures (24-26°C) appear in red/pink (Concord, Livermore).
    Each station has a white text label with a semi-transparent background showing
    the station name. A vertical colorbar on the right shows the temperature scale
    from ~16°C to ~25°C. The title "Bay Area Weather Stations · map-tile-background
    · seaborn · pyplots.ai" appears at the top. OpenStreetMap attribution appears
    in the bottom-right corner with a white background box.
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: 'Title is large and readable, station labels are well-sized with
          background boxes for contrast. Minor: some station labels could be slightly
          larger.'
      - id: VQ-02
        name: No Overlap
        score: 7
        max: 8
        passed: true
        comment: Most labels are well-positioned. Minor overlap between Mountain View/Sunnyvale/Santa
          Clara labels in the south.
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Markers are appropriately sized (200-800) for 15 data points with
          good alpha (0.85). White edge color provides excellent contrast.
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: coolwarm palette is colorblind-friendly (blue-to-red diverging).
          Good contrast between markers and map.
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Map fills the canvas well, colorbar is properly positioned with appropriate
          shrink factor.
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: false
        comment: Axes are hidden (appropriate for maps), colorbar label has units.
          No geographic coordinate labels.
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: No grid needed (map provides context), legend disabled appropriately
          since colorbar shows the encoding.
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: 'Correct: map with tile background showing data points'
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Lat/lon correctly converted to pixel coordinates via Web Mercator
          projection
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: 'Includes: tile provider (OSM), auto-fit zoom, marker contrast with
          white edges, attribution. Missing: marker clustering not implemented.'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All 15 stations visible within the map bounds with appropriate padding
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Colorbar correctly represents temperature range
      - id: SC-06
        name: Title Format
        score: 1
        max: 2
        passed: true
        comment: Format includes spec-id, library, and pyplots.ai, but adds extra
          context at start
    data_quality:
      score: 19
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows temperature variation across locations with both size and color
          encoding.
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Real Bay Area cities with plausible weather station scenario, neutral
          scientific context.
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Temperature values (15.6-25.8°C) are realistic for Bay Area microclimates.
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear flow: imports → data → tile fetching → coordinate conversion
          → plotting → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42) for consistency
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: 'All imports used: io, math, urllib, matplotlib, numpy, pandas, seaborn,
          PIL'
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current seaborn API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png with dpi=300
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses seaborn scatterplot with hue/size mapping and set_theme, but
          heavy lifting done with matplotlib/PIL.
  verdict: APPROVED
impl_tags:
  dependencies:
  - pillow
  techniques:
  - colorbar
  - annotations
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - custom-colormap
  - alpha-blending
  - edge-highlighting
