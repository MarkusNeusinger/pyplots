library: plotnine
specification_id: parallel-categories-basic
created: '2025-12-30T21:54:08Z'
updated: '2025-12-30T22:02:46Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20606634555
issue: 0
python_version: 3.13.11
library_version: 0.15.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/parallel-categories-basic/plotnine/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/parallel-categories-basic/plotnine/plot_thumb.png
preview_html: null
quality_score: 90
impl_tags:
  dependencies: []
  techniques:
  - layer-composition
  patterns:
  - data-generation
  - matrix-construction
  - iteration-over-groups
  dataprep: []
  styling:
  - alpha-blending
review:
  strengths:
  - Creative implementation of parallel categories using plotnine basic geoms (geom_polygon,
    geom_rect)
  - Smooth cubic interpolation for ribbon curves creates professional appearance
  - Clear visual distinction between outcomes with yellow/blue color scheme
  - Effective use of transparency (alpha=0.5) for overlapping ribbons
  - Well-organized data structure with explicit path counts
  - Category labels positioned intelligently based on dimension position
  - Counts displayed inside nodes for quantitative reference
  weaknesses:
  - Middle dimension category labels positioned below nodes are slightly smaller (9pt)
    and could be harder to read
  - Some imports may be unused (coord_cartesian could be replaced with theme settings)
  image_description: 'The plot displays a parallel categories diagram showing customer
    journey data across four categorical dimensions: Channel (Online, Store, Mobile),
    Product (Electronics, Clothing, Home), Customer (Returning, New), and Outcome
    (Purchased, Abandoned). The ribbons connecting categories are colored by outcome
    - yellow (#FFD43B) for Purchased and blue (#306998) for Abandoned, with 50% transparency.
    Gray rectangular nodes represent each category with white count labels inside
    (e.g., 1087 for Online, 1126 for Electronics). Dimension labels appear at the
    top (Channel, Product, Customer, Outcome). Category labels are positioned: left
    side for first dimension, right side for last dimension, and below nodes for middle
    dimensions. The layout uses 16:9 aspect ratio with the title "parallel-categories-basic
    · plotnine · pyplots.ai" at top center. The legend on the right shows Outcome
    colors.'
  criteria_checklist:
    visual_quality:
      score: 37
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title at 24pt is clear, dimension labels at 14pt readable, category
          labels at 9-10pt readable but slightly small for middle dimensions
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements, category labels well positioned
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Ribbons clearly visible with appropriate alpha (0.5), nodes well-sized
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Yellow vs blue is colorblind-safe (not red-green), good contrast
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Plot fills canvas well, balanced margins, legend positioned appropriately
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: true
        comment: No axis labels (but appropriate for this plot type that uses dimension
          labels instead)
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: No grid (appropriate), legend well-placed on right
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct parallel categories with width-proportional ribbons
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Four categorical dimensions correctly mapped with flow connections
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: 'Has ribbons showing flow, coloring by outcome, category labels.
          Minor: could show more visual emphasis on ribbon width proportionality'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All categories and dimensions displayed
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly shows Purchased/Abandoned colors
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Uses correct format: "parallel-categories-basic · plotnine · pyplots.ai"'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows multiple dimensions, varied path flows, both outcomes. Good
          variation in ribbon widths showing different path frequencies
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Customer journey through e-commerce is realistic and neutral
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Counts are reasonable (12-187 per path), totals make sense for customer
          data
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear structure: imports → data → calculation → plot → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 1
        max: 2
        passed: true
        comment: coord_cartesian imported but could use xlim/ylim in theme instead
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Current plotnine API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Uses plotnine grammar of graphics
        score: 3
        max: 5
        passed: true
        comment: Effectively uses geom_polygon for ribbons, geom_rect for nodes, geom_text
          and annotate for labels. This is a custom implementation since plotnine
          doesn't have native parallel categories support, demonstrating creative
          use of basic geoms.
  verdict: APPROVED
