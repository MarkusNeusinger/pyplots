library: highcharts
specification_id: sankey-basic
created: '2025-12-23T19:45:06Z'
updated: '2025-12-23T20:13:36Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20469997330
issue: 0
python_version: 3.13.11
library_version: unknown
preview_url: https://storage.googleapis.com/pyplots-images/plots/sankey-basic/highcharts/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/sankey-basic/highcharts/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/sankey-basic/highcharts/plot.html
quality_score: 91
impl_tags:
  dependencies:
    - pillow
    - selenium
  techniques:
    - html-export
  patterns: []
  dataprep: []
  styling: []
review:
  strengths:
  - Excellent real-world energy flow scenario with realistic TWh values
  - Proper use of colorblind-safe dark palette ensuring white text contrast on all
    nodes
  - Good link opacity (0.5) allowing visualization of crossing flows
  - Correct title format and informative subtitle with units
  - Well-configured Highcharts Sankey with custom node colors and link styling
  - Clean code structure with proper margin handling to prevent label cutoff
  weaknesses:
  - numpy imported but only used for random seed (could use deterministic data instead)
  - Library version shown as unknown in header comment
  image_description: 'The plot displays a Sankey diagram showing U.S. energy flow.
    On the left side are five energy sources (Coal, Natural Gas, Nuclear, Petroleum,
    Renewable) represented as colored vertical bars with white text labels. The middle
    shows an intermediate node (Electricity and Transportation). On the right are
    four end-use sectors (Industrial, Residential, Commercial). Flows are represented
    by curved bands connecting nodes, with widths proportional to energy values in
    TWh. The title "sankey-basic · highcharts · pyplots.ai" appears at the top with
    a subtitle "U.S. Energy Flow (values in TWh)". Colors used: dark blue (Coal),
    olive/gold (Natural Gas), purple (Nuclear), cyan (Petroleum), dark green (Renewable),
    brown (Electricity), orange (Transportation), plus various shades for end-use
    sectors. The flow bands have 50% opacity allowing overlap visualization.'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: 'All node labels are readable with white text on dark backgrounds
          and text outline. Title and subtitle are clear. Minor: some label positioning
          could be slightly better optimized.'
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No text overlaps; labels are positioned outside flow bands
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Flow bands are well-sized with appropriate opacity (0.5) for crossing
          flows
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Uses colorblind-safe palette with distinct dark tones; no red-green
          conflicts
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good use of canvas space with appropriate margins; minor whitespace
          at bottom
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Legend appropriately disabled; nodes are self-labeled
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct Sankey diagram visualization
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Source → Target → Value correctly implemented
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Shows flows with proportional widths, distinct node colors, link
          opacity
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All flows visible and proportionally represented
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: N/A for Sankey; nodes are self-labeled
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: "sankey-basic · highcharts · pyplots.ai"'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows multiple sources, intermediate transformation (Electricity),
          and multiple end uses; demonstrates crossing flows well
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: 'Excellent real-world scenario: U.S. energy flow with plausible TWh
          values'
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Values are realistic for energy sector; some values could be more
          precisely calibrated to actual data
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Clean linear structure: imports → data → chart config → render'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 1
        max: 2
        passed: true
        comment: numpy imported but only used for seed (minor)
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current highcharts-core API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: true
        comment: Outputs plot.png and plot.html (correct)
    library_features:
      score: 4
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 4
        max: 5
        passed: true
        comment: Good use of Highcharts Sankey module with linkColorMode, curveFactor,
          nodePadding, custom node colors, and tooltip formatting
  verdict: APPROVED
