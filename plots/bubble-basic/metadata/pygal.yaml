library: pygal
specification_id: bubble-basic
created: 2025-12-14 11:08:57+00:00
updated: '2026-02-16T20:58:09Z'
generated_by: claude-opus-4-6
workflow_run: 20207010176
issue: 755
python_version: 3.14.3
library_version: 3.1.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/bubble-basic/pygal/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/bubble-basic/pygal/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/bubble-basic/pygal/plot.html
quality_score: 78
impl_tags:
  dependencies: []
  techniques:
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep:
  - binning
  - normalization
  styling:
  - alpha-blending
  - grid-styling
review:
  strengths:
  - 'Excellent data scenario: city comparison with density, commute time, and green
    space is immediately intuitive and tells a coherent urban planning story'
  - Strong custom sequential palette (indigo to teal to amber) that is colorblind-safe
    and visually appealing
  - 'Clever workaround for pygal lack of native bubble chart: using 8 series with
    different dots_size values to simulate per-point sizing'
  - Good use of pygal-distinctive features (tooltip labels, fancy tooltips, legend
    columns, dual export)
  - All font sizes explicitly set with clear hierarchy; text is highly legible at
    output resolution
  - Area-scaled bubble sizing via sqrt transformation for perceptual accuracy
  weaknesses:
  - Redundant dual encoding (both size AND color map to green space) uses two visual
    channels for one variable instead of adding a 4th dimension
  - No dedicated size legend showing bubble-to-value mapping; the tier labels show
    percentage ranges but the viewer cannot decode exact bubble sizes
  - Bottom legend with 8 tiers in one row is cramped; the tier labels are small and
    closely spaced
  - Lower-left data cluster creates visual crowding with overlapping bubbles that
    are difficult to distinguish individually
  improvements: []
  verdict: APPROVED
  image_description: The plot displays a bubble chart titled "bubble-basic · pygal
    · pyplots.ai" on a white/light-gray (#fafafa) background. The x-axis shows "Population
    Density (people/km²)" ranging from approximately 2,000 to 13,000, and the y-axis
    shows "Avg Commute Time (min)" ranging from approximately 16 to 34. There are
    35 bubbles representing cities, with bubble size encoding green space percentage.
    An 8-tier sequential color palette is used, ranging from deep indigo/purple (14–19%
    green) through royal blue, teal, emerald, sage, to dark gold and amber (47–52%
    green). The same green-space variable is redundantly encoded via both size and
    color. A clear positive correlation between population density and commute time
    is visible. The bottom legend displays all 8 tiers in a single row with labels
    like "14–19% green", "19–23% green", etc. Bubbles have approximately 0.62 opacity
    allowing some see-through on overlaps. Grid lines are subtle gray. Lower-left
    quadrant shows a cluster of low-density, low-commute cities with larger/warmer-colored
    bubbles (more green space), while the upper-right has high-density, high-commute
    cities with smaller/cooler-colored bubbles (less green space). The overall layout
    fills the canvas well with data spanning the full range of both axes.
  criteria_checklist:
    visual_quality:
      score: 23
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 8
        passed: true
        comment: 'All font sizes explicitly set: title=34, labels=22, major_labels=20,
          legend=17, value=14. All clearly readable.'
      - id: VQ-02
        name: No Overlap
        score: 4
        max: 6
        passed: false
        comment: Minor overlap in lower-left cluster where several bubbles crowd together.
          Bottom legend with 8 columns is tightly spaced.
      - id: VQ-03
        name: Element Visibility
        score: 5
        max: 6
        passed: true
        comment: Bubble sizes well-differentiated across 8 tiers. Some smaller dots
          (deep purple tier) are harder to distinguish from each other.
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 4
        passed: true
        comment: Indigo-to-amber sequential palette avoids red-green issues entirely.
          Sufficiently distinct for colorblind viewers.
      - id: VQ-05
        name: Layout Balance
        score: 2
        max: 4
        passed: false
        comment: Plot area well-utilized horizontally, but 8-column bottom legend
          takes significant vertical space. Data clusters heavily in lower-left.
      - id: VQ-06
        name: Axis Labels & Title
        score: 2
        max: 2
        passed: true
        comment: 'Descriptive with units: Population Density (people/km²) and Avg
          Commute Time (min).'
    design_excellence:
      score: 12
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 6
        max: 8
        passed: true
        comment: Strong design with custom sequential palette, intentional font hierarchy,
          publication-quality Style. Clearly above defaults.
      - id: DE-02
        name: Visual Refinement
        score: 4
        max: 6
        passed: true
        comment: White/fafafa backgrounds, subtle grid, custom margins, tooltip styling.
          Grid lines could be lighter; 8 overlapping series add some visual noise.
      - id: DE-03
        name: Data Storytelling
        score: 4
        max: 6
        passed: true
        comment: Clear visual hierarchy with size variation and color encoding. Positive
          density-commute correlation immediately apparent. Coherent urban planning
          story.
    spec_compliance:
      score: 13
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: Correct bubble chart using pygal.XY with varying dots_size per series.
      - id: SC-02
        name: Required Features
        score: 3
        max: 4
        passed: false
        comment: Three variables mapped. Transparency applied (0.62). No dedicated
          size legend showing bubble-to-value mapping.
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: X=population density, Y=commute time, size=green space percentage.
          All correct.
      - id: SC-04
        name: Title & Legend
        score: 2
        max: 3
        passed: true
        comment: Title format correct. Legend labels informative but tier-based grouping
          means no proper size legend.
    data_quality:
      score: 14
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 5
        max: 6
        passed: true
        comment: Shows positive correlation, size variation, good data spread. Could
          benefit from more outliers.
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 5
        passed: true
        comment: City comparison with population density, commute time, and green
          space is realistic, neutral, and comprehensible.
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 4
        passed: true
        comment: 'All values realistic: density 1500-14000/km², commute 16-34 min,
          green space 5-52%.'
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Imports → Data → Style → Plot → Save. No functions/classes.
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: np.random.seed(42) present.
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only numpy, pygal, and pygal.style imported; all used.
      - id: CQ-04
        name: Code Elegance
        score: 1
        max: 2
        passed: false
        comment: 8-tier binning approach is somewhat verbose but necessary given pygal
          limitations. Acceptable complexity.
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html. No deprecated functions.
    library_features:
      score: 8
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 4
        max: 5
        passed: true
        comment: 'Good idiomatic pygal: Style customization, XY chart with tuple values,
          per-series dots_size, legend configuration.'
      - id: LM-02
        name: Distinctive Features
        score: 4
        max: 5
        passed: true
        comment: 'Leverages pygal-specific features: SVG-native tooltips with custom
          label text, tooltip_fancy_mode, legend_at_bottom_columns, dual HTML+PNG
          export.'
