library: plotly
specification_id: gain-curve
created: '2025-12-29T23:20:47Z'
updated: '2025-12-29T23:23:00Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20584841141
issue: 0
python_version: 3.13.11
library_version: 6.5.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/gain-curve/plotly/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/gain-curve/plotly/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/gain-curve/plotly/plot.html
quality_score: 92
impl_tags:
  dependencies: []
  techniques:
  - html-export
  patterns:
  - data-generation
  dataprep: []
  styling: []
review:
  strengths:
  - Excellent implementation of cumulative gains chart with all three required curves
    (model, random baseline, perfect model)
  - Clear, readable text sizing following the library guidelines (28pt title, 22pt
    labels, 18pt ticks)
  - Good use of Plotly fill feature to highlight the gain over baseline
  - Well-structured code with clear data simulation using beta distributions for realistic
    model scores
  - Correct title format and professional appearance
  weaknesses:
  - Legend placement in lower-right corner has minor overlap with the baseline diagonal
    line
  - Could better leverage Plotly interactive features (hover tooltips with specific
    values, annotations for key thresholds)
  image_description: 'The plot displays a cumulative gains chart with three lines
    on a white background. The main model curve (solid dark blue, #306998) shows the
    cumulative percentage of positives captured as population percentage increases,
    with a light blue fill area between the model curve and the baseline. A dashed
    gray diagonal line represents the random baseline (from 0,0 to 100,100). A dotted
    yellow/gold line shows the perfect model - rising vertically to 100% at around
    20% of population, then horizontal to 100%. The x-axis is labeled "Percentage
    of Population Targeted (%)" (0-100), y-axis is "Percentage of Positives Captured
    (%)" (0-100). Title "gain-curve · plotly · pyplots.ai" is centered at top. Legend
    is positioned in lower-right corner with entries for Model, Perfect Model, and
    Random (Baseline). Grid lines are subtle gray. The model curve demonstrates good
    discrimination, rising steeply initially and capturing ~80% of positives by targeting
    ~30% of population.'
  criteria_checklist:
    visual_quality:
      score: 37
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 28pt, axis labels at 22pt, tick labels at 18pt - all clearly
          readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping elements anywhere
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Lines are well-sized (width 3-4), though model line could be slightly
          thicker for better visibility against fill area
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue/gray/yellow are colorblind-safe, good contrast
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Plot fills canvas well with balanced margins
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Descriptive labels with units (%)
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Grid is subtle (good), but legend placement in lower-right corner
          partially overlaps with the baseline diagonal where it crosses
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct cumulative gains chart
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: X=population %, Y=positives captured % - correctly assigned
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Includes diagonal baseline (random), perfect model curve, and main
          model curve as specified
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Both axes show 0-100% range appropriately
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend labels are accurate and descriptive
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Uses correct format: "gain-curve · plotly · pyplots.ai"'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows model discrimination well, includes perfect model reference;
          could show slight variations in model quality to demonstrate different scenarios
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Customer response model evaluation is a realistic, neutral business
          scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: 20% positive rate and model performance are realistic; 1000 samples
          produces slightly granular curve
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Clean flow: imports → data → calculation → plot → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only numpy and plotly.graph_objects used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Plotly API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 2
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 2
        max: 5
        passed: false
        comment: Uses fill="tonexty" for area fill which is nice, but doesn't leverage
          Plotly's interactive features like hover tooltips with additional info (e.g.,
          showing exact values on hover), annotations for key points, or range sliders
  verdict: APPROVED
