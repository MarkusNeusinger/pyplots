library: pygal
specification_id: bar-race-animated
created: '2026-01-11T00:21:12Z'
updated: '2026-01-11T00:57:57Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20886563904
issue: 3653
python_version: 3.13.11
library_version: 3.1.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/bar-race-animated/pygal/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/bar-race-animated/pygal/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/bar-race-animated/pygal/plot.html
quality_score: 87
review:
  strengths:
  - Excellent small multiples approach to represent animation in a static format
  - Clear ranking progression visible across years (NVIDIA rise is engaging)
  - Consistent color coding allows tracking entities across panels
  - Good use of value labels on bars showing exact market cap
  - Clean title format and professional appearance
  - Both PNG and interactive HTML output generated
  weaknesses:
  - Per-chart legends are redundant since global legend exists (adds visual noise)
  - Some value labels on smaller bars may be hard to read
  - Heavy reliance on PIL/Pillow for composition rather than pygal native features
  image_description: 'The plot displays a 3x2 grid of horizontal bar charts showing
    tech company market cap evolution from 2019 to 2024. Each panel represents one
    year with bars sorted by value (descending). The main title "bar-race-animated
    路 pygal 路 pyplots.ai" is centered at the top in a large, readable font. Each bar
    shows its value label (e.g., "$1,200B") positioned in the middle of the bar. Companies
    are color-coded consistently across all panels: Apple (blue), Microsoft (yellow),
    Alphabet (green), Amazon (orange), Meta (purple), Tesla (red), NVIDIA (lime green),
    Samsung (brown). A global legend appears at the bottom of the image showing all
    company-color mappings. The charts effectively show ranking changes over time
    - notably NVIDIA rises from near-bottom positions in 2019 to #1 by 2024, while
    Tesla and Microsoft also show dramatic growth. Meta shows volatility with a dip
    in 2022. The bars are properly sorted by value within each year panel, demonstrating
    the "race" concept through small multiples. The layout is clean with white backgrounds,
    subtle grid lines, and properly scaled axes that adjust per year to accommodate
    the data range.'
  criteria_checklist:
    visual_quality:
      score: 34
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 10
        passed: true
        comment: Main title and axis labels readable, some value labels inside bars
          slightly small
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements, clean layout
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Bars well-sized and visible, good spacing between bars
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: 8 distinct colors that are colorblind-friendly
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good grid space usage, but per-chart legends add redundancy
      - id: VQ-06
        name: Axis Labels
        score: 1
        max: 2
        passed: true
        comment: X-axis labeled Market Cap ($B), Y-axis has no explicit label
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: true
        comment: Grid subtle, per-chart legends redundant with global legend
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct horizontal bar chart, properly sorted per time period
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Companies on Y-axis, market cap on X-axis, correctly sorted
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Small multiples for animation, sorted bars, consistent colors, time
          indicator as year titles
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Axes auto-scale appropriately per year
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Global legend correctly maps colors to companies
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Correctly uses bar-race-animated 路 pygal 路 pyplots.ai
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows ranking changes well, demonstrates race concept effectively
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Tech company market cap is real, neutral, comprehensible scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Values plausible for tech market caps, NVIDIA 2024 value slightly
          aggressive
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 2
        max: 3
        passed: true
        comment: Mostly linear flow, uses PIL for grid composition adding complexity
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current pygal API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses pygal HorizontalBar with custom Style, print_values, value_formatter,
          and HTML export. Relies heavily on PIL for composition.
  verdict: APPROVED
impl_tags:
  dependencies:
  - cairosvg
  - pillow
  techniques:
  - subplots
  - html-export
  - annotations
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling: []
