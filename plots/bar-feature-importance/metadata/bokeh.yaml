library: bokeh
specification_id: bar-feature-importance
created: '2025-12-26T17:38:23Z'
updated: '2025-12-26T17:42:28Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20526603172
issue: 0
python_version: 3.13.11
library_version: 3.8.1
preview_url: https://storage.googleapis.com/pyplots-images/plots/bar-feature-importance/bokeh/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/bar-feature-importance/bokeh/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/bar-feature-importance/bokeh/plot.html
quality_score: 91
impl_tags:
  dependencies: []
  techniques:
  - custom-legend
  - html-export
  patterns:
  - columndatasource
  dataprep: []
  styling:
  - custom-colormap
  - grid-styling
review:
  strengths:
  - Excellent color gradient implementation using LinearColorMapper with Blues9 palette
  - Clean, readable feature names with value annotations at bar ends
  - Proper sorting with highest importance at top for easy scanning
  - Good use of ColumnDataSource pattern for data binding
  - Dual output (PNG + HTML) leveraging Bokeh web capabilities
  - Professional styling with subtle grid and clean background
  weaknesses:
  - Missing HoverTool for interactive exploration in HTML output (Bokeh key strength)
  - Y-axis label could be added (Feature or Model Feature)
  image_description: 'The plot displays a horizontal bar chart showing feature importances
    from a machine learning classification model. There are 12 features displayed
    on the y-axis (from bottom to top: Account Balance, Payment History, Home Ownership,
    Num Inquiries, Education Level, Loan Amount, Num Accounts, Debt Ratio, Employment
    Years, Age, Credit Score, Income). The bars extend horizontally with length proportional
    to importance scores. A blue sequential color gradient is applied - darker blue
    for higher importance values, lighter blue for lower values. Each bar has its
    importance value labeled at the end (ranging from 0.015 to 0.185). The title "bar-feature-importance
    · bokeh · pyplots.ai" appears at the top in blue. The x-axis is labeled "Importance
    Score" with tick marks at 0, 0.05, 0.1, 0.15, and 0.2. The background is light
    gray (#fafafa) with subtle dashed vertical grid lines.'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title, axis labels, and value annotations are clearly readable. Feature
          names on y-axis are legible. Slightly smaller than optimal for some elements.
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements. All feature names and value labels
          are clearly separated.
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Bars are well-sized with good height (0.7), clearly distinguishable.
          Color gradient effectively shows importance hierarchy.
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blues9 palette is colorblind-safe. Sequential blue gradient provides
          good contrast.
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: 'Good use of canvas space. Slight issue: feature names appear slightly
          close to edge on y-axis.'
      - id: VQ-06
        name: Axis Labels
        score: 1
        max: 2
        passed: true
        comment: X-axis has "Importance Score" but no units (importance scores are
          unitless, so acceptable). Y-axis has no label (features are self-explanatory).
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: true
        comment: Subtle dashed grid with alpha 0.3 is good. No legend needed for this
          plot type.
    spec_compliance:
      score: 24
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct horizontal bar chart for feature importance.
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Features on y-axis, importance values on x-axis as specified.
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Has sorted bars (highest at top), color gradient, value annotations.
          Missing optional error bars (std) mentioned in spec.
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: X-axis range (0 to ~0.21) properly shows all data with 15% padding.
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: No legend needed; color gradient is self-explanatory.
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: "bar-feature-importance · bokeh · pyplots.ai"'
    data_quality:
      score: 19
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows 12 features with good variation in importance values. Could
          show more dramatic range differences.
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Credit scoring/loan approval model context is realistic and comprehensible.
          Feature names are plausible for this domain.
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Importance values sum close to 1.0, realistic for tree-based model
          feature importances.
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Clean linear structure: imports → data → processing → plot → save.'
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 3
        passed: true
        comment: Data is deterministic (hardcoded), but no random seed comment. Minor
          deduction.
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used (export_png, save, ColumnDataSource, LabelSet,
          LinearColorMapper, Blues9, figure, CDN).
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Bokeh API.
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html.
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses ColumnDataSource, LinearColorMapper, LabelSet - good Bokeh patterns.
          Could leverage HoverTool for interactivity in HTML output.
  verdict: APPROVED
