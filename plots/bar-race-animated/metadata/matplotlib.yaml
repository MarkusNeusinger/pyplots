library: matplotlib
specification_id: bar-race-animated
created: '2026-01-11T00:20:59Z'
updated: '2026-01-11T00:28:38Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20886560266
issue: 3653
python_version: 3.13.11
library_version: 3.10.8
preview_url: https://storage.googleapis.com/pyplots-images/plots/bar-race-animated/matplotlib/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/bar-race-animated/matplotlib/plot_thumb.png
preview_html: null
quality_score: 91
review:
  strengths:
  - Excellent use of FuncAnimation to create smooth animated bar race
  - Clean, readable layout with company labels inside bars and values outside
  - Large semi-transparent year indicator provides clear temporal context
  - Consistent color mapping maintained across all frames
  - Saves both animated GIF and static PNG outputs
  - Good data model with realistic tech company growth patterns
  weaknesses:
  - Color palette includes red and green which may not be fully colorblind-accessible
  - The animate function uses ax.clear() which redraws everything each frame - could
    use bar patches for smoother transitions
  - Y-axis label could be added for completeness
  image_description: 'The plot shows a horizontal bar chart race displaying tech company
    revenue data for year 2024 (the final frame of the animation). Ten companies are
    displayed with horizontal bars sorted by revenue in descending order from top
    to bottom: ByteFlow ($260.2B, orange), AppWorks ($234.0B, green), DataSoft ($227.8B,
    yellow), TechCorp ($163.0B, blue), CloudNet ($126.9B, red), InfoSys ($103.4B,
    blue), CodeLabs ($66.4B, purple), NetBase ($60.9B, purple), DigiCore ($53.3B,
    orange), and WebScale ($39.1B, teal). Each bar has a white company label on the
    left inside the bar and a dollar value label to the right of the bar. A large
    semi-transparent "2024" year indicator appears in the bottom-right corner. The
    x-axis shows "Revenue (Billion USD)" with a subtle dashed grid. The title follows
    the correct format "bar-race-animated 路 matplotlib 路 pyplots.ai". The layout is
    clean with minimal chart chrome (no y-axis labels, spines hidden except bottom).'
  criteria_checklist:
    visual_quality:
      score: 37
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 24pt, axis label at 20pt, tick labels at 16pt, company labels
          and values at 14pt with bold - all clearly readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements, company names fit within bars, value
          labels positioned outside bars
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Bars are appropriately sized with height=0.7, good spacing between
          bars
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 5
        passed: true
        comment: Good variety of distinct colors, but red/green proximity may challenge
          colorblind users
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Plot fills canvas well, year indicator positioned elegantly, good
          margins
      - id: VQ-06
        name: Axis Labels
        score: 1
        max: 2
        passed: true
        comment: X-axis has descriptive label with units, no Y-axis label (acceptable
          for bar race format)
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: true
        comment: Subtle dashed grid with alpha=0.3 on x-axis, no legend needed as
          colors are entity-specific
    spec_compliance:
      score: 24
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct horizontal bar chart race with animation
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Revenue correctly mapped to bar length, companies on Y-axis
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Bars sorted by value, entity labels attached, time indicator visible,
          animation created. No play/pause controls (expected for PNG)
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: X-axis scaled appropriately (0 to max*1.15) to show all data
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: No legend needed, colors are consistent per company
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Correctly uses bar-race-animated 路 matplotlib 路 pyplots.ai
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows 10 companies over 10 years with varying growth rates, demonstrates
          ranking changes
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Tech company revenue is a plausible, neutral business scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Revenue values (39B-260B) are realistic for large tech companies
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 2
        max: 3
        passed: true
        comment: Has animate function necessary for FuncAnimation, structure is clean
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used (matplotlib, numpy, pandas, FuncAnimation)
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current matplotlib API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.gif
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses FuncAnimation for animation, barh for horizontal bars. Could
          leverage more matplotlib features like transforms
  verdict: APPROVED
impl_tags:
  dependencies:
  - pillow
  techniques:
  - annotations
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep:
  - time-series
  styling:
  - alpha-blending
  - edge-highlighting
  - grid-styling
  - minimal-chrome
