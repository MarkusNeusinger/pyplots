library: altair
specification_id: raincloud-basic
created: '2025-12-25T08:23:10Z'
updated: '2026-02-14T20:46:53Z'
generated_by: claude-opus-4-6
workflow_run: 20501865366
issue: 0
python_version: '3.14'
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/raincloud-basic/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/raincloud-basic/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/raincloud-basic/altair/plot.html
quality_score: 82
impl_tags:
  dependencies: []
  techniques:
  - layer-composition
  - annotations
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  - groupby-aggregation
  dataprep:
  - kde
  styling:
  - alpha-blending
  - grid-styling
  - edge-highlighting
review:
  strengths:
  - 'Correct raincloud metaphor: clouds extend upward, rain falls downward from each
    category baseline'
  - Bimodal distribution annotation on Treatment B adds genuine data storytelling
  - All font sizes explicitly set with large, readable values
  - Three distinct distribution shapes showcase the plot type strengths
  - Clean layered composition using Altair declarative approach
  - Interactive HTML output alongside PNG leverages Altair web-native strength
  weaknesses:
  - Box plot IQR rectangles are hard to distinguish from the cloud fill because they
    share the same color; consider making the box fill white or a lighter shade with
    a darker stroke
  - 'Yellow (#FFD43B) has poor contrast against white background; consider a darker/more
    saturated alternative like #D4A017 or #E8A317'
  - The x-axis domain extends to 200-220 where no data exists, wasting horizontal
    space; tightening the domain would improve data-ink ratio
  - Legend is positioned far from the data in the top-right corner; placing it closer
    to the plot area or integrating labels would improve readability
  image_description: 'The plot displays a horizontal raincloud visualization with
    three conditions: Control (steel blue, #306998), Treatment A (warm gold/yellow,
    #FFD43B), and Treatment B (fresh green, #4CAF50). Each condition shows three stacked
    elements: a half-violin KDE curve extending upward (the "cloud"), a box plot with
    dark-outlined IQR box and red median tick centered on the category baseline, and
    jittered strip points scattered below the baseline (the "rain"). The x-axis is
    labeled "Reaction Time (ms)" ranging from ~200 to ~580, with light gray grid lines.
    Category labels ("Control", "Treatment A", "Treatment B") are rendered as bold
    text on the left. Treatment B includes italic annotations highlighting its bimodal
    distribution with "Peak 1" and "Peak 2" labels connected by a dashed line, and
    a "Bimodal distribution" note above. A legend in the top-right corner shows condition-color
    mapping. The title reads "raincloud-basic · altair · pyplots.ai" at the top center.'
  criteria_checklist:
    visual_quality:
      score: 25
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 8
        passed: true
        comment: 'All font sizes explicitly set: title 28pt, axis labels 22pt, tick
          labels 18pt, y-labels 20pt, legend title 20pt, legend labels 18pt'
      - id: VQ-02
        name: No Overlap
        score: 5
        max: 6
        passed: true
        comment: 'Minor: rain points from adjacent conditions get close; bimodal annotation
          text is light but readable'
      - id: VQ-03
        name: Element Visibility
        score: 5
        max: 6
        passed: true
        comment: Rain points and clouds visible, but box plot IQR rectangles blend
          into cloud fill due to matching colors
      - id: VQ-04
        name: Color Accessibility
        score: 3
        max: 4
        passed: true
        comment: Blue and green distinguishable for most colorblind types, but bright
          yellow (#FFD43B) has low contrast against white background
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 4
        passed: true
        comment: Good canvas use with left padding, but x-axis extends to 200-220
          where no data exists, wasting space
      - id: VQ-06
        name: Axis Labels & Title
        score: 2
        max: 2
        passed: true
        comment: Reaction Time (ms) with units on x-axis, descriptive condition names
          on y-axis
    design_excellence:
      score: 14
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 6
        max: 8
        passed: true
        comment: Strong design with custom palette, intentional hierarchy, styled
          grid, removed view strokes. Above defaults but not publication-level
      - id: DE-02
        name: Visual Refinement
        score: 4
        max: 6
        passed: true
        comment: Subtle grid opacity 0.35, view stroke removed, custom axis colors,
          generous padding
      - id: DE-03
        name: Data Storytelling
        score: 4
        max: 6
        passed: true
        comment: Bimodal annotation on Treatment B with labels, dashed line, and note
          guides viewer to key insight
    spec_compliance:
      score: 14
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: Correct raincloud with half-violin cloud, box plot, and jittered
          strip rain
      - id: SC-02
        name: Required Features
        score: 4
        max: 4
        passed: true
        comment: Horizontal orientation, cloud above, rain below, box plot centered,
          median/quartile markers, jitter, alpha
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: Categories on y-axis, continuous values on x-axis as specified
      - id: SC-04
        name: Title & Legend
        score: 2
        max: 3
        passed: true
        comment: Title format correct. Legend present but positioned far from data
          in top-right corner
    data_quality:
      score: 14
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 6
        max: 6
        passed: true
        comment: 'Three conditions with distinct distributions: normal, shifted normal,
          bimodal'
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 5
        passed: true
        comment: Reaction times for treatment conditions - real, neutral scientific
          scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 3
        max: 4
        passed: true
        comment: Realistic reaction time range (300-550ms), though Treatment B second
          peak overlaps with Control center
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear flow: imports, data, plot, save. No functions or classes'
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: np.random.seed(42) used
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only altair, numpy, pandas imported and all used
      - id: CQ-04
        name: Code Elegance
        score: 1
        max: 2
        passed: false
        comment: Verbose manual box plot computation and manual y-axis labels add
          complexity; necessary for Altair but could be streamlined
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves plot.png and plot.html correctly
    library_mastery:
      score: 7
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 4
        max: 5
        passed: true
        comment: Good use of layered composition, transform_density, transform_calculate,
          and declarative encoding. Manual box stats less idiomatic but necessary
      - id: LM-02
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: 'Uses Altair-specific features: transform_density, layer composition,
          interactive(), tooltip encoding, HTML export'
  verdict: REJECTED
