library: altair
specification_id: contour-map-geographic
created: '2026-01-17T11:55:07Z'
updated: '2026-01-18T22:37:15Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21093797329
issue: 3772
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/contour-map-geographic/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/contour-map-geographic/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/contour-map-geographic/altair/plot.html
quality_score: 82
review:
  strengths:
  - Good use of Altair geographic projection capabilities (Mercator with custom center/scale)
  - Effective layer composition combining basemap, temperature fill, contour markers,
    and labels
  - Colorblind-friendly diverging color scheme (redyellowblue)
  - Interactive tooltips showing exact coordinates and temperature
  - Temperature labels with white stroke provide good contrast
  - Realistic temperature pattern with regional variations (Alps, Scandinavia cold
    spots)
  weaknesses:
  - Contour lines are represented as scattered point markers rather than true smooth
    isolines - fundamental Altair limitation
  - 'Title format incorrect: includes European Temperature Contours prefix instead
    of just the required spec-id format'
  - Filled contours use mark_square which creates a pixelated appearance rather than
    smooth continuous fills
  - Altair cannot natively produce true isolines without external contour computation
  image_description: The plot displays a geographic contour map of European temperature
    data. The visualization covers Europe from approximately 25°W to 55°E longitude
    and 30°N to 72°N latitude. Temperature values are shown using a red-yellow-blue
    color scheme (reversed, so red=warm, blue=cold) with values ranging from -10°C
    to 30°C. The southern regions (Mediterranean) appear in deep red (~25-30°C), transitioning
    through orange and yellow in central Europe (~10-20°C), to cooler blue tones in
    northern Scandinavia (~0-5°C). A light gray geographic basemap shows world country
    outlines. Contour "lines" are represented as small black circles marking temperature
    isoline boundaries. Temperature labels (0°C, 10°C, 20°C) appear with white stroke
    for contrast. A colorbar legend on the right displays the temperature scale with
    "Temperature (°C)" title. Longitude labels (20°W to 50°E) appear along the bottom
    edge, and latitude labels (35°N to 70°N) along the left edge. The title reads
    "European Temperature Contours · contour-map-geographic · altair · pyplots.ai"
    which includes an extra prefix before the required spec-id format. The temperature
    data uses a dense grid of square markers to create a filled contour effect, with
    black circle markers overlaid to indicate contour level boundaries.
  criteria_checklist:
    visual_quality:
      score: 32
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 10
        passed: true
        comment: Title and colorbar labels readable; contour labels with white stroke;
          axis labels slightly small
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements
      - id: VQ-03
        name: Element Visibility
        score: 6
        max: 8
        passed: true
        comment: Temperature grid visible but contour lines as scattered circles are
          not true isolines
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Red-yellow-blue diverging scheme is colorblind-friendly
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 5
        passed: true
        comment: Good canvas utilization but data doesn't fully extend to map edges
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Latitude/longitude labels with directional indicators
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: No visible grid lines on map
    spec_compliance:
      score: 19
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 6
        max: 8
        passed: true
        comment: Shows temperature over geography but contour lines are point-based
          approximations
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Latitude/longitude correctly mapped with Mercator projection
      - id: SC-03
        name: Required Features
        score: 2
        max: 5
        passed: false
        comment: Missing true smooth contour lines - uses scattered points instead
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Full temperature range visible from -10 to 30°C
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Colorbar correctly labeled with Temperature (°C)
      - id: SC-06
        name: Title Format
        score: 1
        max: 2
        passed: false
        comment: Title includes extra prefix instead of just spec-id format
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows temperature gradient with regional variations (Alps, Scandinavia)
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: European temperature distribution is realistic and neutral
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Temperature range -10 to 30°C is plausible for European climate
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear code structure: imports → data → plot → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only altair, numpy, pandas imported
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Altair API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves plot.png but also plot.html
    library_features:
      score: 4
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 4
        max: 5
        passed: true
        comment: Uses geographic projections, topo_feature, layer composition, tooltips;
          lacks native contour support
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - layer-composition
  - hover-tooltips
  - html-export
  - annotations
  patterns:
  - data-generation
  - matrix-construction
  - iteration-over-groups
  dataprep: []
  styling:
  - custom-colormap
  - alpha-blending
