library: plotly
specification_id: campbell-basic
created: '2026-02-15T21:07:54Z'
updated: '2026-02-15T21:11:29Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 22043026911
issue: 4241
python_version: 3.14.3
library_version: 6.5.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/plotly/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/plotly/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/plotly/plot.html
quality_score: 85
review:
  strengths:
  - Clean, well-structured intersection-finding algorithm that correctly identifies
    critical speeds using sign changes
  - Good visual hierarchy with subdued gray dashed engine order lines and prominent
    red diamond critical speed markers
  - 'Properly uses Plotly-specific features: custom hovertemplates, annotations, and
    dual PNG/HTML export'
  - Realistic rotordynamic data with appropriate mode names, frequency ranges, and
    gyroscopic speed-dependent behavior
  - All font sizes explicitly set for consistent readability at target resolution
  weaknesses:
  - The 2x and 3x engine order labels are not visible because the annotation positions
    are placed at the line endpoints which exceed the y-axis range (110 Hz); these
    labels need to be repositioned within the visible plot area or the y-axis range
    needs to be extended
  - Legend overlaps slightly with the upper-left data area where mode curves and EO
    lines intersect; consider repositioning or making it more compact
  - Color palette could be more colorblind-safe; the combination of green (2nd Bending)
    and red (critical speed markers) may be difficult for deuteranopia viewers
  image_description: 'The plot displays a Campbell Diagram with four natural frequency
    mode curves plotted against rotational speed (0-6000 RPM) on the x-axis and frequency
    (0-110 Hz) on the y-axis. The four modes are: 1st Bending (blue, rising slowly
    from ~18 Hz), 2nd Bending (green, declining from ~43 Hz), 1st Torsional (purple,
    nearly flat at ~55 Hz), and Axial (orange, declining from ~73 Hz). Three engine
    order excitation lines (EO 1x, 2x, 3x) are drawn as dashed gray diagonals from
    the origin. Red diamond markers with white borders indicate critical speed intersections
    where engine order lines cross mode curves. The legend is positioned in the upper-left
    corner listing all modes, EO lines, and critical speed markers. The title reads
    "campbell-basic · plotly · pyplots.ai" centered at top. The background is white
    with a light gray paper background (#FAFBFC) and very subtle grid lines. Only
    the "1x" engine order label is visible at the right edge — the "2x" and "3x" labels
    are clipped because their line endpoints exceed the y-axis maximum of 110 Hz.'
  criteria_checklist:
    visual_quality:
      score: 27
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 8
        passed: true
        comment: 'All font sizes explicitly set: title 28pt, axis labels 22pt, ticks
          18pt, legend 16pt, annotations 16pt. All text clearly readable.'
      - id: VQ-02
        name: No Overlap
        score: 4
        max: 6
        passed: false
        comment: The 2x and 3x engine order annotation labels are clipped by the y-axis
          range (max 110 Hz), making them invisible. Legend slightly overlaps the
          upper data region.
      - id: VQ-03
        name: Element Visibility
        score: 6
        max: 6
        passed: true
        comment: Line widths of 3, diamond markers size 14 with white edge borders
          — all elements clearly visible and well-sized.
      - id: VQ-04
        name: Color Accessibility
        score: 3
        max: 4
        passed: false
        comment: Mode colors generally distinguishable, but green (2nd Bending) and
          red (critical speed diamonds) could be problematic for red-green colorblind
          viewers.
      - id: VQ-05
        name: Layout & Canvas
        score: 4
        max: 4
        passed: true
        comment: Plot fills canvas well with balanced margins. Good use of space.
      - id: VQ-06
        name: Axis Labels & Title
        score: 2
        max: 2
        passed: true
        comment: Rotational Speed (RPM) and Frequency (Hz) — descriptive with units.
    design_excellence:
      score: 13
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 5
        max: 8
        passed: false
        comment: Clean plotly_white template, custom color palette starting with Python
          Blue, intentional font choices. Above default but not publication-showcase
          level.
      - id: DE-02
        name: Visual Refinement
        score: 4
        max: 6
        passed: false
        comment: Subtle grid (rgba 0.06 opacity), zeroline removed, custom background
          colors, generous margins. Good refinement visible.
      - id: DE-03
        name: Data Storytelling
        score: 4
        max: 6
        passed: true
        comment: Red diamond critical speed markers create clear focal points drawing
          attention to resonance conditions. Engine order lines intentionally subdued
          in gray dashes. Visual hierarchy guides the viewer.
    spec_compliance:
      score: 14
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: Correct Campbell Diagram with natural frequency curves, engine order
          lines, and critical speed markers.
      - id: SC-02
        name: Required Features
        score: 3
        max: 4
        passed: false
        comment: All features present but 2x/3x engine order labels not visible due
          to clipping beyond y-axis range.
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: X-axis = rotational speed in RPM, Y-axis = frequency in Hz. Correct
          mapping.
      - id: SC-04
        name: Title & Legend
        score: 3
        max: 3
        passed: true
        comment: Title format correct. Legend labels are descriptive and accurate.
    data_quality:
      score: 14
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 5
        max: 6
        passed: false
        comment: Four modes with realistic speed-dependent behavior, three engine
          orders, multiple critical speed intersections. Good but could show more
          dramatic frequency variation.
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 5
        passed: true
        comment: Real rotordynamic scenario with proper mode names and plausible frequency
          ranges.
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 4
        passed: true
        comment: 0-6000 RPM and 0-110 Hz are realistic ranges for turbomachinery analysis.
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Flat script: imports, data generation, plot construction, save.
          No functions or classes.'
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: np.random.seed(42) set.
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only numpy and plotly.graph_objects imported, both used.
      - id: CQ-04
        name: Code Elegance
        score: 2
        max: 2
        passed: true
        comment: Clean, well-structured code. Intersection-finding algorithm is clear
          and efficient.
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves plot.png at 1600x900 with scale=3. Also exports HTML.
    library_mastery:
      score: 7
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 4
        max: 5
        passed: false
        comment: Uses go.Figure(), go.Scatter(), add_trace(), update_layout(), add_annotation()
          — all idiomatic Plotly Graph Objects patterns.
      - id: LM-02
        name: Distinctive Features
        score: 3
        max: 5
        passed: false
        comment: Custom hovertemplate with HTML formatting, add_annotation for edge
          labels, HTML export alongside PNG — Plotly-distinctive features.
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - grid-styling
