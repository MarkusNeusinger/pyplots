library: altair
specification_id: network-transport-static
created: '2026-01-09T23:49:56Z'
updated: '2026-01-09T23:54:03Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20868907430
issue: 3463
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/network-transport-static/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/network-transport-static/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/network-transport-static/altair/plot.html
quality_score: 91
review:
  strengths:
  - Excellent use of Altair layering system to compose nodes, labels, edges, and arrows
  - Smart parallel route offset calculation to distinguish multiple routes between
    same stations
  - Clean color scheme that differentiates route types while remaining colorblind-accessible
  - Selective edge labeling prevents visual clutter
  - Proper use of scale reversal for intuitive north-up orientation
  - Tooltips provide route details on hover
  weaknesses:
  - Edge labels are somewhat small relative to overall diagram size
  - Not all route labels are shown (intentional for readability, but spec mentions
    all edges should display info)
  image_description: |-
    The plot displays a static transport network diagram representing a regional rail system with 12 stations. Stations are shown as white circular nodes with dark gray borders, displaying the station name above (e.g., "Central Station", "North Terminal", "Airport") and a single-letter ID (A through L) in blue inside the circle. The network is geographically arranged with North Terminal and Airport at the top, Central Station in the middle, and South Park at the bottom.

    Routes are represented as colored lines with triangular arrow heads indicating travel direction:
    - Express routes (blue, #306998): RE1, RE2, RE3 - connecting major hubs
    - Regional routes (yellow/gold, #FFD43B): RB1, RB2, RB3 - intermediate services
    - Local routes (light blue, #5DA5DA): S1-S6 - shorter neighborhood connections

    Six representative route labels are displayed along edges showing route ID and departure/arrival times (e.g., "RE1 | 06:00→06:25", "S3 | 07:30→07:50"). A legend in the top-right corner identifies the three route types. The title "network-transport-static · altair · pyplots.ai" appears at the top center.
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title and station labels are readable; edge labels are slightly small
          but acceptable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text; careful selection of only 6 edge labels prevents
          clutter
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Nodes and edges are well-sized; parallel route offsets work well
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue/yellow/light-blue scheme is colorblind-safe
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Good canvas utilization, network fills the space well
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: true
        comment: N/A for network diagram (no axes), correctly hidden
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Legend well-placed, no grid (appropriate for network)
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct directed network visualization with nodes and edges
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Stations as nodes, routes as directed edges with arrows
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Has direction arrows, route labels with times, color-coding by type;
          curved/offset edges implemented; tooltips present
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All 12 stations and routes visible
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Route Type legend correctly identifies Express/Regional/Local
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: network-transport-static · altair · pyplots.ai'
    data_quality:
      score: 19
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows express/regional/local route types, bidirectional routes, multiple
          station connections
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Realistic regional rail network scenario with plausible station names
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: 12 stations, 24 routes - matches spec recommendation of 8-20 stations
          with 15-60 routes
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 2
        max: 3
        passed: true
        comment: Mostly linear structure but uses complex offset calculations
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only necessary imports (altair, numpy, pandas)
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Altair API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 4
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 4
        max: 5
        passed: true
        comment: Good use of Altair's declarative layer composition, mark_rule for
          edges, mark_point for arrows with angle encoding, tooltips, scale reversal
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - layer-composition
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - alpha-blending
  - minimal-chrome
