library: altair
specification_id: network-hierarchical
created: '2026-01-08T21:56:31Z'
updated: '2026-01-08T22:18:32Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20832958550
issue: 3343
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/network-hierarchical/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/network-hierarchical/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/network-hierarchical/altair/plot.html
quality_score: 91
review:
  strengths:
  - Excellent hierarchical tree layout algorithm that properly positions nodes based
    on subtree widths
  - Layer composition (edge_layer, node_layer, label_layer) demonstrates Altair declarative
    layering
  - Color scheme effectively differentiates hierarchy levels with semantic legend
    labels
  - Interactive tooltips available on hover for node details
  - Clean subtitle provides context about the visualization
  weaknesses:
  - Some label overlap at the bottom level between adjacent nodes (e.g., Lead Cloud
    Lead Security)
  - Code comments indicate 25 employees but the actual implementation and subtitle
    say 30
  image_description: The plot displays a hierarchical network graph representing an
    organizational chart with 30 employees distributed across 4 management levels.
    The CEO node is positioned at the top center in dark blue (#306998). Four VP nodes
    (VP Engineering, VP Sales, VP Marketing, VP Operations) are shown in lighter blue
    (#4B8BBE) at level 1. Eight Director nodes appear in yellow (#FFD43B) at level
    2 (Dir Frontend, Dir Backend, Dir DevOps, Dir East, Dir West, Dir Digital, Dir
    Brand, Dir Logistics, Dir Facilities). Seventeen Manager/Lead nodes are displayed
    in gray (#646464) at the bottom level (Lead UI, Lead UX, Lead API, Lead Data,
    Lead Cloud, Lead Security, Mgr Northeast, Mgr Southeast, Mgr Northwest, Mgr Southwest,
    Mgr Social, Mgr Content, Mgr PR, Mgr Design, Mgr Supply, Mgr Office). Nodes are
    connected by gray semi-transparent edges showing parent-child relationships. The
    title uses the correct format "network-hierarchical 路 altair 路 pyplots.ai" with
    a subtitle. A legend on the right shows level-to-role mapping (Executive, VP,
    Director, Manager).
  criteria_checklist:
    visual_quality:
      score: 35
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title 28pt readable, labels 16pt readable but some bottom labels
          slightly crowded
      - id: VQ-02
        name: No Overlap
        score: 6
        max: 8
        passed: true
        comment: Minor overlap between some adjacent labels at bottom level
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Node size 1200 with white stroke is excellent for 30 nodes
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue/yellow/gray scheme is colorblind-safe
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Good use of canvas, tree centered, legend well-positioned
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: true
        comment: N/A for network graphs (axes hidden appropriately)
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Legend clear with semantic labels, no grid needed
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct hierarchical network graph with tree layout
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Nodes positioned by level (y) and subtree width (x)
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Tree layout, parent-child edges, level-based positioning, root at
          top
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All 30 nodes visible across 4 levels
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly maps levels to role names
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Uses network-hierarchical 路 altair 路 pyplots.ai
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows hierarchy depth, branching patterns, but all branch widths
          are uniform
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Organizational chart is a realistic scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: 30 employees across 4 levels is reasonable; spec suggested 10-50
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 2
        max: 3
        passed: true
        comment: Manual tree layout algorithm adds complexity, but needed for Altair
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Current Altair 6.0 API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: true
        comment: Saves as plot.png correctly
    library_features:
      score: 5
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 5
        max: 5
        passed: true
        comment: Layer composition with mark_line detail encoding, mark_circle, mark_text;
          declarative approach; proper use of scale/legend configuration
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - layer-composition
  - hover-tooltips
  - custom-legend
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - edge-highlighting
  - alpha-blending
