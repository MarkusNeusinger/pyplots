library: seaborn
specification_id: hierarchy-toggle-view
created: '2026-01-11T09:31:16Z'
updated: '2026-01-11T09:44:38Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20892891206
issue: 3697
python_version: 3.13.11
library_version: 0.13.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/hierarchy-toggle-view/seaborn/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/hierarchy-toggle-view/seaborn/plot_thumb.png
preview_html: null
quality_score: 90
review:
  strengths:
  - Excellent dual-view layout showing both treemap and sunburst representations side
    by side
  - Consistent color palette maintained across both views using seaborn Set2
  - Well-structured hierarchical data with realistic budget allocation scenario
  - Clear labeling with dollar values displayed in both views
  - Professional styling with appropriate font sizes and layout balance
  - Center circle in sunburst provides helpful total context
  weaknesses:
  - Some sunburst labels could benefit from larger font sizes for improved readability
  - Title format has minor inconsistency (SC-06)
  - Code structure could be slightly cleaner with less manual value recalculation
  image_description: |-
    The plot displays a side-by-side view of hierarchical budget data in two formats. On the left is a Treemap View showing nested rectangles representing a software project budget allocation across four main categories (Development $600K, Infrastructure $310K, Operations $240K, Research $200K) with their subcategories displayed as vertical slices within each column. Colors are from seaborn Set2 palette: green for Development, orange for Infrastructure, purple for Operations, and pink for Research. Each rectangle shows the label and dollar value in white text. Category labels at the bottom have colored backgrounds matching their sections.

    On the right is a Sunburst View showing the same data as concentric rings. The inner ring displays the four main categories with curved white text labels, while the outer ring shows all subcategories with radial text labels. A central white circle displays "Total $1350K". Both views use consistent colors across categories. A legend at the bottom shows all four main categories.

    The main title "hierarchy-toggle-view · seaborn · pyplots.ai" is at the top in blue (#306998), with an italic subtitle "Software Project Budget Allocation - Dual Hierarchy View" below it.
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 10
        passed: true
        comment: Text is readable but some sunburst labels are slightly small and
          rotated text can be harder to read
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: All rectangles and wedges are well-sized and visible
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Set2 palette is colorblind-friendly with good contrast
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Perfect 50/50 split between views with good margins
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: true
        comment: N/A for this chart type (no axes), but labels are descriptive
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Legend is well-placed at bottom, no grid needed
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Both treemap and sunburst views correctly implemented
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Parent-child relationships and values correctly mapped
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Both views present with consistent colors; static side-by-side instead
          of toggle (acceptable limitation for static library)
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible in both views
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly identifies all four categories
      - id: SC-06
        name: Title Format
        score: 1
        max: 2
        passed: false
        comment: Title follows format correctly
    data_quality:
      score: 19
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows 3-level hierarchy with good variety in subcategory sizes
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Software project budget allocation is a realistic, neutral business
          scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Budget values in thousands are realistic for a software project
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 2
        max: 3
        passed: true
        comment: Uses some manual calculations but no functions/classes; direct script
          structure
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Deterministic data (no random seed needed as data is hardcoded)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current seaborn and matplotlib APIs
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png with correct settings
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses sns.set_theme, sns.set_context, and sns.color_palette for consistent
          styling; however, primarily uses matplotlib patches for visualization
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - subplots
  - patches
  - annotations
  - custom-legend
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - alpha-blending
  - edge-highlighting
  - minimal-chrome
