library: highcharts
specification_id: mosaic-categorical
created: '2026-01-11T00:20:13Z'
updated: '2026-01-11T00:40:24Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20886562386
issue: 3650
python_version: 3.13.11
library_version: unknown
preview_url: https://storage.googleapis.com/pyplots-images/plots/mosaic-categorical/highcharts/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/mosaic-categorical/highcharts/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/mosaic-categorical/highcharts/plot.html
quality_score: 91
review:
  strengths:
  - Excellent use of treemap as mosaic approximation with stripes layout algorithm
  - Outstanding text legibility with appropriate font sizes and text outlines
  - Perfect colorblind-safe color scheme (blue/yellow)
  - Effective inline legend in subtitle avoids chart clutter
  - Realistic Titanic dataset demonstrates categorical association patterns clearly
  - Good canvas utilization (~90% filled)
  - Hierarchical data structure properly represents class to survival breakdown
  weaknesses:
  - Traditional mosaic plots have a specific layout where widths represent marginal
    proportions and heights represent conditional proportions; treemap is an approximation
  - The subtitle has extra descriptive text beyond the pure spec format requirement
  image_description: 'The plot displays a mosaic/treemap visualization of Titanic
    survival data by passenger class. The chart uses a "stripes" layout algorithm
    creating horizontal rectangular sections. Four passenger classes are shown: Crew
    (largest, top), Third (second largest), First, and Second (smallest, bottom).
    Each class section is subdivided into "Survived" (Python Blue #306998) and "Died"
    (Python Yellow #FFD43B) rectangles. The title "mosaic-categorical · highcharts
    · pyplots.ai" appears at the top in bold. A subtitle provides context: "Titanic
    Survival by Passenger Class · Rectangle area proportional to count" with a color
    legend showing blue square for Survived and yellow square for Died. All text labels
    are clearly readable with white text outlines for contrast. The plot fills the
    canvas well with balanced margins.'
  criteria_checklist:
    visual_quality:
      score: 37
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 72px, subtitle at 42px, data labels at 32-48px, all perfectly
          readable with text outlines for contrast
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements, all labels clearly positioned within
          their rectangles
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Rectangles well-sized, but some smaller sections (Second class) have
          proportionally less visual weight
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue (#306998) and Yellow (#FFD43B) are colorblind-safe, good contrast
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Plot fills approximately 90% of canvas, excellent use of space with
          proper margins
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: false
        comment: N/A for treemap visualization (no axes), but subtitle provides context
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Inline legend in subtitle is clean and effective, white borders between
          sections work well
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 7
        max: 8
        passed: true
        comment: Uses treemap as mosaic approximation; rectangles show proportional
          areas correctly, though traditional mosaic plots have a more specific layout
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Class as primary category (rows), Survival as secondary (colors within),
          counts as area
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Shows categorical association, rectangle areas proportional to frequency,
          color coding for survival status
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All four classes and both survival outcomes visible
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Subtitle legend accurately describes Survived (blue) and Died (yellow)
      - id: SC-06
        name: Title Format
        score: 1
        max: 2
        passed: false
        comment: Correct format but extra descriptive text in subtitle (acceptable
          but not pure spec format)
    data_quality:
      score: 19
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows variation across classes (First had high survival, Third/Crew
          had low survival), demonstrates association patterns
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Classic Titanic dataset, well-known neutral historical example
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Counts are realistic (203, 122, 118, 167, 178, 528, 212, 673) matching
          historical patterns
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 2
        max: 3
        passed: true
        comment: Generally follows linear structure but has more complexity for treemap/selenium
          workflow
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set (though data is hardcoded, seed is present)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Highcharts API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves as plot.png correctly after cropping
    library_features:
      score: 4
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 4
        max: 5
        passed: true
        comment: Uses Highcharts treemap with stripes layout, hierarchical data structure,
          level-specific styling, interactive HTML export
  verdict: APPROVED
impl_tags:
  dependencies:
  - selenium
  - pillow
  techniques:
  - html-export
  - annotations
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - edge-highlighting
