library: highcharts
specification_id: map-connection-lines
created: '2026-01-21T16:30:05Z'
updated: '2026-01-21T16:33:06Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21217354302
issue: 3746
python_version: 3.13.11
library_version: unknown
preview_url: https://storage.googleapis.com/pyplots-images/plots/map-connection-lines/highcharts/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/map-connection-lines/highcharts/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/map-connection-lines/highcharts/plot.html
quality_score: 91
review:
  strengths:
  - Excellent use of Highcharts flowmap module specifically designed for connection
    line visualizations
  - Gradient fill from Python blue to Python yellow creates visually appealing route
    lines
  - Dynamic marker sizing based on total traffic volume at each airport
  - Both interactive HTML and static PNG outputs provided
  - Well-structured realistic data with actual airport codes and plausible passenger
    volumes
  - Proper use of curveFactor for great circle arc appearance
  - Arrow markers on route endpoints indicate direction
  weaknesses:
  - European hub labels (LHR, CDG, FRA) are slightly crowded due to geographic proximity
  image_description: The plot displays a world map visualization with international
    flight routes between major hub airports. The base map shows continental outlines
    in light gray (#f0f0f0) with subtle borders (#cccccc). Twelve airport locations
    are marked with blue circular markers (#306998) of varying sizes based on total
    traffic volume. The airport codes (LHR, JFK, LAX, CDG, FRA, DXB, SIN, HKG, HND,
    GRU, JNB, SYD) are displayed as labels near each marker. Connection lines (flowmap
    arcs) are drawn between airports with a gradient fill from blue to yellow, representing
    flight routes. The line thickness varies based on passenger volume - the thickest
    lines connect major hubs like London-New York and New York-Los Angeles. The map
    uses a standard world projection showing all continents. The title reads "International
    Flight Routes · map-connection-lines · highcharts · pyplots.ai" with a subtitle
    explaining that line thickness represents annual passenger volume.
  criteria_checklist:
    visual_quality:
      score: 37
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title and subtitle are clearly readable; airport code labels are
          small but legible at full resolution
      - id: VQ-02
        name: No Overlap
        score: 7
        max: 8
        passed: true
        comment: Minor overlap at European hub labels (LHR, CDG, FRA are close together)
          but still readable
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Markers and connection lines are clearly visible with good sizing
          for data density; flowmap arcs are distinct
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue-to-yellow gradient is colorblind-safe; no red-green conflicts
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Map uses canvas well but could center better; some empty space at
          bottom
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: N/A for maps - correctly omitted as geographic context is provided
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Legend disabled (appropriate for this dense visualization); base
          map provides geographic context
    spec_compliance:
      score: 24
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: 'Correct chart type: geographic map with connection lines/flowmap'
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Origin/destination coordinates correctly mapped; weight drives line
          thickness
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Curved lines, markers at endpoints, transparency, base map present;
          gradient color encoding could be more pronounced
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All routes visible within map bounds
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend disabled appropriately; subtitle explains encoding
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Uses required format: map-connection-lines · highcharts · pyplots.ai'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: 'Shows diverse routes: transatlantic, Europe-Asia, Asia-Pacific,
          Americas, Africa connections'
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Real airport codes and realistic flight route patterns; neutral business/travel
          scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Passenger volumes (850K-4200K) are realistic for major hub routes
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear flow: imports → data → config → render → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42) at the start
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used (json, tempfile, time, urllib.request, Path,
          numpy, selenium)
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Highcharts API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 5
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 5
        max: 5
        passed: true
        comment: Excellent use of Highcharts Maps with flowmap module, world topology,
          gradient fills, marker end arrows, and interactive HTML export
  verdict: APPROVED
impl_tags:
  dependencies:
  - selenium
  techniques:
  - html-export
  - gradient-fill
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - alpha-blending
  - gradient-fill
