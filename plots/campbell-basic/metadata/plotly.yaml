library: plotly
specification_id: campbell-basic
created: '2026-02-15T21:07:54Z'
updated: '2026-02-15T21:37:20Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 22043026911
issue: 4241
python_version: 3.14.3
library_version: 6.5.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/plotly/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/plotly/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/plotly/plot.html
quality_score: 88
review:
  strengths:
  - Excellent spec compliance — all required features implemented including optional
    shaded critical zones
  - 'Strong Plotly-specific features: interactive toggle buttons, hover templates
    with custom data, dual PNG/HTML export'
  - Colorblind-safe palette explicitly chosen with good contrast between element types
  - Effective data storytelling through critical speed annotations highlighting first
    and most dangerous resonances
  - Distinct dash patterns per mode type aid differentiation beyond color alone
  - Realistic engineering data with proper gyroscopic effect modeling
  weaknesses:
  - The many pink/red shaded vertical bands create visual noise and clutter the plot
    — consider reducing band width, lowering opacity, or only highlighting the most
    significant critical speeds
  - Horizontal legend with 8 items is slightly crowded — could benefit from grouping
    or a vertical layout
  - Trace-counting boilerplate for toggle button visibility arrays adds code complexity
  image_description: 'The plot displays a Campbell diagram (interference diagram)
    with "campbell-basic · plotly · pyplots.ai" as the centered title. The X-axis
    shows "Rotational Speed (RPM)" from 0 to 6000, and the Y-axis shows "Frequency
    (Hz)" from 0 to 110. Four natural frequency mode curves are plotted: 1st Bending
    (solid blue line, rising from ~22 Hz), 2nd Bending (dashed gold/yellow line, declining
    from ~49 Hz), 1st Torsional (dotted purple line, nearly flat at ~56 Hz), and Axial
    (dash-dot orange-red line, declining from ~75 Hz). Three gray dashed engine order
    lines (1x, 2x, 3x) radiate from the origin with labels at the 75% position along
    each visible line. Red diamond markers with white borders indicate critical speed
    intersections where engine order lines cross mode curves. Light pink/red vertical
    shaded bands highlight critical speed zones (±80 RPM around each intersection).
    Two callout annotations with arrows point to key intersections: "1st critical
    489 RPM" at bottom-left and "⚠ 71 Hz Axial × 3x" near the top. A horizontal legend
    at the top-left lists all 8 trace types. Interactive "All Modes" and "Modes Only"
    toggle buttons appear at the top-right. The background is white with a light gray
    (#F8F9FA) paper background and very subtle gridlines.'
  criteria_checklist:
    visual_quality:
      score: 27
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 8
        passed: true
        comment: 'All font sizes explicitly set: title 28pt, axis labels 22pt, ticks
          18pt, legend 14pt, annotations 13-16pt. All perfectly readable.'
      - id: VQ-02
        name: No Overlap
        score: 5
        max: 6
        passed: true
        comment: Legend with 8 horizontal items is slightly crowded; 1st critical
          annotation is close to axis edge. No severe overlap.
      - id: VQ-03
        name: Element Visibility
        score: 6
        max: 6
        passed: true
        comment: Mode lines at width 3.5, EO lines at 2.4, diamond markers at size
          14 with white border. All clearly visible and well-differentiated with dash
          patterns.
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 4
        passed: true
        comment: 'Explicit colorblind-safe palette: blue, gold, purple, orange for
          modes; gray for EO lines; red for criticals.'
      - id: VQ-05
        name: Layout & Canvas
        score: 2
        max: 4
        passed: false
        comment: Many pink shaded vertical bands create visual noise and dominate
          the plot area. Canvas utilization acceptable but bands clutter the space.
      - id: VQ-06
        name: Axis Labels & Title
        score: 2
        max: 2
        passed: true
        comment: Rotational Speed (RPM) and Frequency (Hz) — descriptive with units.
    design_excellence:
      score: 14
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 6
        max: 8
        passed: true
        comment: 'Strong design: custom color palette, distinct dash patterns, intentional
          typography hierarchy. Excessive shaded bands prevent publication-level polish.'
      - id: DE-02
        name: Visual Refinement
        score: 4
        max: 6
        passed: true
        comment: Subtle grid, plotly_white template, axis lines, spike crosshairs.
          Shaded bands add functional value but create visual clutter.
      - id: DE-03
        name: Data Storytelling
        score: 4
        max: 6
        passed: true
        comment: 1st critical and highest-frequency annotations highlight key resonances.
          Color hierarchy (gray EO → colored modes → red criticals) guides eye effectively.
    spec_compliance:
      score: 15
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: Correct Campbell diagram with natural frequency curves, engine order
          lines, and critical speed markers.
      - id: SC-02
        name: Required Features
        score: 4
        max: 4
        passed: true
        comment: 'All features present: 4 mode curves, 3 EO lines labeled, critical
          speed diamond markers, shaded critical zones.'
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: X=RPM, Y=Frequency Hz. Correct assignment.
      - id: SC-04
        name: Title & Legend
        score: 3
        max: 3
        passed: true
        comment: Title campbell-basic · plotly · pyplots.ai in correct format. Legend
          labels clear and descriptive.
    data_quality:
      score: 14
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 5
        max: 6
        passed: true
        comment: '4 modes with distinct behaviors: forward whirl, backward whirl,
          near-constant torsional, axial with bearing coupling. Could have shown 5th
          mode per spec.'
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 5
        passed: true
        comment: Genuine rotordynamics scenario with standard engineering mode names.
          Gyroscopic effects realistically modeled.
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 4
        passed: true
        comment: Frequencies 22-75 Hz base range, 0-6000 RPM — appropriate for industrial
          rotating machinery.
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear flow: imports → data → intersection finding → plotting →
          layout → save. No functions or classes.'
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: np.random.seed(42) set.
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only numpy and plotly.graph_objects imported, both fully used.
      - id: CQ-04
        name: Code Elegance
        score: 1
        max: 2
        passed: false
        comment: Trace-counting logic for toggle button visibility arrays adds moderate
          complexity. Functional but verbose.
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves plot.png at 1600x900 scale=3 (4800x2700) and plot.html.
    library_features:
      score: 9
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 5
        max: 5
        passed: true
        comment: 'Expert use of Plotly GO: go.Figure, go.Scatter, add_vrect, add_annotation,
          update_layout with comprehensive config. Proper hovertemplate with customdata.'
      - id: LM-02
        name: Distinctive Features
        score: 4
        max: 5
        passed: true
        comment: 'Plotly-specific: updatemenus toggle buttons, hover templates, add_vrect,
          spike crosshairs, dual PNG/HTML export.'
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep:
  - interpolation
  styling:
  - grid-styling
