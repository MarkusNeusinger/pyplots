library: seaborn
specification_id: map-marker-clustered
created: '2026-01-20T18:49:59Z'
updated: '2026-01-20T19:05:00Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21183365546
issue: 3766
python_version: 3.13.11
library_version: 0.13.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/map-marker-clustered/seaborn/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/map-marker-clustered/seaborn/plot_thumb.png
preview_html: null
quality_score: 82
review:
  strengths:
  - Excellent use of hierarchical clustering (AgglomerativeClustering) to create meaningful
    clusters
  - Good visual layering with semi-transparent individual points and prominent cluster
    markers
  - Colorblind-friendly palette ensures accessibility
  - Clean code structure following KISS principles
  - Effective use of seaborn-specific features (set_theme, despine, colorblind palette)
  - Cluster count labels inside larger markers enhance readability
  - Realistic NYC business location scenario with appropriate coordinates
  weaknesses:
  - Missing basemap with geographic context (streets, boundaries, or terrain) as specified
    in the spec
  - Legend header shows Category instead of the intended Business Type (code creates
    custom legend but seaborn auto-legend overrides it)
  - Cannot implement interactive features (zoom, click-to-zoom, hover) as seaborn
    produces static output
  - Minor overlap of count labels when clusters are adjacent
  image_description: 'The plot displays a clustered marker map of 500 business locations
    across the NYC metropolitan region, organized into 185 clusters. Individual points
    appear as semi-transparent background markers in four category colors (Coffee
    Shop in blue, Restaurant in yellow/orange, Bookstore in green, Gym in pink/red).
    Cluster markers are shown as larger circles with white count labels (numbers like
    5, 6, 7, etc.) displayed inside clusters with more than 4 points. The x-axis shows
    Longitude (°) ranging from -74.4 to -73.4, and the y-axis shows Latitude (°) ranging
    from 40.0 to 41.2. A legend in the upper-left corner identifies the four business
    categories. An annotation in the bottom-right corner states "500 locations · 185
    clusters". The title correctly follows the format: "map-marker-clustered · seaborn
    · pyplots.ai".'
  criteria_checklist:
    visual_quality:
      score: 33
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 24pt, axis labels at 20pt, tick labels at 16pt, all clearly
          readable
      - id: VQ-02
        name: No Overlap
        score: 6
        max: 8
        passed: true
        comment: Minor overlap between some cluster count labels when clusters are
          close together
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Good marker sizing with alpha layering; individual points at alpha=0.3,
          clusters at alpha=0.85 with white edge highlighting
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Uses seaborn colorblind palette, all four categories easily distinguishable
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 5
        passed: true
        comment: Good canvas utilization (~60%) but data appears in diagonal bands
          rather than filling the full plot area
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: 'Descriptive with units: Longitude (°) and Latitude (°)'
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Legend shows Category header instead of Business Type; legend position
          mismatch between code and output
    spec_compliance:
      score: 16
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 6
        max: 8
        passed: true
        comment: Correct scatter-based clustering visualization, but spec requires
          interactive clustering with zoom (static implementation cannot fully satisfy
          this)
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Lat/Lon correctly mapped to y/x axes
      - id: SC-03
        name: Required Features
        score: 2
        max: 5
        passed: false
        comment: 'Missing: basemap with geographic context, click-to-zoom behavior,
          smooth zoom transitions, hover to show member locations'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible within axis range
      - id: SC-05
        name: Legend Accuracy
        score: 0
        max: 2
        passed: false
        comment: Legend shows Category header instead of Business Type as intended
          in code
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: map-marker-clustered · seaborn · pyplots.ai'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows clustering with count labels, size encoding, color by category,
          and layered visualization; missing only interactive features
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: NYC business locations (coffee shops, restaurants, bookstores, gyms)
          is a realistic and neutral scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Coordinates are realistic for NYC area (~40.0-41.2 lat, -74.4 to
          -73.4 lon); 500 locations is appropriate
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear flow: imports → data generation → clustering → plot → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set at beginning
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports used (matplotlib, numpy, pandas, seaborn, sklearn)
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Modern seaborn 0.13+ API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png with dpi=300
    library_features:
      score: 5
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 5
        max: 5
        passed: true
        comment: 'Excellent use of seaborn: sns.set_theme for consistent styling,
          sns.scatterplot with hue/size encoding, colorblind palette, sns.despine
          for clean aesthetics'
  verdict: APPROVED
impl_tags:
  dependencies:
  - sklearn
  techniques:
  - annotations
  - custom-legend
  - layer-composition
  patterns:
  - data-generation
  - groupby-aggregation
  - iteration-over-groups
  dataprep:
  - hierarchical-clustering
  styling:
  - alpha-blending
  - edge-highlighting
  - grid-styling
