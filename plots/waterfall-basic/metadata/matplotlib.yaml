library: matplotlib
specification_id: waterfall-basic
created: '2025-12-24T09:50:00Z'
updated: '2025-12-24T09:53:26Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20483444373
issue: 0
python_version: 3.13.11
library_version: 3.10.8
preview_url: https://storage.googleapis.com/pyplots-images/plots/waterfall-basic/matplotlib/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/waterfall-basic/matplotlib/plot_thumb.png
preview_html: null
quality_score: 91
review:
  strengths:
  - Excellent implementation of waterfall chart logic with proper handling of subtotals
    (None values)
  - Clear visual distinction between positive (green), negative (red), and total (blue)
    bars
  - Connecting dashed lines effectively show the cumulative flow between bars
  - Value labels are well-positioned and highly readable with white text on colored
    bars
  - Realistic financial data scenario that perfectly demonstrates the waterfall chart
    use case
  - Clean, well-structured code following KISS principles
  weaknesses:
  - No legend explaining the color coding (green=increase, red=decrease, blue=total)
  - X-axis label Category is generic - could be more descriptive like Financial Components
  - Red-green color combination may be challenging for colorblind users
  image_description: 'The plot displays a waterfall chart showing a quarterly financial
    breakdown from Revenue to Net Income. The chart features 7 bars: Revenue ($500,
    green), Cost of Goods (-$200, red), Gross Profit ($300, blue subtotal), Operating
    Expenses (-$150, red), Other Income ($25, green), Taxes (-$45, red), and Net Income
    ($130, blue subtotal). Dashed gray connecting lines link the bars to show the
    cumulative flow. Each bar has a white value label centered within it. The title
    reads "waterfall-basic · matplotlib · pyplots.ai" at the top. X-axis labels are
    rotated 15 degrees for readability. Y-axis shows "Amount ($)" and ranges from
    0 to 500. A subtle y-axis grid with alpha=0.3 is present.'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 24pt, axis labels at 20pt, tick labels at 16pt, value labels
          at 16pt bold - all clearly readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements, x-axis labels rotated appropriately
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Bar widths (0.6) are well-sized, connecting lines clearly visible
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 5
        passed: true
        comment: Green/red/blue color scheme is distinguishable but red-green combination
          is not ideal for colorblind users
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Plot fills canvas well with good margins, tight_layout applied
      - id: VQ-06
        name: Axis Labels
        score: 1
        max: 2
        passed: true
        comment: Y-axis has units "Amount ($)", but X-axis label "Category" is generic
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: true
        comment: Grid is subtle (alpha=0.3), but no legend explaining color meanings
          (totals vs increases vs decreases)
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct waterfall chart implementation
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Categories and values correctly mapped
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Has connecting lines, color differentiation, start/end totals in
          distinct color (blue), value labels on bars
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Y-axis shows all data from 0 to beyond max value
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: N/A for this chart type (colors self-explanatory with context)
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Correctly uses "waterfall-basic · matplotlib · pyplots.ai"
    data_quality:
      score: 20
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: Shows positive changes (Revenue, Other Income), negative changes
          (Cost of Goods, Operating Expenses, Taxes), and subtotals (Gross Profit,
          Net Income)
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Quarterly financial breakdown is a perfect real-world use case for
          waterfall charts
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Values are realistic for a financial statement (Revenue $500, costs
          and expenses proportional)
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Simple sequential structure: imports → data → calculations → plot
          → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses deterministic hardcoded data, no randomness
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only matplotlib.pyplot and numpy imported, both used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current matplotlib API with ax methods
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png with dpi=300
    library_features:
      score: 0
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 0
        max: 5
        passed: false
        comment: Basic matplotlib bar chart implementation without leveraging any
          distinctive features like annotations, patches, or advanced styling
  verdict: APPROVED
