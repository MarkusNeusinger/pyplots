library: bokeh
specification_id: pie-portfolio-interactive
created: '2026-01-20T23:08:09Z'
updated: '2026-01-20T23:10:54Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21190551667
issue: 3754
python_version: 3.13.11
library_version: 3.8.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/pie-portfolio-interactive/bokeh/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/pie-portfolio-interactive/bokeh/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/pie-portfolio-interactive/bokeh/plot.html
quality_score: 91
review:
  strengths:
  - Excellent visual design with professional color palette matching Python branding
  - Good use of Bokeh interactive features (hover tooltips, tap callbacks)
  - Clean donut chart presentation with center value display
  - Proper square aspect ratio for pie/donut chart
  - Well-positioned labels around the chart circumference
  - Dual output format (PNG + HTML) appropriate for Bokeh
  weaknesses:
  - Drill-down functionality only logs to console instead of actual UI navigation
    (spec mentions return-to-overview navigation)
  - Label font size (18pt) could be slightly larger for optimal readability at 3600x3600
  image_description: 'The plot displays a donut chart showing portfolio allocation
    across 10 holdings. The chart uses a 3600×3600 pixel square format. Four asset
    class categories are color-coded: Equities (blue #306998) showing Apple Inc.,
    Microsoft, Google, and Int''l Equities; Fixed Income (yellow #FFD43B) showing
    US Treasury 10Y and Corporate Bonds; Alternatives (teal #48A9A6) showing Gold
    ETF, Real Estate Fund, and Commodities; and Cash (gray #8B8B8B). The center of
    the donut displays "Total $1,000,000". Asset names are positioned as labels around
    the outer ring of the donut. A legend appears on the right side showing all four
    category colors. The title "pie-portfolio-interactive · bokeh · pyplots.ai" appears
    at the top center. The toolbar is visible in the top-right corner showing Bokeh''s
    interactive tools.'
  criteria_checklist:
    visual_quality:
      score: 37
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title at 36pt, labels at 18pt, legend at 22pt. All text readable,
          but some smaller labels could be larger.
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements. Labels well positioned around the chart.
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Donut wedges are clearly visible with appropriate sizing, good inner/outer
          radius ratio.
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue/yellow/teal/gray palette is colorblind-safe, good contrast between
          categories.
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Square format appropriate for pie/donut chart, good canvas utilization
          (~60%), legend well positioned.
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: true
        comment: N/A for pie charts (no axes).
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Legend well placed on right, subtle border, good spacing.
    spec_compliance:
      score: 24
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct donut chart for portfolio allocation.
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Weights correctly mapped to wedge angles, colors mapped by category.
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Has hover tooltips, legend, color-coding. Tap callback logs to console
          but lacks full drill-down UI.
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All holdings visible, weights sum to 100%.
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly shows all 4 asset class categories.
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: pie-portfolio-interactive · bokeh · pyplots.ai'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows 10 holdings across 4 categories with varying weights.
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Real portfolio scenario with realistic company names and asset types.
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: $1M portfolio with realistic allocation percentages.
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Clean linear structure: imports → data → plot → save.'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42).
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used.
      - id: CQ-04
        name: No Deprecated API
        score: 0
        max: 1
        passed: false
        comment: Minor comment/code mismatch, but no actual deprecated API.
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves both plot.png and plot.html.
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses ColumnDataSource, HoverTool, TapTool with CustomJS, LabelSet,
          HTML export. Good but drill-down only logs to console.
  verdict: APPROVED
impl_tags:
  dependencies:
  - selenium
  techniques:
  - hover-tooltips
  - custom-legend
  - html-export
  - annotations
  patterns:
  - data-generation
  - columndatasource
  dataprep: []
  styling:
  - minimal-chrome
  - alpha-blending
  - edge-highlighting
