library: bokeh
specification_id: choropleth-basic
created: '2025-12-31T21:33:44Z'
updated: '2025-12-31T21:41:36Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20627498185
issue: 3069
python_version: 3.13.11
library_version: 3.8.1
preview_url: https://storage.googleapis.com/pyplots-images/plots/choropleth-basic/bokeh/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/choropleth-basic/bokeh/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/choropleth-basic/bokeh/plot.html
quality_score: 91
impl_tags:
  dependencies: []
  techniques:
  - colorbar
  patterns:
  - data-generation
  dataprep: []
  styling:
  - custom-colormap
review:
  strengths:
  - Excellent use of Bokeh-specific features including LogColorMapper for better differentiation
    of low-density states
  - Smart contrast handling with dynamic text colors (white on dark, blue on light
    backgrounds)
  - Good missing data handling demonstrated with DC shown in gray
  - Clean tile grid approach that fits all 50 states + DC in a readable layout
  - Well-implemented color bar with logarithmic scale and clear labeling
  weaknesses:
  - Title format should be exactly "choropleth-basic · bokeh · pyplots.ai" without
    the "US Population Density" prefix
  - Tile grid approach, while creative and readable, differs from traditional geographic
    projection that spec mentions (Robinson for world, Albers for US)
  image_description: The plot displays a tile grid map of US population density using
    rectangular tiles arranged to approximate the geographic positions of all 50 US
    states plus DC. Each state is represented by a colored rectangle with a 2-letter
    state abbreviation. The color scheme uses a sequential blue palette (Blues9) where
    lighter blues indicate lower population density and darker blues indicate higher
    density. States like NJ, RI, MA, CT, DE, MD, and FL appear in darker blue shades
    (high density), while states like AK, WY, MT, ND, SD appear in very light blue
    (low density). DC is shown in gray, demonstrating missing data handling. The title
    reads "US Population Density · choropleth-basic · bokeh · pyplots.ai" at the top.
    A color bar legend is positioned on the right side showing "Population Density
    (per sq mile)" with a logarithmic scale ranging from approximately 1 to 1200.
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title at 32pt, labels at 18pt are readable; slightly smaller than
          ideal for state abbreviations
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text; each state tile is separate with clear spacing
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Tiles are well-sized and clearly visible with good spacing
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blues9 sequential palette is colorblind-safe
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good use of canvas; slight imbalance with color bar placement creating
          some empty space in lower right
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Color bar well-placed with clear title and tick labels
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct choropleth map representation using tile grid approach
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Population density correctly mapped to color intensity
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Has color legend, clear boundaries, missing data handling; tile grid
          approach is creative but not traditional geographic projection
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Full range of density values displayed from 1 (AK) to 1263 (NJ)
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Color bar accurately shows population density scale
      - id: SC-06
        name: Title Format
        score: 1
        max: 2
        passed: true
        comment: Title includes extra "US Population Density" prefix; should be just
          "choropleth-basic · bokeh · pyplots.ai"
    data_quality:
      score: 19
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows wide range of density values, missing data handling; but tile
          grid loses some geographic context
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: US population density is a real, neutral, educational topic with
          accurate data
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Realistic population density values (1-1263 people per sq mile)
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 2
        max: 3
        passed: true
        comment: Mostly linear structure but has some complexity with manual color
          mapping logic
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Deterministic data, no random values
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Bokeh API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: true
        comment: Saves as plot.png correctly
    library_features:
      score: 5
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 5
        max: 5
        passed: true
        comment: Excellent use of Bokeh's ColumnDataSource, LogColorMapper, ColorBar,
          LabelSet, and rect glyph
  verdict: APPROVED
