library: bokeh
specification_id: hexbin-basic
created: 2025-12-14 19:46:16+00:00
updated: '2026-02-21T21:09:36Z'
generated_by: claude-opus-4-6
workflow_run: 20213177102
issue: 859
python_version: 3.14.3
library_version: 3.8.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/hexbin-basic/bokeh/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/hexbin-basic/bokeh/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/hexbin-basic/bokeh/plot.html
quality_score: 88
impl_tags:
  dependencies: []
  techniques:
  - colorbar
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep:
  - binning
  styling:
  - dark-theme
  - custom-colormap
review:
  strengths:
  - Cohesive dark theme with background color matching Viridis colormap low end creates
    seamless density visualization
  - Expert use of Bokeh-native hexbin pipeline (hexbin → hex_tile → construct_color_bar)
  - All font sizes explicitly set and tuned for 4800×2700 resolution
  - Perfect spec compliance with all required features implemented
  - Clean well-structured code with proper reproducibility
  weaknesses:
  - Generic axis labels X Value / Y Value instead of a real-world scenario with units
  - Axis spines still visible — removing or softening them would enhance visual refinement
  - Data storytelling limited — three clusters exist but lack narrative context
  improvements: []
  verdict: REJECTED
  image_description: 'The plot displays a hexagonal binning density plot on a deep
    purple (#440154) background that matches the Viridis colormap''s low end. Three
    distinct clusters of hexagonal bins are visible: a large cluster centered around
    (-3, -1) in the lower-left, a smaller cluster centered around (-1, 4) in the upper-center,
    and another large cluster centered around (3, 1) on the right. The Viridis colormap
    runs from dark purple (low count) through blue and teal to bright yellow (high
    count, ~100+). Each cluster shows concentric density rings with bright yellow/green
    cores fading to blue and purple at the edges. A vertical color bar on the right
    labeled "Count" shows the density scale from 0 to ~100. The title "hexbin-basic
    · bokeh · pyplots.ai" appears in white at the top-left. Axes are labeled "X Value"
    and "Y Value" in white, with white tick labels. Grid is hidden, outline removed,
    and the overall dark theme creates a cohesive, elegant appearance.'
  criteria_checklist:
    visual_quality:
      score: 29
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 8
        passed: true
        comment: 'All font sizes explicitly set: title 28pt, axis labels 22pt, tick
          labels 18pt, color bar title 20pt, color bar labels 16pt'
      - id: VQ-02
        name: No Overlap
        score: 6
        max: 6
        passed: true
        comment: No overlapping text elements anywhere
      - id: VQ-03
        name: Element Visibility
        score: 6
        max: 6
        passed: true
        comment: Hex bins at size 0.3 provide excellent resolution for 10K points
          with crisp density gradient
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 4
        passed: true
        comment: Viridis256 is perceptually uniform and colorblind-safe with strong
          contrast
      - id: VQ-05
        name: Layout & Canvas
        score: 4
        max: 4
        passed: true
        comment: 4800x2700 canvas well-utilized with balanced margins and integrated
          color bar
      - id: VQ-06
        name: Axis Labels & Title
        score: 1
        max: 2
        passed: false
        comment: Title format correct but axis labels X Value / Y Value are generic
          without units or real-world context
    design_excellence:
      score: 13
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 6
        max: 8
        passed: true
        comment: Dark purple background matching Viridis low end creates cohesive
          design; white typography provides elegant contrast
      - id: DE-02
        name: Visual Refinement
        score: 4
        max: 6
        passed: false
        comment: Grid hidden, outline removed, minor ticks removed, border matches
          background; but axis spines remain visible
      - id: DE-03
        name: Data Storytelling
        score: 3
        max: 6
        passed: false
        comment: Three clusters with varying sizes create some visual hierarchy through
          color contrast, but no narrative context or guided interpretation
    spec_compliance:
      score: 15
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: Correct hexagonal binning plot using Bokeh native hex_tile glyph
      - id: SC-02
        name: Required Features
        score: 4
        max: 4
        passed: true
        comment: Color bar, Viridis colormap, configurable bin size all present
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: X/Y data correctly mapped through hexbin computation; color maps
          to count
      - id: SC-04
        name: Title & Legend
        score: 3
        max: 3
        passed: true
        comment: Title in correct format with middle dots; color bar labeled Count
    data_quality:
      score: 12
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 5
        max: 6
        passed: true
        comment: Three clusters with different sizes demonstrate density aggregation;
          overlapping regions visible; could benefit from wider density range
      - id: DQ-02
        name: Realistic Context
        score: 3
        max: 5
        passed: false
        comment: Synthetic random data with generic X Value / Y Value labels; spec
          suggests GPS, financial, or sensor applications
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 4
        passed: true
        comment: Cluster centers and spreads produce sensible value ranges; 10K points
          appropriate for hexbin
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Clean linear flow: imports, data, hexbin, plot, styling, save'
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: np.random.seed(42) ensures deterministic output
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: 'All imports used: numpy, export_png, save, figure, linear_cmap,
          hexbin'
      - id: CQ-04
        name: Code Elegance
        score: 2
        max: 2
        passed: true
        comment: Clean Pythonic code with zip strict=True; no over-engineering
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves plot.png via export_png and plot.html via save; no deprecated
          APIs
    library_mastery:
      score: 9
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 5
        max: 5
        passed: true
        comment: 'Expert use of Bokeh hexbin pipeline: hexbin utility, hex_tile glyph,
          linear_cmap, construct_color_bar'
      - id: LM-02
        name: Distinctive Features
        score: 4
        max: 5
        passed: true
        comment: Uses Bokeh-distinctive hex_tile glyph, hexbin utility, construct_color_bar
          from renderer, and dual PNG+HTML export
