library: altair
specification_id: windbarb-basic
created: '2026-01-11T09:29:19Z'
updated: '2026-01-11T09:56:17Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20892892513
issue: 3694
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/windbarb-basic/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/windbarb-basic/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/windbarb-basic/altair/plot.html
quality_score: 68
review:
  strengths:
  - Creative solution using Altair layered marks to simulate wind barbs
  - Good use of tooltips for interactive exploration
  - Proper meteorological convention for wind direction (FROM which wind blows)
  - Clean separation of calm winds vs barbed winds
  - Legend included to explain the notation
  weaknesses:
  - Pennant triangles appear as outlines rather than filled solid triangles
  - Legend overlaps with data points in upper-right corner
  - Legend is text-only without visual symbol examples
  - Iterative approach for pennant triangles creates multiple chart layers which is
    not idiomatic Altair
  image_description: 'The plot displays a wind barb visualization on a coordinate
    grid representing weather station data. The plot uses a consistent blue color
    (#306998) for all elements. There''s a 6x5 grid of 30 wind barb stations showing
    various wind speeds and directions. Key features visible: Calm winds shown as
    open circles (at coordinates (0,0), (2,0), and (10,4)) indicating wind speed <
    2.5 knots. Staff lines are blue lines pointing in the direction FROM which the
    wind blows with filled circle bases. Half barbs are short diagonal flags indicating
    5 knots (visible on many stations). Full barbs are longer diagonal flags indicating
    10 knots (multiple visible across the grid). Pennants appear as triangle markers
    at positions around (6.5, 6.5) and (7, 5) indicating 50+ knot winds, though they
    display as outlines rather than filled triangles. A Wind Barb Key legend in the
    upper-right shows the notation system. Title "windbarb-basic 路 altair 路 pyplots.ai"
    at top. Axis labels show "Longitude (degrees E)" for x-axis and "Latitude (degrees
    N)" for y-axis. Layout fills the canvas well with good proportions and a subtle
    grid (alpha 0.3).'
  criteria_checklist:
    visual_quality:
      score: 27
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 10
        passed: true
        comment: Title and axis labels readable, legend text somewhat small
      - id: VQ-02
        name: No Overlap
        score: 6
        max: 8
        passed: true
        comment: Some legend text overlaps with data in upper-right corner
      - id: VQ-03
        name: Element Visibility
        score: 5
        max: 8
        passed: true
        comment: Barbs visible but pennants appear as outlines rather than filled
          triangles
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Single blue color is colorblind-safe
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good canvas utilization, minor legend placement issue
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Descriptive labels with units (Longitude degrees E, Latitude degrees
          N)
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: false
        comment: Grid subtle but legend overlaps data area and lacks visual symbol
          examples
    spec_compliance:
      score: 19
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct wind barb chart type
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: X/Y correctly mapped to longitude/latitude
      - id: SC-03
        name: Required Features
        score: 3
        max: 5
        passed: false
        comment: Pennants displayed as outlines rather than filled triangles per meteorological
          convention
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible within axis ranges
      - id: SC-05
        name: Legend Accuracy
        score: 0
        max: 2
        passed: false
        comment: Legend is text-only without visual symbol examples
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Uses correct format: windbarb-basic 路 altair 路 pyplots.ai'
    data_quality:
      score: 17
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 6
        max: 8
        passed: true
        comment: Shows calm, low, medium, and high winds, but pennant representation
          suboptimal
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Weather station grid is plausible meteorological scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Wind speeds and coordinates are reasonable
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 2
        max: 3
        passed: false
        comment: Code has iteration loops for building pennant layers adding complexity
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) is set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only altair, numpy, pandas imported
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Altair API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: false
        comment: Uses layered composition and tooltips but manual triangle construction
          is not idiomatic Altair
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - layer-composition
  - hover-tooltips
  - annotations
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - grid-styling
