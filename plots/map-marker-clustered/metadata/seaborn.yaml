library: seaborn
specification_id: map-marker-clustered
created: '2026-01-20T18:49:59Z'
updated: '2026-01-20T18:52:55Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21183365546
issue: 3766
python_version: 3.13.11
library_version: 0.13.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/map-marker-clustered/seaborn/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/map-marker-clustered/seaborn/plot_thumb.png
preview_html: null
quality_score: 78
review:
  strengths:
  - Effective use of hierarchical clustering (AgglomerativeClustering) to group nearby
    markers
  - Good layered approach with faint individual points and prominent cluster markers
  - Count labels on clusters clearly communicate cluster size
  - Realistic NYC business location scenario
  - Clean KISS code structure with proper seed for reproducibility
  weaknesses:
  - No basemap providing geographic context (spec requirement)
  - Static-only visualization cannot demonstrate zoom/expand clustering behavior from
    spec
  - seaborn barely used - just scatterplot and set_style; clustering display done
    via matplotlib
  - Some cluster count labels overlap in dense areas
  - Legend positioned over potential data area
  image_description: 'The plot displays a clustered marker map visualization using
    seaborn with a NYC-like geographic area (latitude ~40.0-41.2, longitude ~-74.5
    to -73.3). It shows 500 location points organized into 185 clusters. Individual
    points are rendered with low opacity (0.2 alpha) as a background layer in four
    category colors: Coffee Shop (blue), Restaurant (yellow), Bookstore (green), and
    Gym (pink). Cluster markers are displayed as larger circles with white edges,
    sized proportionally to the cluster count, with numbers (count labels) displayed
    in white text on clusters with more than 3 points. The plot has a whitegrid style,
    dashed grid lines at 0.3 alpha, axis labels for Longitude and Latitude at 20pt
    font size, and the title follows the required format. A subtitle in the bottom-right
    shows "500 locations · 185 clusters".'
  criteria_checklist:
    visual_quality:
      score: 32
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title 24pt, labels 20pt, ticks 16pt all readable; cluster count labels
          slightly small for some clusters
      - id: VQ-02
        name: No Overlap
        score: 6
        max: 8
        passed: true
        comment: Some cluster labels overlap with nearby clusters in dense areas
      - id: VQ-03
        name: Element Visibility
        score: 6
        max: 8
        passed: true
        comment: Cluster markers well-sized but background points very faint at 0.2
          alpha
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 5
        passed: true
        comment: Four distinct colors but green and yellow could be better differentiated
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Good use of canvas space with well-balanced margins
      - id: VQ-06
        name: Axis Labels
        score: 1
        max: 2
        passed: true
        comment: Labels are descriptive (Longitude, Latitude) but lack units (°)
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: true
        comment: Grid is subtle (0.3 alpha) but legend covers some data points in
          upper left
    spec_compliance:
      score: 18
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 8
        passed: false
        comment: Simulates clustering but lacks interactive zoom/expansion per spec;
          static representation only
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Lat/Lon correctly assigned to axes
      - id: SC-03
        name: Required Features
        score: 3
        max: 5
        passed: false
        comment: 'Missing: basemap, click-to-zoom, convex hull/spider lines on hover,
          zoom transitions'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible within axis ranges
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly shows all 4 categories
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Correctly formatted as map-marker-clustered · seaborn · pyplots.ai
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows clustering with count labels, category coloring, size encoding;
          missing cluster expansion demonstration
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: NYC-area business locations (coffee shops, restaurants, etc.) is
          realistic and neutral
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Geographic coordinates realistic for NYC; neighborhood clustering
          pattern believable
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear script: imports → data → clustering → plot → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports used (matplotlib, numpy, pandas, seaborn, sklearn)
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: All APIs current
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png
    library_features:
      score: 0
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 0
        max: 5
        passed: false
        comment: seaborn is only used for scatterplot and set_style; the actual clustering
          visualization uses matplotlib scatter directly
  verdict: REJECTED
impl_tags:
  dependencies:
  - sklearn
  techniques:
  - annotations
  - custom-legend
  - layer-composition
  patterns:
  - data-generation
  - groupby-aggregation
  - iteration-over-groups
  dataprep:
  - hierarchical-clustering
  styling:
  - alpha-blending
  - edge-highlighting
  - grid-styling
