library: matplotlib
specification_id: heatmap-basic
created: '2025-12-23T00:46:03Z'
updated: '2026-02-15T21:30:42Z'
generated_by: claude-opus-4-6
workflow_run: 20447951294
issue: 0
python_version: 3.14.3
library_version: 3.10.8
preview_url: https://storage.googleapis.com/pyplots-images/plots/heatmap-basic/matplotlib/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/heatmap-basic/matplotlib/plot_thumb.png
preview_html: null
quality_score: 86
impl_tags:
  dependencies: []
  techniques:
  - colorbar
  - annotations
  - manual-ticks
  patterns:
  - matrix-construction
  - iteration-over-groups
  dataprep: []
  styling:
  - custom-colormap
  - edge-highlighting
review:
  strengths:
  - Excellent use of TwoSlopeNorm for proper diverging color normalization centered
    at zero
  - Adaptive text color (white/black) based on cell value magnitude ensures all annotations
    are readable
  - Realistic department correlation data with plausible relationships (Sales-Marketing
    high, Dev-Finance negative)
  - Clean white grid lines provide clear cell separation
  - All font sizes explicitly configured for the target resolution
  weaknesses:
  - 'Layout balance could improve: the title overlaps with the colorbar area, and
    the square format creates some wasted canvas space in the upper-right corner'
  - The matrix frame/spines around the heatmap are still visible — removing them would
    give a cleaner, more modern look
  - The grid line loop adds borders separately from the heatmap; a cleaner approach
    might use matshow parameters or pcolormesh with edgecolors
  - Negative correlation range is underrepresented (minimum is only -0.25); more extreme
    negative values would better showcase the diverging colormap
  - The colorbar shrink parameter does not perfectly align with the matrix height
  image_description: 'The plot displays an 8×8 department correlation matrix heatmap
    using the RdBu_r diverging colormap. Colors range from dark blue (-1.0) through
    white (0.0) to dark red (+1.0). All 64 cells contain bold numeric annotations
    with adaptive text color — white text on strongly colored cells (|value| > 0.55)
    and black text on lighter cells. The diagonal shows perfect correlation (1.00,
    dark red). Notable patterns: Sales-Marketing shows high positive correlation (0.82),
    Dev-Finance shows negative correlation (-0.25), HR-Legal has moderate positive
    correlation (0.52). White grid lines cleanly separate cells. Both axes are labeled
    "Department" with department names as tick labels. The colorbar on the right is
    labeled "Correlation Coefficient" ranging from -1.00 to 1.00. The title reads
    "Department Correlation · heatmap-basic · matplotlib · pyplots.ai". The layout
    uses a square format appropriate for a correlation matrix.'
  criteria_checklist:
    visual_quality:
      score: 27
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 8
        passed: true
        comment: 'All font sizes explicitly set: title 24pt, axis labels 20pt, ticks
          16pt, annotations 14pt, colorbar label 18pt'
      - id: VQ-02
        name: No Overlap
        score: 6
        max: 6
        passed: true
        comment: No overlapping text; 8 department labels fit cleanly with rotation
      - id: VQ-03
        name: Element Visibility
        score: 5
        max: 6
        passed: true
        comment: Cells well-sized and annotations clear; slightly dense at 8x8 but
          fully readable
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 4
        passed: true
        comment: RdBu_r is a standard colorblind-safe diverging colormap
      - id: VQ-05
        name: Layout & Canvas
        score: 2
        max: 4
        passed: false
        comment: Square 12x12 figure works for matrix but colorbar and title create
          slight imbalance; title crowds colorbar area
      - id: VQ-06
        name: Axis Labels & Title
        score: 2
        max: 2
        passed: true
        comment: Department on both axes, Correlation Coefficient on colorbar
    design_excellence:
      score: 14
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 6
        max: 8
        passed: true
        comment: 'Strong design: diverging palette centered at zero, adaptive text
          colors, clean white grid lines, polished colorbar'
      - id: DE-02
        name: Visual Refinement
        score: 4
        max: 6
        passed: true
        comment: 'Good: tick length zeroed, colorbar outline removed, white cell borders.
          Could remove frame/spines'
      - id: DE-03
        name: Data Storytelling
        score: 4
        max: 6
        passed: true
        comment: 'Data tells a story through color intensity: Sales-Marketing cluster,
          Dev-Finance opposition visible immediately'
    spec_compliance:
      score: 14
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: Correct heatmap type
      - id: SC-02
        name: Required Features
        score: 4
        max: 4
        passed: true
        comment: 'All spec features: diverging colormap, cell annotations, colorbar
          legend, logically ordered labels'
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: Symmetric matrix with correct diagonal
      - id: SC-04
        name: Title & Legend
        score: 2
        max: 3
        passed: true
        comment: 'Title format includes spec-id, library, pyplots.ai. Minor: descriptive
          prefix before required format'
    data_quality:
      score: 14
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 5
        max: 6
        passed: true
        comment: Shows positive, negative, near-zero, and strong correlations. Could
          use more extreme negatives
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 5
        passed: true
        comment: Department correlation — real, neutral business scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 4
        passed: true
        comment: All values in [-1, 1]; relationships are plausible
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Flat imports, data, plot, save structure
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: Fully deterministic hardcoded matrix
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: 'All imports used: plt, np, TwoSlopeNorm'
      - id: CQ-04
        name: Code Elegance
        score: 1
        max: 2
        passed: true
        comment: Clean overall but separate loop for grid lines is slightly verbose
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png, dpi=300, bbox_inches=tight, no deprecated API
    library_mastery:
      score: 8
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 5
        max: 5
        passed: true
        comment: Idiomatic matshow, TwoSlopeNorm, fig.colorbar, ax.text annotations
      - id: LM-02
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: TwoSlopeNorm and matshow are distinctive matplotlib features
  verdict: REJECTED
