library: matplotlib
specification_id: bubble-map-geographic
created: '2026-01-10T06:08:37Z'
updated: '2026-01-10T06:11:14Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20873956323
issue: 3625
python_version: 3.13.11
library_version: 3.10.8
preview_url: https://storage.googleapis.com/pyplots-images/plots/bubble-map-geographic/matplotlib/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/bubble-map-geographic/matplotlib/plot_thumb.png
preview_html: null
quality_score: 92
review:
  strengths:
  - Excellent geographic visualization without external dependencies (geopandas/cartopy)
  - Creative use of manual polygon definitions for continent shapes
  - Perfect size legend showing three reference GDP values
  - Good transparency handling for overlapping bubbles
  - Clean KISS code structure with well-organized data dictionary
  weaknesses:
  - Legend vertical spacing (labelspacing=1.8) creates excessive gaps between size
    reference markers
  - Continent polygons are simplified approximations rather than accurate coastlines
  - No city labels shown (though optional per spec)
  image_description: 'The plot displays a world map with a light blue ocean background
    (#C8DDF0) and beige/gray landmasses (#E5E5E0). The map shows 25 major world cities
    represented as bubbles sized proportionally to their metropolitan GDP. The bubbles
    are colored in Python Blue (#306998) with 60% transparency and white edge borders.
    Larger bubbles (Tokyo, New York) are clearly visible in their respective locations
    - Tokyo cluster in Japan, New York/Chicago/Los Angeles in North America. Smaller
    bubbles represent cities like Dubai, Jakarta, and Buenos Aires. A size legend
    in the lower left shows three reference sizes: $250B, $750B, and $1.5T. The title
    follows the correct format "City GDP by Location · bubble-map-geographic · matplotlib
    · pyplots.ai". Graticule lines are shown as subtle dotted lines at 30° intervals.
    The continents are rendered as simplified polygon shapes providing geographic
    context.'
  criteria_checklist:
    visual_quality:
      score: 37
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 22pt bold, axis labels at 20pt, tick labels at 16pt - all
          perfectly readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements; bubbles have alpha for overlap handling
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Bubbles well-sized for 25 data points; some small cities like Frankfurt
          are hard to distinguish
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Single color scheme with size encoding; colorblind-safe
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Map fills canvas well, balanced margins, legend well-positioned
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Longitude and Latitude with degree units
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Legend labelspacing is excessive creating too much vertical space
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct bubble map with sized markers on geographic coordinates
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Lat/Lon correctly mapped to Y/X, GDP to bubble size
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: 'All spec features present: size encoding, transparency, basemap,
          size legend'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Full world view shows all data points
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly shows $250B, $750B, $1.5T reference sizes
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Follows correct title format with spec-id and library
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows range from small to large GDP with good geographic spread;
          minor deduction for lack of category grouping
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Real city GDP data with plausible values matching known rankings
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: GDP values are realistic approximations
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Clean linear flow: imports, data, plot, save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only matplotlib and numpy imported
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current matplotlib API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: 'Minor: facecolor parameter added but output filename correct'
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Good use of Polygon patches and zorder management; could use Basemap/Cartopy
          for better accuracy
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - patches
  - custom-legend
  patterns:
  - data-generation
  dataprep:
  - normalization
  styling:
  - alpha-blending
  - edge-highlighting
  - grid-styling
