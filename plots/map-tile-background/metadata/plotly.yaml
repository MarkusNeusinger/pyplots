library: plotly
specification_id: map-tile-background
created: '2026-01-20T22:38:31Z'
updated: '2026-01-20T22:41:30Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21189771512
issue: 3756
python_version: 3.13.11
library_version: 6.5.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/map-tile-background/plotly/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/map-tile-background/plotly/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/map-tile-background/plotly/plot.html
quality_score: 91
review:
  strengths:
  - Excellent use of OpenStreetMap tile background for geographic context
  - Clean, modern implementation using the new Scattermap API (not deprecated mapbox)
  - Effective dual encoding with both size and color for visitor counts
  - Proper attribution for OpenStreetMap included automatically
  - Good choice of colorblind-safe blue-to-yellow colorscale
  - Interactive HTML version generated alongside static PNG
  - Well-structured hover template with formatted visitor counts
  weaknesses:
  - Landmark text labels could be slightly larger for better readability at full resolution
  - Some label overlap in densely clustered central European area
  - Could benefit from marker clustering option for better scalability
  image_description: The plot displays a map of Europe with OpenStreetMap tile background
    showing 15 European landmark locations as circular markers. The markers vary in
    size (representing visitor counts) and are colored using a blue-to-yellow gradient
    colorscale, with yellow indicating the highest visitor counts (around 7M) and
    blue indicating lower counts (around 1M). Each marker has a text label above it
    showing the landmark name (e.g., "Eiffel Tower", "Colosseum", "Royal Palace").
    The title reads "European Landmarks Visitor Data" with a subtitle "map-tile-background
    · plotly · pyplots.ai". A vertical colorbar on the right shows "Annual Visitors"
    ranging from 1M to 7M. The map includes proper OpenStreetMap attribution in the
    bottom right corner. The map is well-centered on Europe with appropriate zoom
    level (around 3.5) to show all data points.
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title and subtitle are clear. Landmark labels are readable at 12pt
          but could be slightly larger for the 4800x2700 canvas.
      - id: VQ-02
        name: No Overlap
        score: 7
        max: 8
        passed: true
        comment: Most labels well-positioned. Minor potential overlap in central Europe
          cluster.
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Markers well-sized (15-50 range) with good opacity (0.85), clearly
          visible against map background.
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue-to-yellow colorscale is colorblind-safe with excellent contrast.
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Good use of canvas space, map fills area well, colorbar positioned
          appropriately.
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Colorbar title 'Annual Visitors' is appropriate for map type.
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: No traditional legend (inherent to map type), colorbar serves this
          purpose.
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct map with tile background using OpenStreetMap.
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Lat/lon correctly mapped, visitor count to color and size.
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Tile background, data markers with color/size encoding, labels, proper
          attribution.
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All European landmarks visible, auto-fit to data bounds.
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Colorbar accurately represents visitor counts.
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Correctly uses 'map-tile-background · plotly · pyplots.ai' format
          in subtitle.
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows various European landmarks with different visitor counts. Good
          range from 500K to 7.4M.
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Real European landmarks with plausible visitor numbers.
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Visitor numbers are realistic for major landmarks.
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Clean linear flow: imports → data → plot → save.'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42).
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only numpy and plotly.graph_objects imported, both used.
      - id: CQ-04
        name: No Deprecated API
        score: 0
        max: 1
        passed: false
        comment: Uses new Scattermap API which is good, but very recent.
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html.
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses Plotly's Scattermap with tile background, interactive HTML export,
          hover templates. Could leverage more features like marker clustering.
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - colorbar
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  dataprep:
  - normalization
  styling:
  - custom-colormap
  - alpha-blending
