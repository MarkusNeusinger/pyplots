library: pygal
specification_id: bar-stacked-labeled
created: '2026-01-09T15:35:45Z'
updated: '2026-01-09T15:49:53Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20856777099
issue: 3504
python_version: 3.13.11
library_version: 3.1.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/bar-stacked-labeled/pygal/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/bar-stacked-labeled/pygal/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/bar-stacked-labeled/pygal/plot.html
quality_score: 90
review:
  strengths:
  - 'Total labels are prominently displayed above each bar stack with clear formatting
    (Total: $XXK)'
  - Excellent color palette with four distinct, colorblind-safe colors
  - Good use of pygal custom Style for font sizing on large canvas
  - Realistic quarterly revenue data with meaningful variation across segments
  - Clean implementation following KISS principles
  weaknesses:
  - Legend at bottom is truncated/cut off, with only 2 of 4 entries fully visible
    in the rendered PNG
  image_description: 'The plot displays a stacked bar chart showing quarterly revenue
    by product category. Four bars represent Q1 through Q4 on the x-axis, with Revenue
    ($K) on the y-axis. Each bar is composed of four stacked segments representing
    Electronics (dark blue), Furniture (yellow/gold), Clothing (teal/turquoise), and
    Accessories (coral/salmon). Total value labels are prominently displayed above
    each bar stack: "$312K" for Q1, "$364K" for Q2, "$346K" for Q3, and "$430K" for
    Q4. The title reads "bar-stacked-labeled 路 pygal 路 pyplots.ai" in the correct
    format. The legend is positioned at the bottom but is partially truncated - only
    "Electronics" and "Furniture" are fully visible, with "Clothing" and "Accessories"
    appearing cut off at the image boundary.'
  criteria_checklist:
    visual_quality:
      score: 35
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title, axis labels, and total labels are clearly readable. Tick labels
          and legend text are appropriately sized for the canvas.
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements; total labels are well-positioned above
          bars.
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Bar segments are clearly visible with good sizing and distinct colors.
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Four distinct colors (blue, yellow, teal, coral) that are colorblind-friendly
          and provide good contrast.
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 5
        passed: false
        comment: The legend at the bottom appears partially cut off, with only 2 of
          4 entries fully visible.
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Y-axis has 'Revenue ($K)' with units, X-axis has 'Quarter' as descriptive
          label.
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Legend is truncated at the bottom edge, cutting off 'Clothing' and
          'Accessories' entries.
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct stacked bar chart type.
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Categories on X-axis, values stacked correctly on Y-axis.
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Total labels prominently displayed above each bar stack as specified.
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Y-axis range accommodates all data with headroom for labels.
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend labels correctly identify each product category.
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: bar-stacked-labeled 路 pygal 路 pyplots.ai'
    data_quality:
      score: 20
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: Data shows varying proportions across quarters, demonstrating stacking
          effectively with different segment sizes.
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Quarterly revenue by product category is a plausible business scenario.
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Revenue values in thousands are realistic for quarterly business
          data.
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Simple script structure: imports, data, chart config, save.'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Data is deterministic (hardcoded values), no random generation used.
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only pygal and Style imported, both used.
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Current pygal API used.
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html correctly.
    library_features:
      score: 5
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 5
        max: 5
        passed: true
        comment: Uses pygal's StackedBar, custom Style for large canvas, print_values
          with custom formatter for total labels, legend configuration, and dual output
          (PNG and HTML).
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling: []
