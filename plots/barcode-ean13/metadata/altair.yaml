library: altair
specification_id: barcode-ean13
created: '2026-01-19T12:29:08Z'
updated: '2026-01-19T12:31:33Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21137406099
issue: 3808
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/barcode-ean13/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/barcode-ean13/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/barcode-ean13/altair/plot.html
quality_score: 91
review:
  strengths:
  - Excellent implementation of EAN-13 encoding logic with proper L/G/R code patterns
  - Clean visual output with proper guard pattern heights (taller than data bars)
  - Correct title format and good use of Altair declarative approach
  - Human-readable digits properly positioned with first digit outside left guard
  weaknesses:
  - Helper function (calc_check_digit) violates KISS principle; should be inline
  image_description: 'The plot displays an EAN-13 barcode with black vertical bars
    on a white background. The title "barcode-ean13 路 altair 路 pyplots.ai" appears
    at the top in black text. The barcode consists of varying-width black bars representing
    the encoded data, with guard patterns (start, center, and end) extending slightly
    taller than the data bars. Below the barcode, human-readable digits are displayed
    in bold monospace font: "4" on the far left (outside the left guard), "006381"
    beneath the left half of the barcode, and "333931" beneath the right half. The
    barcode encodes the German product code 4006381333931. The layout is clean with
    adequate quiet zones on both sides.'
  criteria_checklist:
    visual_quality:
      score: 37
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title and digits are clearly readable with bold monospace font at
          appropriate size
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping elements; digits properly spaced below barcode
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Bars are crisp and clearly visible with proper width ratios
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: High contrast black on white, universally accessible
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good use of canvas with balanced margins; slight excess whitespace
          at bottom
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: true
        comment: N/A for barcode visualization
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Clean presentation without unnecessary grid or legend
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct EAN-13 barcode visualization
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Proper L/G/R encoding based on first digit pattern
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Includes guard patterns (start 101, center 01010, end 101), quiet
          zones, and human-readable digits
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Full 13-digit code displayed correctly
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: N/A but digits match the encoded value
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: barcode-ean13 路 altair 路 pyplots.ai'
    data_quality:
      score: 17
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows complete EAN-13 with all structural elements; could show variety
          with additional examples
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Uses real German product code format (4006381333931)
      - id: DQ-03
        name: Appropriate Scale
        score: 3
        max: 5
        passed: true
        comment: Bar widths follow standard module ratios; output is scannable size
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 1
        max: 3
        passed: false
        comment: Uses a helper function (calc_check_digit) instead of inline code
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Deterministic data (hardcoded barcode value)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only altair and pandas imported
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Altair API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 4
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 4
        max: 5
        passed: true
        comment: Good use of mark_rect for bars and mark_text for labels; layer composition;
          proper Altair declarative style
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - layer-composition
  - annotations
  - html-export
  patterns:
  - iteration-over-groups
  dataprep: []
  styling:
  - minimal-chrome
