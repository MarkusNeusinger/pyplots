library: altair
specification_id: swarm-basic
created: '2025-12-23T21:54:54Z'
updated: '2025-12-23T22:01:19Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20472388599
issue: 0
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/swarm-basic/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/swarm-basic/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/swarm-basic/altair/plot.html
quality_score: 91
impl_tags:
  dependencies: []
  techniques:
    - layer-composition
    - hover-tooltips
    - html-export
  patterns:
    - data-generation
  dataprep: []
  styling:
    - alpha-blending
    - grid-styling
review:
  strengths:
  - Excellent data design with four distinct distribution patterns (tight, wide, bimodal,
    outliers) demonstrating swarm plot capabilities
  - Creative implementation of swarm effect using manual jitter calculation with local
    density awareness
  - Good layered composition with mean markers and reference lines
  - Well-configured visual styling with appropriate font sizes and subtle grid
  - Realistic employee performance scenario that makes the visualization meaningful
  weaknesses:
  - Code structure could be simpler; the jitter calculation loop adds complexity beyond
    KISS principles
  - Blue (#306998) and teal (#4B8BBE) colors are quite similar and may cause confusion
    for some viewers
  - Outputs both PNG and HTML when specification should focus on PNG output only
  image_description: 'The plot displays a basic swarm plot showing employee performance
    scores (y-axis, ranging from ~20 to 110) across four departments: Engineering
    (blue), Marketing (yellow), Sales (teal), and HR (gray). Points are horizontally
    spread within each category to reveal distribution density while avoiding overlap.
    Each department shows a distinct distribution pattern: Engineering has a tight
    cluster around 75-85, Marketing shows wider spread with some low outliers, Sales
    appears bimodal with scores clustering around both 60-70 and 80-85, and HR shows
    moderate spread with visible outliers at both ends. Black diamond markers indicate
    the mean for each department, with dashed horizontal lines extending from them.
    The legend is positioned in the upper right. The title reads "swarm-basic 路 altair
    路 pyplots.ai" at the top.'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: 'All text clearly readable: title at 28pt, axis labels at 22pt, tick
          labels at 18pt'
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text or labels
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Point size (180) appropriate for ~170 points, opacity 0.7 works well.
          Slight overlap in dense areas but acceptable for swarm
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 5
        passed: true
        comment: Blue/yellow/teal/gray palette is mostly colorblind-friendly but blue
          vs teal may be difficult for some
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Good canvas utilization, balanced margins, legend well-positioned
      - id: VQ-06
        name: Axis Labels
        score: 1
        max: 2
        passed: true
        comment: Descriptive labels ("Performance Score", "Department") but no units
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: true
        comment: Grid subtle (alpha 0.3), legend well placed but slightly overlaps
          with upper data points area
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct swarm/beeswarm plot with horizontal spread
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Categories on X, values on Y correctly assigned
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: 'All spec features present: individual points, horizontal spread,
          mean markers'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Axes show all data appropriately (25-105 scale)
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend labels correctly match department names
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: "swarm-basic 路 altair 路 pyplots.ai"'
    data_quality:
      score: 20
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: 'Excellent: shows tight distribution (Engineering), wide spread (Marketing),
          bimodal (Sales), outliers (HR)'
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Employee performance scores by department is a realistic, relatable
          scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Performance scores 30-100 are realistic and sensible
    code_quality:
      score: 7
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 1
        max: 3
        passed: false
        comment: Uses loops and nested logic for jitter calculation; not pure flat
          script
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) properly set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only necessary imports (altair, numpy, pandas)
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Altair API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Outputs plot.png and plot.html (should be just plot.png for review)
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 3
        max: 5
        passed: true
        comment: Uses Altair's layered chart composition, tooltips, and declarative
          encoding well. However, the manual jitter calculation is a workaround rather
          than using a native Altair approach
  verdict: APPROVED
