library: plotly
specification_id: map-animated-temporal
created: '2026-01-20T19:44:41Z'
updated: '2026-01-20T19:47:40Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21184842610
issue: 3769
python_version: 3.13.11
library_version: 6.5.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/map-animated-temporal/plotly/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/map-animated-temporal/plotly/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/map-animated-temporal/plotly/plot.html
quality_score: 92
review:
  strengths:
  - Excellent use of Plotly's built-in animation capabilities with scatter_geo and
    animation_frame
  - Well-configured play/pause buttons and time slider with smooth cubic-in-out transitions
  - Realistic earthquake aftershock scenario with appropriate geographic context (Japan
    2011 region)
  - Clean, readable code following KISS principles
  - 'Proper dual output: PNG for static preview and HTML for interactive version'
  weaknesses:
  - Geographic maps inherently lack traditional axis labels - could add lat/lon graticules
    for reference
  - Some magnitude values exceed 10 which is unrealistic for aftershocks (rare above
    7-8 in reality)
  - Could add point trails to show movement patterns over recent frames as suggested
    in spec notes
  image_description: 'The plot displays an animated geographic map showing earthquake
    aftershock data off the coast of Japan. The static image shows Day 1 of the sequence,
    with approximately 30+ scatter points clustered off the eastern coast of Japan
    near the specified epicenter (38.3°N, 142.4°E). Points are colored using a YlOrRd
    (yellow-orange-red) continuous color scale representing magnitude (ranging from
    ~2 to 12), with both size and color encoding the magnitude value. The map shows
    East Asia with Japan clearly visible, including country boundaries, coastlines,
    and ocean coloring (light blue for ocean, light gray for land). A colorbar on
    the right displays the "Magnitude" scale with tick values from 2 to 12. Play/Pause
    buttons are prominently visible at the bottom left with clear icons, and a time
    slider spans the full width showing Days 1-15 with "Time: Day 1" displayed above
    it. The title follows the correct format: "Earthquake Aftershock Sequence · map-animated-temporal
    · plotly · pyplots.ai" centered at the top in large readable text.'
  criteria_checklist:
    visual_quality:
      score: 37
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 28pt is clear and readable, colorbar labels visible, slider
          labels legible
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements, all controls and labels clearly separated
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Markers well-sized with size_max=25, alpha=0.7 provides good visibility;
          minor overlap in clustered points but appropriate for earthquake data
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: YlOrRd colorscale is colorblind-friendly sequential warm palette
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Map fills majority of canvas, controls positioned well at bottom,
          colorbar appropriately placed
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: false
        comment: Geographic maps do not have traditional axis labels - no lat/lon
          graticules shown
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Colorbar legend well-placed and readable, no distracting grid
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct animated geographic scatter map
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Lat/lon correctly mapped, magnitude to size and color
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Has play/pause controls, time slider, timestamp display, basemap
          with boundaries/coastlines/ocean
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data points visible within the map view, zoomed appropriately
          to Japan region
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Colorbar correctly labeled Magnitude
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Uses correct format {spec-id} · {library} · pyplots.ai
    data_quality:
      score: 17
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 6
        max: 8
        passed: true
        comment: Shows temporal progression over 15 days, magnitude variation, spatial
          clustering; could show more dramatic spreading pattern
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Earthquake aftershock sequence off Japan coast is highly plausible
          and realistic
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Magnitudes 2-12 are mostly realistic; some magnitudes above 10 are
          rare for aftershocks
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear structure: imports → data → plot → save, no functions/classes'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set at beginning
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only numpy, pandas, plotly.express used and needed
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Plotly Express API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves both plot.png and plot.html correctly
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses px.scatter_geo with animation_frame for built-in animation,
          smooth transitions configured; could leverage more advanced Plotly features
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - colorbar
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - custom-colormap
  - alpha-blending
  - edge-highlighting
