library: bokeh
specification_id: windbarb-basic
created: '2026-01-11T10:06:08Z'
updated: '2026-01-11T10:08:39Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20893327536
issue: 3694
python_version: 3.13.11
library_version: 3.8.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/windbarb-basic/bokeh/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/windbarb-basic/bokeh/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/windbarb-basic/bokeh/plot.html
quality_score: 88
review:
  strengths:
  - Excellent manual implementation of wind barb notation with correct meteorological
    convention (barbs point FROM wind direction)
  - Clean grid layout with appropriate spacing prevents overlap
  - Good use of Bokeh segment glyph for efficient rendering of all barb components
  - Realistic weather pattern simulation with spatial variation
  - Station markers provide clear reference points
  weaknesses:
  - Missing legend explaining wind barb notation (half=5kt, full=10kt, pennant=50kt)
  - No demonstration of calm wind symbol (open circle without staff for < 2.5 knots)
    mentioned in spec
  - Could benefit from Bokeh interactive features like HoverTool showing wind speed/direction
  image_description: The plot displays a 6x5 grid of wind barbs on a light gray background
    (#f8f9fa). Each barb consists of a staff (line) pointing in the direction from
    which the wind blows, with short and long barbs attached to indicate wind speed.
    Station markers are shown as white circles with blue (#306998) outlines at each
    observation point. The barbs vary in direction and the number of attached lines
    based on the simulated wind data. The title "windbarb-basic 路 bokeh 路 pyplots.ai"
    appears in the upper left. Axis labels read "X Position (grid units)" and "Y Position
    (grid units)". The grid lines are subtle with dashed styling. Wind directions
    vary across the domain showing a realistic weather pattern with stronger westerly
    winds in the center and varying meridional components.
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title at 28pt, axis labels at 22pt, tick labels at 18pt. All readable
          but title could be slightly larger.
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping elements. Barbs are well-spaced on the grid.
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Barbs visible with line_width=3, but some half-barb-only stations
          appear slightly thin.
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Single color scheme (#306998 blue) on light background provides excellent
          contrast.
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good canvas utilization with appropriate margins.
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: 'Descriptive labels with units: X Position (grid units), Y Position
          (grid units).'
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: false
        comment: Grid has good alpha and dashed style, but no legend explaining barb
          notation.
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct wind barb plot with staff, half barbs, full barbs implementation.
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: X/Y positions correctly mapped, u/v components properly converted
          to barbs.
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Has staff, half barbs, full barbs, pennants. Missing calm wind circles.
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible within axis ranges.
      - id: SC-05
        name: Legend Accuracy
        score: 1
        max: 2
        passed: false
        comment: No legend present to explain barb notation.
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Correctly uses windbarb-basic 路 bokeh 路 pyplots.ai format.
    data_quality:
      score: 17
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 6
        max: 8
        passed: true
        comment: Shows varying wind speeds and directions. Has half barbs, full barbs,
          pennant code. No calm winds demonstrated.
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Weather station grid with spatially varying winds is realistic for
          synoptic observations.
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Wind speeds in 10-30 knot range are realistic for surface winds.
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Simple structure: imports, data, barb calculation, figure, plot,
          save.'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42) for reproducible results.
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used.
      - id: CQ-04
        name: No Deprecated API
        score: 0
        max: 1
        passed: false
        comment: Using from math import pi when numpy already provides np.pi.
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Correctly exports to plot.png.
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses ColumnDataSource and segment renderer. Could add HoverTool for
          interactivity.
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - annotations
  patterns:
  - data-generation
  - columndatasource
  - iteration-over-groups
  dataprep: []
  styling:
  - grid-styling
