library: bokeh
specification_id: spectrum-basic
created: '2025-12-31T05:38:40Z'
updated: '2025-12-31T05:53:30Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20612829247
issue: 2926
python_version: 3.13.11
library_version: 3.8.1
preview_url: https://storage.googleapis.com/pyplots-images/plots/spectrum-basic/bokeh/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/spectrum-basic/bokeh/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/spectrum-basic/bokeh/plot.html
quality_score: 92
impl_tags:
  dependencies: []
  techniques:
  - columndatasource
  - html-export
  patterns:
  - data-generation
  dataprep: []
  styling:
  - grid-styling
review:
  strengths:
  - Excellent visual clarity with proper text sizing for the 4800x2700 canvas
  - Clear peak highlighting with dashed vertical lines and circle markers at 50 Hz,
    150 Hz, and 400 Hz
  - Good use of varea for the subtle fill under the curve which aids visual interpretation
  - Proper FFT implementation with correct normalization and dB conversion
  - Colorblind-safe color scheme with good contrast
  weaknesses:
  - Legend text appears small relative to the canvas size; could benefit from larger
    legend text
  - Missing HoverTool which would showcase Bokeh interactivity for showing exact frequency/amplitude
    values
  image_description: The plot displays a frequency spectrum with amplitude (dB) on
    the Y-axis ranging from approximately -80 to 0, and frequency (Hz) on the X-axis
    from 0 to 500 Hz. The main data is shown as a blue line (#306998) with a subtle
    light blue fill underneath. Three prominent peaks are clearly visible at 50 Hz,
    150 Hz, and 400 Hz, marked with yellow/gold circle markers (#FFD43B) and dashed
    vertical lines extending down to -80 dB. The title "spectrum-basic · bokeh · pyplots.ai"
    appears in the top-left. A legend in the top-right shows "Signal Spectrum" and
    the three peak frequencies. The background is a light off-white (#fafafa) with
    dashed grid lines. The noise floor is visible around -60 to -70 dB with typical
    FFT variation.
  criteria_checklist:
    visual_quality:
      score: 37
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 36pt, axis labels at 28pt, tick labels at 20pt - all clearly
          readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements, legend is well-positioned
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Line width of 4 is excellent for the canvas size, peaks clearly marked
          with large circle markers (size=25)
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue (#306998) and yellow (#FFD43B) provide excellent contrast and
          are colorblind-safe
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good utilization of canvas, slight excess whitespace on right side
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: 'Both axes have descriptive labels with units: "Frequency (Hz)" and
          "Amplitude (dB)"'
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Legend labels are too small/hard to read at full resolution, legend
          items appear cramped
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct frequency spectrum plot
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Frequency on X-axis, amplitude in dB on Y-axis
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Multiple frequency components shown, peak highlighting present, dB
          scale used
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Axes show full data range (0-500 Hz, -80 to 0 dB)
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly identifies signal spectrum and peak frequencies
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: "spectrum-basic · bokeh · pyplots.ai"'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: Shows fundamental frequency (50 Hz), harmonic (150 Hz), separate
          component (400 Hz), and noise floor - excellent demonstration of spectrum
          analysis
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 7
        passed: true
        comment: Synthetic signal is plausible but generic; could be more specific
          (e.g., "motor vibration" or "audio signal")
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Realistic frequency range (0-500 Hz), appropriate sample rate (8192
          Hz), sensible dB scale
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Clean linear structure: imports → data → plot → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) is set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only necessary imports used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Bokeh API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves both PNG and HTML, but code structure is correct
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 3
        max: 5
        passed: true
        comment: Uses ColumnDataSource, varea for fill, interactive tools, but could
          leverage more Bokeh-specific features like HoverTool for frequency/amplitude
          display
  verdict: APPROVED
