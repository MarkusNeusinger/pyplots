library: plotly
specification_id: ks-test-comparison
created: '2026-02-17T20:11:22Z'
updated: '2026-02-17T20:45:39Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 22113798984
issue: 4130
python_version: 3.14.3
library_version: 6.5.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/ks-test-comparison/plotly/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/ks-test-comparison/plotly/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/ks-test-comparison/plotly/plot.html
quality_score: 92
review:
  strengths:
  - 'Excellent spec compliance — all required K-S test features implemented: ECDFs,
    max divergence highlight, K-S statistic, p-value, legend'
  - Strong visual design with custom color palette, refined annotation box, shaded
    divergence region, and subtle quartile reference lines
  - Effective data storytelling through subtitle narrating the finding and visual
    emphasis on the divergence point
  - 'Good Plotly-specific features: unified hover mode with spike lines, HTML export
    with drawing tools, custom hovertemplates'
  - Clean, well-structured code with appropriate use of scipy for ECDF computation
    and K-S test
  weaknesses:
  - 'Minor layout imbalance: some wasted whitespace in corners due to natural data
    distribution shape'
  - Distributions do not cross, which limits the demonstration of K-S test nuances
  - Hand-drawn axis spines via add_shape could be slightly more refined
  image_description: The plot displays two empirical cumulative distribution functions
    (ECDFs) as step functions on a clean white background. The "Good Customers" ECDF
    is drawn in blue (#306998) and the "Bad Customers" ECDF in orange (#E8590C), both
    with line width 3. The x-axis is labeled "Credit Score (0–100)" with ticks every
    20 units, and the y-axis is labeled "Cumulative Proportion" ranging from 0.00
    to 1.00 with ticks at 0.25 intervals. Subtle dotted horizontal reference lines
    appear at the 0.25, 0.50, and 0.75 quartile levels. The Bad Customers distribution
    rises earlier (shifted left), while the Good Customers distribution is shifted
    right, reflecting that bad customers tend to have lower credit scores. A dashed
    green vertical line with diamond-shaped endpoint markers highlights the point
    of maximum divergence at approximately Credit Score 43, spanning from approximately
    0.18 to 0.68 on the y-axis. A light green shaded region fills the area between
    the two ECDFs around the divergence point. An annotation box with a green border
    and arrow points to the midpoint of the divergence line, displaying "K-S Statistic,
    D = 0.495, p < 0.001" in bold. The title "ks-test-comparison · plotly · pyplots.ai"
    is centered at the top with a subtitle reading "Good vs. Bad customers — distributions
    differ significantly (D = 0.495, p < 0.001)". A legend in the upper-left corner
    identifies all three trace elements.
  criteria_checklist:
    visual_quality:
      score: 28
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 8
        passed: true
        comment: 'All font sizes explicitly set: title 28pt, axis labels 22pt, ticks
          18pt, annotation 18pt, legend 18pt'
      - id: VQ-02
        name: No Overlap
        score: 6
        max: 6
        passed: true
        comment: No overlapping text elements anywhere
      - id: VQ-03
        name: Element Visibility
        score: 6
        max: 6
        passed: true
        comment: Line widths of 3 appropriate for ECDF lines, diamond markers clearly
          visible
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 4
        passed: true
        comment: Blue/orange palette is colorblind-safe, green divergence line provides
          strong additional contrast
      - id: VQ-05
        name: Layout & Canvas
        score: 2
        max: 4
        passed: false
        comment: Good overall but some wasted whitespace in corners due to natural
          data distribution shape
      - id: VQ-06
        name: Axis Labels & Title
        score: 2
        max: 2
        passed: true
        comment: Credit Score (0-100) with range context, Cumulative Proportion is
          descriptive
    design_excellence:
      score: 16
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 7
        max: 8
        passed: true
        comment: Custom color palette, refined annotation box, shaded divergence region,
          diamond markers. Near publication-ready.
      - id: DE-02
        name: Visual Refinement
        score: 5
        max: 6
        passed: true
        comment: Grid removed, custom subtle spines, dotted quartile reference lines,
          clean white background
      - id: DE-03
        name: Data Storytelling
        score: 4
        max: 6
        passed: true
        comment: Subtitle narrates the finding, shaded region and annotation draw
          focus to the key insight
    spec_compliance:
      score: 15
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: ECDFs as step functions using shape=hv
      - id: SC-02
        name: Required Features
        score: 4
        max: 4
        passed: true
        comment: 'All spec features: both ECDFs, K-S statistic, max divergence highlight,
          p-value, legend, Y 0-1'
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: Credit scores on X, cumulative proportion on Y
      - id: SC-04
        name: Title & Legend
        score: 3
        max: 3
        passed: true
        comment: Title format correct, legend labels descriptive
    data_quality:
      score: 14
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 5
        max: 6
        passed: true
        comment: Two well-separated beta distributions showing clear divergence with
          tail overlap
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 5
        passed: true
        comment: Credit scoring Good vs Bad customers is a canonical K-S test application
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 4
        passed: true
        comment: Credit scores 0-100, 200 samples per group, D=0.495 all realistic
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Clean imports-data-computation-plot-save flow, no functions or classes
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: 'All imports used: numpy, plotly.graph_objects, scipy.stats'
      - id: CQ-04
        name: Code Elegance
        score: 2
        max: 2
        passed: true
        comment: Clean, Pythonic code with appropriate complexity
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png, uses current Plotly API
    library_mastery:
      score: 9
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 5
        max: 5
        passed: true
        comment: Expert go.Figure() usage with add_trace, add_annotation, add_shape,
          custom hovertemplate
      - id: LM-02
        name: Distinctive Features
        score: 4
        max: 5
        passed: true
        comment: Unified hover with spike lines, HTML+PNG dual export, modeBarButtonsToAdd
          for drawing tools
  verdict: APPROVED
impl_tags:
  dependencies:
  - scipy
  techniques:
  - annotations
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  dataprep:
  - ecdf
  styling:
  - grid-styling
