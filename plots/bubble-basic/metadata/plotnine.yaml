library: plotnine
specification_id: bubble-basic
created: '2025-12-23T01:31:30Z'
updated: '2026-02-16T20:34:32Z'
generated_by: claude-opus-4-6
workflow_run: 20448652486
issue: 0
python_version: 3.14.3
library_version: 0.15.3
preview_url: https://storage.googleapis.com/pyplots-images/plots/bubble-basic/plotnine/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/bubble-basic/plotnine/plot_thumb.png
preview_html: null
quality_score: 91
impl_tags:
  dependencies: []
  techniques:
  - layer-composition
  patterns:
  - data-generation
  dataprep: []
  styling:
  - alpha-blending
  - grid-styling
review:
  strengths:
  - Excellent spec compliance — all notes addressed including area scaling, transparency,
    size legend, and color as 4th dimension
  - Strong realistic data scenario with GDP/life expectancy/population across world
    regions
  - Well-crafted typography hierarchy with all font sizes explicitly set
  - Idiomatic plotnine grammar of graphics usage with clean code structure
  - Custom palette starting with Python Blue (#306998) as required by library rules
  weaknesses:
  - Minor crowding in the lower-left cluster where Middle East & Africa and some Asia-Pacific/Americas
    points overlap
  - Right side of plot area has some unused space that could be better utilized
  - Could benefit from slightly more visual storytelling emphasis (e.g., stronger
    color contrast between regions)
  image_description: 'The plot displays a bubble chart titled "bubble-basic · plotnine
    · pyplots.ai" on a white background with a light gray (#fafafa) panel. The x-axis
    shows "GDP per Capita (USD thousands)" formatted as $10k–$70k, and the y-axis
    shows "Life Expectancy (years)" ranging from ~60 to ~88. Forty bubbles are plotted,
    colored by four regions: Asia-Pacific (steel blue), Europe (salmon/orange), Americas
    (green), and Middle East & Africa (purple/lavender). Bubble sizes represent population
    in millions, with a size legend showing 5, 25, and 75M breakpoints. There is a
    clear positive correlation — higher GDP correlates with higher life expectancy.
    Middle East & Africa clusters in the lower-left (low GDP, low life expectancy),
    while Europe points are distributed toward higher GDP and life expectancy. The
    layout is 16:9 landscape with subtle major gridlines and no minor grid. Typography
    is well-sized with bold title and clear axis labels.'
  criteria_checklist:
    visual_quality:
      score: 28
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 8
        passed: true
        comment: 'All font sizes explicitly set: title 24pt bold, axis titles 20pt,
          tick labels 16pt, legend title 18pt bold, legend text 16pt'
      - id: VQ-02
        name: No Overlap
        score: 6
        max: 6
        passed: true
        comment: No overlapping text elements; x-axis labels well-spaced, legend clear
          of data
      - id: VQ-03
        name: Element Visibility
        score: 5
        max: 6
        passed: true
        comment: Good size variation with max_size=24 and alpha=0.65; slight crowding
          in lower-left cluster but transparency handles it
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 4
        passed: true
        comment: Blue/orange/green/purple palette distinguishable for most color vision
          deficiencies
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 4
        passed: true
        comment: Good 16:9 canvas usage; slight wasted space on right side of plot
          area
      - id: VQ-06
        name: Axis Labels & Title
        score: 2
        max: 2
        passed: true
        comment: GDP per Capita (USD thousands) and Life Expectancy (years) with proper
          units
    design_excellence:
      score: 15
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 6
        max: 8
        passed: true
        comment: Custom palette starting with Python Blue, intentional typography
          hierarchy, subtle grid, light panel background — clearly above defaults
      - id: DE-02
        name: Visual Refinement
        score: 5
        max: 6
        passed: true
        comment: Minor grid removed, major grid subtle, theme_minimal with no heavy
          spines, styled legend keys
      - id: DE-03
        name: Data Storytelling
        score: 4
        max: 6
        passed: true
        comment: Clear positive GDP-life expectancy correlation visible, regional
          clustering provides narrative, bubble sizes add population context
    spec_compliance:
      score: 15
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: Correct bubble chart using geom_point with size aesthetic
      - id: SC-02
        name: Required Features
        score: 4
        max: 4
        passed: true
        comment: Area-scaled bubbles, transparency, size legend with breaks, color
          as 4th dimension for categorical grouping
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: X=GDP per capita, Y=Life expectancy, Size=Population, Color=Region
          — all correctly mapped
      - id: SC-04
        name: Title & Legend
        score: 3
        max: 3
        passed: true
        comment: Title in correct format, legends descriptive with Population (M)
          and Region
    data_quality:
      score: 14
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 5
        max: 6
        passed: true
        comment: Good size variation, spread across GDP range, different life expectancies
          and regional clusters
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 5
        passed: true
        comment: Cities across 4 world regions with GDP per capita, life expectancy,
          and population
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 4
        passed: true
        comment: GDP $3k-$85k, life expectancy 52-88 years, population in millions
          — all realistic ranges
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Clean imports → data → plot → save structure, no functions/classes
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports used, no extras
      - id: CQ-04
        name: Code Elegance
        score: 2
        max: 2
        passed: true
        comment: Clean, Pythonic; data generation appropriately complex for realistic
          scenario
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png, dpi=300
    library_mastery:
      score: 9
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 5
        max: 5
        passed: true
        comment: 'Textbook plotnine grammar of graphics: ggplot + aes + geom + scale
          + labs + theme chain; pd.Categorical for ordered legend'
      - id: LM-02
        name: Distinctive Features
        score: 4
        max: 5
        passed: true
        comment: scale_size_area for perceptually-correct area scaling, custom lambda
          formatters, element-based theme customization
  verdict: APPROVED
