library: letsplot
specification_id: area-stock-range
created: '2026-01-11T09:34:00Z'
updated: '2026-01-11T09:38:52Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20892896043
issue: 3701
python_version: 3.13.11
library_version: 4.8.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/area-stock-range/letsplot/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/area-stock-range/letsplot/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/area-stock-range/letsplot/plot.html
quality_score: 72
review:
  strengths:
  - Clean, readable code following KISS principles
  - Realistic stock price data generated with geometric Brownian motion
  - Good visual styling with appropriate fill transparency (alpha=0.4) and line weight
  - Proper use of scale_x_datetime() for date handling
  - Generates both PNG and HTML outputs
  weaknesses:
  - 'Missing the core feature: interactive range selector with preset ranges (1M,
    3M, 6M, 1Y, YTD, All)'
  - No mini chart/overview showing the full data range
  - Does not leverage lets-plot interactive capabilities for the HTML export
  - Simply shows a pre-filtered 6-month view instead of an interactive selection mechanism
  image_description: The plot shows a filled area chart displaying stock price history
    over a 6-month period (approximately June to December 2025). The chart uses a
    blue fill color (#306998) with semi-transparent alpha (0.4) and a solid blue line
    on top delineating the price movements. The Y-axis shows "Price (USD)" ranging
    from approximately 180 to 235, and the X-axis shows "Date" with monthly labels
    (Jul, Aug, Sep, Oct, Nov, Dec). The title reads "Stock Price History (6M Range)
    · area-stock-range · letsplot · pyplots.ai" in bold at the top. The plot uses
    a minimal theme with subtle gray grid lines. The area fill extends from the price
    line down to the bottom of the chart, effectively showing price levels and volatility
    over time. The data shows realistic stock movement patterns with peaks around
    August-September (~228) and troughs in October (~183).
  criteria_checklist:
    visual_quality:
      score: 32
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title, axis labels, and tick labels are clearly readable with appropriate
          font sizes
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements, month labels well-spaced
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Area fill and line clearly visible, line thickness appropriate
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Single blue color scheme is colorblind-safe
      - id: VQ-05
        name: Layout Balance
        score: 1
        max: 5
        passed: false
        comment: Y-axis starts at ~177 rather than 0, minor wasted space
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Price (USD) includes units, Date is descriptive
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Grid lines slightly too prominent
    spec_compliance:
      score: 16
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct area chart for stock visualization
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Date on X-axis, Price on Y-axis correctly mapped
      - id: SC-03
        name: Required Features
        score: 0
        max: 5
        passed: false
        comment: 'MISSING: Interactive range selector with preset ranges (1M, 3M,
          6M, 1Y, YTD, All) and mini chart'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data points visible with appropriate padding
      - id: SC-05
        name: Legend Accuracy
        score: 0
        max: 0
        passed: true
        comment: No legend needed for single series
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Correctly uses area-stock-range · letsplot · pyplots.ai format
    data_quality:
      score: 17
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 6
        max: 8
        passed: true
        comment: Shows price volatility, uptrends, downtrends, recoveries
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Stock price data with geometric Brownian motion is realistic
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Price values (180-228 USD) are realistic for a stock
    code_quality:
      score: 7
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Clean imports → data → plot → save structure
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 0
        max: 2
        passed: false
        comment: Imports are verbose but all used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current lets-plot API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves correctly but title mentions static 6M range instead of interactive
          selector
    library_features:
      score: 0
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 0
        max: 5
        passed: false
        comment: Does not use lets-plot interactive capabilities for range selection
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - layer-composition
  - html-export
  patterns:
  - data-generation
  - time-series
  dataprep:
  - time-series
  styling:
  - alpha-blending
  - grid-styling
