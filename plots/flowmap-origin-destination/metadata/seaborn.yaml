library: seaborn
specification_id: flowmap-origin-destination
created: '2026-01-16T08:05:46Z'
updated: '2026-01-16T08:13:33Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21059785697
issue: 3765
python_version: 3.13.11
library_version: 0.13.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/flowmap-origin-destination/seaborn/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/flowmap-origin-destination/seaborn/plot_thumb.png
preview_html: null
quality_score: 91
review:
  strengths:
  - Excellent label positioning with custom offsets prevents overlap in crowded areas
    (London/Paris/Frankfurt cluster)
  - YlOrRd colormap provides clear visual distinction of flow magnitudes
  - Quadratic Bezier curves create aesthetically pleasing arcs
  - Geographic reference lines (equator, prime meridian) add context
  - Clean code structure following KISS principle
  - Good use of seaborn lineplot with units parameter for multiple paths
  weaknesses:
  - Line width should be proportional to flow magnitude (spec requirement) - currently
    fixed at 2.5
  - Grid is slightly too prominent - could use lower alpha
  image_description: The plot displays an origin-destination flow map showing migration
    flows between 12 major world cities. Cities are represented as blue circular markers
    with white edges, positioned at their geographic coordinates (latitude vs longitude).
    Curved arcs connect origin and destination cities, with arc colors ranging from
    yellow (lower flow ~280) through orange to dark red (higher flow ~850) using the
    YlOrRd colormap. The arcs are quadratic Bezier curves with transparency (alpha
    0.6). City labels are positioned near each marker with custom offsets to minimize
    overlap. Reference lines for the equator (y=0) and prime meridian (x=0) appear
    as dashed gray lines. The title reads "flowmap-origin-destination · seaborn ·
    pyplots.ai" in bold at the top. A vertical colorbar on the right shows "Flow Volume"
    ranging from ~280 to ~850. The background is a light blue-gray (#f0f4f8), and
    axes show Longitude (-150 to 150) and Latitude (-60 to 80).
  criteria_checklist:
    visual_quality:
      score: 38
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 24pt, axis labels at 20pt, tick labels at 16pt, city labels
          at 12pt bold - all clearly readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: City labels have custom offsets to prevent overlap, even in dense
          European cluster
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: City markers large (s=350) with white edges, arcs have appropriate
          alpha (0.6)
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: YlOrRd colormap is colorblind-friendly sequential palette
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Plot fills canvas well, good use of 16:9 aspect ratio
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Descriptive labels Longitude and Latitude
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Grid slightly too prominent; colorbar well placed
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correctly implements origin-destination flow map with curved arcs
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Origin/destination coordinates correctly mapped, flow magnitude to
          color
      - id: SC-03
        name: Required Features
        score: 3
        max: 5
        passed: false
        comment: Has curved arcs and color encoding; missing line WIDTH proportional
          to flow (uses constant linewidth=2.5)
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible within axis limits
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Colorbar correctly labeled Flow Volume
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: flowmap-origin-destination · seaborn · pyplots.ai'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows varied flow magnitudes (280-850), multiple routes, hub patterns
          visible
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Real-world migration/travel flows between major world cities is plausible,
          neutral scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Flow values (280-850) reasonable for normalized migration/travel
          data
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Flat structure: imports → data → plot → save, no functions/classes'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports used (matplotlib, numpy, pandas, seaborn)
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current seaborn 0.13+ API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png
    library_features:
      score: 2
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 2
        max: 5
        passed: false
        comment: Uses sns.lineplot and sns.scatterplot, sns.set_theme, sns.despine
          - seaborn features, but implementation largely matplotlib-based
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - colorbar
  - annotations
  - bezier-curves
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - custom-colormap
  - alpha-blending
  - edge-highlighting
  - grid-styling
