library: bokeh
specification_id: network-weighted
created: '2026-01-08T15:57:06Z'
updated: '2026-01-08T16:00:04Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20822854400
issue: 3290
python_version: 3.13.11
library_version: 3.8.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/network-weighted/bokeh/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/network-weighted/bokeh/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/network-weighted/bokeh/plot.html
quality_score: 88
review:
  strengths:
  - Excellent implementation of force-directed layout algorithm from scratch
  - Clear visual differentiation between strong and weak trade relationships through
    edge thickness
  - Node sizing by weighted degree adds information density
  - Good color choices with high contrast (yellow nodes, blue edges)
  - Legend explaining edge thickness scale
  - Realistic, engaging trade network scenario
  weaknesses:
  - Legend lines are too thin and hard to see - should be more prominent
  - Could add HoverTool for interactive exploration of trade values
  image_description: The plot displays a weighted network graph representing international
    trade relationships between 15 countries. Nodes are rendered as yellow circles
    with dark blue outlines, sized proportionally to their weighted degree (total
    trade volume). The largest nodes are USA, China, Germany, and Mexico, reflecting
    their high trade activity. Edges connect trading partners with varying thickness
    corresponding to trade volume in billions USD - the thickest edges connect USA-Mexico,
    USA-Canada, and USA-China, clearly showing NAFTA and US-China trade dominance.
    Edge color uses a blue palette (#306998) with alpha transparency that increases
    with weight. A legend in the top-left corner shows "Trade Volume (B USD)" with
    three reference lines representing 40, 360, and 680 billion USD. The title "network-weighted
    · bokeh · pyplots.ai" is centered at the top. The layout uses a force-directed
    algorithm that reasonably separates nodes while keeping connected nodes closer
    together. All country labels are displayed inside their respective nodes in bold
    black text.
  criteria_checklist:
    visual_quality:
      score: 35
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 10
        passed: true
        comment: Title and legend text readable. Node labels legible but some are
          small relative to node size
      - id: VQ-02
        name: No Overlap
        score: 7
        max: 8
        passed: true
        comment: Minimal overlap; some edge crossings expected in network graphs.
          Node labels contained within nodes
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Nodes well-sized with clear size differentiation. Edge thickness
          clearly distinguishes relationships
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue edges and yellow nodes provide excellent contrast. No red-green
          issues
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Network fills canvas appropriately, legend positioned in corner without
          overlap
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: N/A for network graphs - axes correctly hidden
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Legend present but lines are too thin and hard to see at full scale
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct weighted network graph with edge thickness encoding
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Nodes represent countries, edges represent trade relationships, thickness
          = trade volume
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Has weighted edges, node sizing by degree, legend, force-directed
          layout. Legend could be more prominent
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All nodes and edges visible within plot bounds
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly shows trade volume scale in B USD
      - id: SC-06
        name: Title Format
        score: 1
        max: 2
        passed: true
        comment: Correct format with middot separators
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows variation in edge weights and node sizes. Good range of connection
          strengths
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Trade network between countries is an excellent, realistic scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Trade volumes in billions USD are realistic and plausible
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear structure: imports → data → layout → plot → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Bokeh API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves as plot.png correctly
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses ColumnDataSource, LabelSet, Range1d, segment glyphs. Could leverage
          HoverTool for interactivity
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - custom-legend
  patterns:
  - data-generation
  - columndatasource
  - iteration-over-groups
  dataprep:
  - normalization
  styling:
  - minimal-chrome
  - alpha-blending
