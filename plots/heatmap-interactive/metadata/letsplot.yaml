library: letsplot
specification_id: heatmap-interactive
created: '2026-01-08T16:00:54Z'
updated: '2026-01-08T16:05:20Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20822857868
issue: 3289
python_version: 3.13.11
library_version: 4.8.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/heatmap-interactive/letsplot/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/heatmap-interactive/letsplot/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/heatmap-interactive/letsplot/plot.html
quality_score: 91
review:
  strengths:
  - Excellent use of lets-plot layer_tooltips() for interactive hover information
    showing Product, Month, and Sales values
  - Well-chosen diverging color scheme (blue-white-yellow) with midpoint at median
    for intuitive interpretation
  - Clean seasonal patterns in the data make the visualization meaningful and explorable
  - Proper 16:9 aspect ratio with 3x scaling for high-resolution output
  - Both PNG and HTML outputs provided for static and interactive use
  weaknesses:
  - Spec mentions zoom/pan and reset button features that are not explicitly implemented
    (relies on lets-plot default HTML interactivity)
  - No crosshair or highlight effect on hover mentioned in spec (though tooltips are
    present)
  image_description: 'The plot displays a heatmap visualizing sales data for 20 products
    (Product A through Product T) across 12 months (January through December). The
    color scheme uses a diverging gradient: deep blue (#306998) represents low sales
    (~25-100 units), light gray/white represents the median value, and bright yellow
    (#FFD43B) indicates high sales (300-450+ units). The title "heatmap-interactive
    · letsplot · pyplots.ai" appears at the top in bold. The x-axis shows months with
    labels rotated 45 degrees, and the y-axis lists products from A at the top to
    T at the bottom. A colorbar on the right labeled "Sales (units)" provides the
    scale reference. Clear seasonal patterns are visible with higher sales in November-December
    and lower sales in January-February. Product T consistently shows the highest
    sales (yellow cells), while Product A shows the lowest (blue cells).'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title and axis labels are clearly readable; tick labels slightly
          small but acceptable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements; 45-degree rotation handles month labels
          well
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Tiles are well-sized, distinct colors for each cell, no visual crowding
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 5
        passed: true
        comment: Blue-yellow diverging scheme is colorblind-friendly; could use a
          perceptually uniform colormap
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Good proportions, plot fills canvas appropriately, legend well-positioned
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Descriptive labels Month and Product, colorbar has Sales (units)
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Grid is removed (appropriate for heatmap), but legend position could
          be better integrated
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct heatmap visualization using geom_tile
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: X=Month, Y=Product, Fill=Sales correctly mapped
      - id: SC-03
        name: Required Features
        score: 3
        max: 5
        passed: false
        comment: Has tooltips with row/column/value; HTML export for interactivity;
          but no explicit zoom/pan controls or reset button
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All 20 products and 12 months displayed
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Colorbar accurately represents the Sales scale
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: heatmap-interactive · letsplot · pyplots.ai'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows good variation across products and months; seasonal patterns
          visible; missing extreme outliers
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Product sales by month is a plausible, neutral business scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Sales values 25-450 units are reasonable; good range distribution
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Clean imports → data → plot → save structure, no functions/classes
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current lets-plot API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves both plot.png and plot.html (correct), but path parameter is
          redundant
    library_features:
      score: 5
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 5
        max: 5
        passed: true
        comment: 'Uses lets-plot specific features: layer_tooltips() for interactive
          hover, scale_fill_gradient2() for diverging colormap, ggsave with scale
          parameter, HTML export capability'
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  - wide-to-long
  dataprep: []
  styling:
  - custom-colormap
