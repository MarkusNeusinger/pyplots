library: altair
specification_id: histogram-cumulative
created: '2025-12-30T09:30:26Z'
updated: '2025-12-30T09:36:28Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20593350354
issue: 0
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/histogram-cumulative/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/histogram-cumulative/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/histogram-cumulative/altair/plot.html
quality_score: 92
impl_tags:
  dependencies: []
  techniques:
    - hover-tooltips
    - html-export
  patterns:
    - data-generation
  dataprep:
    - cumulative-sum
  styling: []
review:
  strengths:
  - Excellent visual clarity with proper font sizing throughout
  - Correct implementation of cumulative histogram using step-after interpolation
  - Realistic data scenario (electricity usage) that demonstrates bimodal distribution
  - Well-formatted tooltips showing usage, cumulative percentage, and count
  - Proper use of Altair declarative syntax with appropriate encoding types
  - Interactive HTML export included alongside PNG
  weaknesses:
  - Could add reference lines (e.g., median at 50% mark) to enhance readability
  - Missing explicit legend even though single series (minor)
  - Library features score lower due to not using Altair interactive selection capabilities
  image_description: The plot displays a cumulative histogram (ogive) showing electricity
    usage in kWh on the x-axis (ranging from ~80 to 700 kWh) and cumulative proportion
    on the y-axis (ranging from 0.00 to 1.00). The visualization uses a step-after
    interpolation style with a filled area chart in a muted blue color (#306998) with
    slight transparency. The title "histogram-cumulative · altair · pyplots.ai" appears
    at the top center. Both axes have clear, readable labels with appropriate font
    sizes. The grid is subtle with light gray lines. The step pattern clearly shows
    the monotonically increasing cumulative distribution, revealing a bimodal pattern
    with steeper sections around 200-300 kWh (low usage cluster) and 400-500 kWh (medium
    usage cluster).
  criteria_checklist:
    visual_quality:
      score: 37
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 28pt, axis labels at 22pt, tick labels at 18pt - all clearly
          readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Step area chart with good opacity (0.7) and clear line stroke (3px)
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Single color scheme, good contrast against white background
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good proportions, plot fills canvas well, slight margin imbalance
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: '"Electricity Usage (kWh)" and "Cumulative Proportion" - descriptive
          with units'
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Grid is appropriate (alpha 0.3), but no legend present (though not
          strictly needed for single series)
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct cumulative histogram displayed as step chart
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: X = bin edges (usage values), Y = cumulative proportion
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Shows cumulative proportion, monotonically increasing, step function
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Axes show all data from ~80 to 700 kWh, 0 to 1 proportion
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: No legend needed for single series
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: "histogram-cumulative · altair · pyplots.ai"'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows bimodal distribution with two clusters (low and medium usage),
          demonstrates cumulative nature well, could show more extreme edge cases
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Monthly household electricity usage is a realistic, neutral scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Values 80-700 kWh are realistic for household monthly usage, though
          some values might be slightly high for the "low usage" category
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Simple imports → data → plot → save structure
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used (altair, numpy, pandas)
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Altair API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png with correct scale factor
    library_features:
      score: 2
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 2
        max: 5
        passed: false
        comment: Uses mark_area with step interpolation and tooltips, but could leverage
          more Altair-specific features like selections or layered marks
  verdict: APPROVED
