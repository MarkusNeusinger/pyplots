library: altair
specification_id: pdp-basic
created: '2025-12-31T05:33:12Z'
updated: '2025-12-31T05:44:14Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20612798735
issue: 2922
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/pdp-basic/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/pdp-basic/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/pdp-basic/altair/plot.html
quality_score: 92
impl_tags:
  dependencies:
  - sklearn
  techniques:
  - html-export
  - layer-composition
  patterns:
  - data-generation
  dataprep: []
  styling: []
review:
  strengths:
  - Excellent implementation of all spec requirements including confidence intervals
    and rug plot
  - Clean declarative Altair code using layered composition pattern
  - Proper bootstrap resampling (n=50) for confidence interval calculation
  - Good use of tooltips for interactivity
  - Title format exactly matches specification
  - Axis labels are descriptive with units
  weaknesses:
  - No legend explaining what the shaded band represents (confidence interval label
    would improve clarity)
  - Rug plot ticks are somewhat thin and could be more prominent
  - Could add interactive selection or zoom capabilities to better leverage Altair
    strengths
  image_description: The plot displays a partial dependence plot for the "Temperature"
    feature. A dark blue line (#306998) shows the average predicted outcome as temperature
    varies across its standardized range (-2.5 to 2.5). The line is surrounded by
    a light blue confidence band (95% CI from bootstrap resampling). A rug plot at
    the bottom shows tick marks representing the distribution of training data values.
    The curve demonstrates a clear positive monotonic relationship - as temperature
    increases, the partial dependence (predicted outcome) increases from approximately
    -35 to +30. The title follows the required format "pdp-basic · altair · pyplots.ai"
    at the top center. Grid lines are subtle with dashed styling. Font sizes appear
    appropriately scaled.
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 28pt, axis labels at 22pt, tick labels at 18pt - all clearly
          readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements, all labels fully visible
      - id: VQ-03
        name: Element Visibility
        score: 6
        max: 8
        passed: true
        comment: Line and confidence band clearly visible, though rug plot ticks are
          somewhat thin
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Single blue color (#306998) used throughout, excellent contrast
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Plot fills canvas well with balanced margins
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: '"Temperature (standardized units)" and "Partial Dependence (predicted
          outcome)" - descriptive with units'
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Grid is subtle and dashed (good), but no legend present for confidence
          band
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct partial dependence plot with continuous line
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Feature values on X-axis, partial dependence on Y-axis as specified
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Has PDP line, confidence interval band, and rug plot as noted in
          spec
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Axes show full data range appropriately
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: No legend needed for single feature PDP (data types are labeled on
          axes)
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Uses exact format "pdp-basic · altair · pyplots.ai"
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: Shows full range of feature values, includes uncertainty visualization
          via bootstrap CI
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 7
        passed: true
        comment: Uses "Temperature" as feature which is plausible, though the "standardized
          units" context is somewhat generic
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Standardized values (-2 to 2) appropriate for normalized features,
          PD values in sensible range
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear structure: imports → data generation → model training → PDP
          computation → plotting → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42) and random_state=42 for model
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports used (altair, numpy, pandas, sklearn components)
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current sklearn partial_dependence API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 3
        max: 5
        passed: true
        comment: Uses Altair's layered composition (alt.layer), mark_area for CI band,
          mark_tick for rug, tooltips. Good declarative approach but no interactive
          selection or linked views.
  verdict: APPROVED
