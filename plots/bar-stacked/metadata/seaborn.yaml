library: seaborn
specification_id: bar-stacked
created: '2025-12-26T10:05:04Z'
updated: '2025-12-26T10:08:42Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20520476822
issue: 1947
python_version: 3.13.11
library_version: 0.13.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/bar-stacked/seaborn/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/bar-stacked/seaborn/plot_thumb.png
preview_html: null
quality_score: 91
impl_tags:
  dependencies: []
  techniques:
  - annotations
  patterns:
  - groupby-aggregation
  - explicit-figure
  dataprep: []
  styling:
  - edge-highlighting
  - grid-styling
review:
  strengths:
  - Excellent visual design with clear color differentiation and white edge lines
    separating segments
  - Total value labels above each stack enhance readability and match spec recommendation
  - Proper ordering of products by total sales (largest at bottom) as recommended
    in spec
  - Clean use of seaborn styling (whitegrid, despine, context scaling)
  - Realistic business data scenario with meaningful seasonal variations
  weaknesses:
  - No explicit random seed set (data is deterministic but good practice to include
    np.random.seed(42) for consistency)
  - 'Two blue shades (Electronics #306998 and Home & Garden #4B8BBE) may be difficult
    to distinguish for some colorblind users'
  image_description: 'The plot shows a stacked bar chart displaying monthly sales
    data (January through June) for four product categories: Electronics (dark blue),
    Clothing (yellow), Home & Garden (light blue), and Sports (coral/salmon). Each
    bar is properly stacked with total values labeled above ($285K to $435K). The
    title follows the required format "bar-stacked · seaborn · pyplots.ai". The y-axis
    shows "Sales (Thousands $)" ranging from 0 to 500, and the x-axis shows "Month".
    A legend titled "Product Category" is positioned to the right of the plot. The
    grid is subtle with horizontal dashed lines, and the overall layout is clean with
    good spacing between bars.'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 24pt, labels at 20pt, ticks at 16pt - all perfectly readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements, all labels clear
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Bar segments well-sized with white edge lines for separation
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 5
        passed: true
        comment: Colors are distinct (blue, yellow, light blue, coral) but two blue
          shades could be challenging for some colorblind users
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Good proportions, plot fills canvas appropriately, legend well-positioned
      - id: VQ-06
        name: Axis Labels
        score: 1
        max: 2
        passed: true
        comment: Y-axis has units "Sales (Thousands $)", X-axis just "Month" (acceptable
          but could be more descriptive)
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: true
        comment: Grid is subtle (alpha=0.3, dashed), but legend appears to overlap
          with the rightmost bar edge slightly
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct stacked bar chart
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Categories on X, values stacked correctly
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Stacked components, total labels, legend, consistent ordering
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible, y-axis extends to accommodate totals
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend labels match product categories correctly
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Uses correct format: bar-stacked · seaborn · pyplots.ai'
    data_quality:
      score: 20
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: Shows variation across months, different growth patterns per category,
          part-to-whole relationships clear
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Monthly sales by product category is a real business scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Sales values in thousands are realistic for retail business
    code_quality:
      score: 7
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear structure: imports → data → plot → save'
      - id: CQ-02
        name: Reproducibility
        score: 0
        max: 3
        passed: false
        comment: No random seed set (data is deterministic, but best practice to include
          seed for any random operations)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only matplotlib, pandas, seaborn imported and all used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current seaborn API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 3
        max: 5
        passed: true
        comment: Uses sns.histplot with weights/multiple="stack" which is seaborn's
          approach, plus sns.set_style, sns.set_context, and sns.despine. However,
          seaborn doesn't have a native stacked bar function, so using histplot with
          weights is a workaround rather than a distinctive strength.
  verdict: APPROVED
