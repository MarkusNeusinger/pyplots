library: altair
specification_id: skewt-logp-atmospheric
created: '2026-01-17T09:28:57Z'
updated: '2026-01-18T22:15:03Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21092078682
issue: 3802
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/skewt-logp-atmospheric/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/skewt-logp-atmospheric/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/skewt-logp-atmospheric/altair/plot.html
quality_score: 81
review:
  strengths:
  - Excellent implementation of the core Skew-T concept with proper logarithmic pressure
    axis and skewed temperature transformation
  - Clean layered composition using Altair layer() combining multiple chart elements
  - Good use of interactivity with .interactive() and tooltips on the sounding data
  - Realistic atmospheric sounding data with appropriate temperature and dewpoint
    profiles
  - Proper implementation of dry adiabats using potential temperature formula
  - Color-coded reference lines (gray isotherms, green adiabats, blue mixing ratios)
  weaknesses:
  - Missing moist adiabats (equivalent potential temperature lines) which are required
    by the specification
  - No legend present despite legend_data being created in the code - this makes it
    hard to identify what each line represents
  - Y-axis label shows only pressure without units (should be Pressure (hPa))
  - Reference lines (isotherms, dry adiabats, mixing ratios) are too faint (opacity
    0.4-0.5) making them hard to see
  - X-axis domain extends to 120 unnecessarily, wasting canvas space on the right
    side
  image_description: The plot displays a Skew-T Log-P atmospheric diagram with pressure
    (hPa) on the y-axis (logarithmic scale, 1000 at bottom to 100 at top) and skewed
    temperature on the x-axis. The temperature profile is shown as a solid red/crimson
    line with circular markers at each data point, starting from ~25°C at surface
    (1000 hPa) and decreasing with altitude, showing a tropopause region around 200-300
    hPa. The dewpoint profile is displayed as a dashed blue line with circular markers,
    always cooler than the temperature. Light gray dashed diagonal lines represent
    isotherms (constant temperature) skewed at approximately 45 degrees. Green solid
    lines show dry adiabats curving from lower-left to upper-right. Blue dashed lines
    show mixing ratio lines in the lower-left portion. The title reads "skewt-logp-atmospheric
    · altair · pyplots.ai" at the top. Overall, the layout is clean with good use
    of the canvas.
  criteria_checklist:
    visual_quality:
      score: 32
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 10
        passed: true
        comment: Title and axis labels readable, tick labels slightly small for the
          canvas size
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text or elements
      - id: VQ-03
        name: Element Visibility
        score: 6
        max: 8
        passed: true
        comment: Temperature and dewpoint lines visible with markers, but reference
          lines are quite faint
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 5
        passed: true
        comment: Red/crimson for temp, blue for dewpoint is generally distinguishable
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good canvas utilization, slight imbalance with more empty space on
          the right
      - id: VQ-06
        name: Axis Labels
        score: 1
        max: 2
        passed: false
        comment: Y-axis shows pressure without units, X-axis has skewed notation
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: false
        comment: No legend present to explain the line colors/styles
    spec_compliance:
      score: 20
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct Skew-T Log-P diagram with logarithmic pressure axis and skewed
          temperature
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Pressure on Y (inverted, log scale), temperature skewed on X
      - id: SC-03
        name: Required Features
        score: 3
        max: 5
        passed: false
        comment: Has isotherms, dry adiabats, mixing ratios, but MISSING moist adiabats
      - id: SC-04
        name: Data Range
        score: 2
        max: 3
        passed: true
        comment: Range reasonable but x-axis domain extends unnecessarily to 120
      - id: SC-05
        name: Legend Accuracy
        score: 0
        max: 2
        passed: false
        comment: No legend present to identify Temperature, Dewpoint, and reference
          line types
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: skewt-logp-atmospheric · altair · pyplots.ai'
    data_quality:
      score: 17
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 6
        max: 8
        passed: true
        comment: Shows temperature and dewpoint profiles with realistic atmospheric
          structure including tropopause
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Realistic mid-latitude sounding data with appropriate structure
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Mostly realistic values for atmospheric sounding
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear structure: imports, data, plot, save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only necessary imports (altair, numpy, pandas)
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: No deprecated functions
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves correctly but scale_factor handling uncertain
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses layered composition, interactive(), tooltips, but legend_data
          not displayed
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - layer-composition
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - alpha-blending
  - grid-styling
