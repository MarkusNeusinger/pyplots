library: altair
specification_id: line-3d-trajectory
created: '2026-01-07T16:30:19Z'
updated: '2026-01-07T16:38:24Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20788382498
issue: 3182
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/line-3d-trajectory/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/line-3d-trajectory/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/line-3d-trajectory/altair/plot.html
quality_score: 91
review:
  strengths:
  - Excellent choice of the Lorenz attractor as example data - scientifically significant
    and visually striking
  - Creative use of mark_rule with x2/y2 encoding for smooth line segments with per-segment
    coloring
  - Well-implemented isometric projection with sensible viewing angles (20° elevation,
    135° azimuth)
  - Interactive pan/zoom via selection_interval compensates for lack of 3D rotation
  - Tooltips preserve original 3D coordinates for inspection
  - Clean subtitle showing physical parameters enhances educational value
  weaknesses:
  - Some visual density in tight spiral regions where line segments overlap
  - Axis labels describe projection methodology but lack context for users unfamiliar
    with projections
  image_description: 'The plot displays the iconic Lorenz attractor "butterfly" pattern
    as an isometric 2D projection. The trajectory forms two distinct lobes (left and
    right wings) characteristic of this chaotic system. The color encoding uses the
    viridis colormap to show time progression: dark purple/blue for early time steps
    (0) transitioning through green to yellow for later time steps (~1500). The left
    wing shows tighter spirals near the center, while the right wing displays similar
    orbital structure. The title "Lorenz Attractor · line-3d-trajectory · altair ·
    pyplots.ai" is prominently displayed with a subtitle showing the system parameters
    (σ=10, ρ=28, β=8/3). Axis labels clearly indicate "X-Y Projection (Horizontal)"
    and "Z Projection (Vertical)". A color legend labeled "Time Step" appears in the
    upper right. Grid lines are subtle with dashed styling. The overall layout is
    balanced with the trajectory filling the canvas appropriately.'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 28pt, axis labels at 22pt, ticks at 18pt - all clearly readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements
      - id: VQ-03
        name: Element Visibility
        score: 6
        max: 8
        passed: true
        comment: Line segments visible with strokeWidth=2.5, though some overlap in
          dense spiral regions
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Viridis colormap is colorblind-safe
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Trajectory fills canvas well, balanced margins
      - id: VQ-06
        name: Axis Labels
        score: 1
        max: 2
        passed: true
        comment: Descriptive labels but no physical units (dimensionless system, so
          appropriate)
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: true
        comment: Grid subtle with alpha=0.3 and dashed style, legend well-placed
    spec_compliance:
      score: 24
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct 3D line trajectory visualization via isometric projection
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: X, Y, Z coordinates correctly generated and projected
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Color gradient shows time progression, tooltips present; interactive
          rotation not possible in Altair (pan/zoom provided instead)
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible within axes
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Time Step legend correctly describes color encoding
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Follows {spec-id} · {library} · pyplots.ai format with descriptive
          prefix
    data_quality:
      score: 19
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows complete Lorenz attractor with both wings, chaotic switching
          between lobes
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Classic physics example, Lorenz attractor is foundational in chaos
          theory
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Standard Lorenz parameters (σ=10, ρ=28, β=8/3) produce correct scale
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Clean imports → data → plot → save structure
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set (though not needed for Lorenz which is deterministic)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: 'Only necessary imports: altair, numpy, pandas'
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Altair API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves plot.png but also plot.html (both required for interactive
          library)
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses selection_interval for pan/zoom, tooltips with original 3D coordinates,
          mark_rule for segments. However, true 3D rotation not possible in Altair.
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - custom-colormap
  - grid-styling
