library: altair
specification_id: skewt-logp-atmospheric
created: '2026-01-17T09:28:57Z'
updated: '2026-01-18T22:30:41Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21092078682
issue: 3802
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/skewt-logp-atmospheric/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/skewt-logp-atmospheric/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/skewt-logp-atmospheric/altair/plot.html
quality_score: 83
review:
  strengths:
  - Excellent implementation of the specialized Skew-T Log-P coordinate system with
    proper skewing of temperature axis
  - Clear visual distinction between temperature (solid red) and dewpoint (dashed
    blue) profiles
  - Correct logarithmic pressure scale with proper inversion (1000 at bottom)
  - All required reference lines (isotherms, dry adiabats, moist adiabats, mixing
    ratio) are included
  - Realistic meteorological data with appropriate atmospheric profile showing tropopause
  - Good use of Altair layer composition for complex multi-layer visualization
  weaknesses:
  - Y-axis label missing units - should be "Pressure (hPa)" not just "pressure"
  - Legend is implemented as manual text overlay in data area rather than a proper
    positioned legend
  - Mixing ratio lines (blue dashed) are difficult to distinguish from other reference
    lines
  - Right portion of the chart has significant empty space while left side is crowded
    with reference lines
  image_description: The plot displays a Skew-T Log-P atmospheric diagram with a logarithmic
    pressure axis (inverted, 1000 hPa at bottom to 100 hPa at top) and a skewed temperature
    axis. The temperature profile is shown as a solid red line with circular markers,
    starting at approximately 25°C at 1000 hPa and decreasing to around -55°C at 100
    hPa with a distinct isothermal layer above 200 hPa. The dewpoint profile is displayed
    as a blue dashed line with circular markers, consistently lower than the temperature,
    indicating atmospheric moisture content. Gray dashed isotherms run diagonally
    from lower-left to upper-right at 45-degree skew. Green solid lines represent
    dry adiabats curving from lower-right toward upper-left. Light purple dashed moist
    adiabats are visible but faint. The background includes a subtle light gray grid.
    The title "skewt-logp-atmospheric · altair · pyplots.ai" appears centered at the
    top. The legend labels are positioned in the data area but may overlap with chart
    elements. The Y-axis label shows "pressure" and X-axis shows "Temperature (°C,
    skewed)".
  criteria_checklist:
    visual_quality:
      score: 32
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 10
        passed: true
        comment: Title and axis labels are readable; tick labels could be slightly
          larger
      - id: VQ-02
        name: No Overlap
        score: 6
        max: 8
        passed: true
        comment: Legend text overlaps with data area; some reference lines crowd the
          upper-left
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Main profiles clearly visible with thick strokes; reference lines
          adequately visible
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Red/blue for profiles, green/gray/purple for reference lines - colorblind
          distinguishable
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 5
        passed: true
        comment: Right half of plot is relatively empty; reference lines cluster on
          left side
      - id: VQ-06
        name: Axis Labels
        score: 1
        max: 2
        passed: false
        comment: Y-axis shows 'pressure' without units (should be 'Pressure (hPa)')
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Grid is subtle; legend attempt present but not ideal positioning
    spec_compliance:
      score: 22
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correctly implements Skew-T Log-P diagram with skewed isotherms and
          logarithmic pressure
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Pressure on Y, skewed temperature on X; both profiles correctly mapped
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Has isotherms, dry adiabats, moist adiabats, mixing ratio lines,
          but mixing ratio lines barely visible
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Shows full range from 1000 to 100 hPa
      - id: SC-05
        name: Legend Accuracy
        score: 0
        max: 2
        passed: false
        comment: Legend text placed in data area not functioning as proper legend
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: skewt-logp-atmospheric · altair · pyplots.ai'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows typical mid-latitude sounding with tropopause, good temperature/dewpoint
          spread
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Realistic atmospheric sounding with believable values
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Temperature and pressure values are realistic; tropopause location
          appropriate
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear script structure: imports → data → charts → layering → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 1
        max: 2
        passed: false
        comment: All imports used, but the legend construction adds unnecessary complexity
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Altair API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html (correct)
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses layer composition, logarithmic scale, interactive mode; but
          legend implementation is manual rather than using Altair's native legend
          system
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - layer-composition
  - manual-ticks
  - html-export
  - hover-tooltips
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - alpha-blending
  - grid-styling
