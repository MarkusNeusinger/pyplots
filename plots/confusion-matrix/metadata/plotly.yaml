library: plotly
specification_id: confusion-matrix
created: '2025-12-26T17:36:58Z'
updated: '2025-12-26T17:40:52Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20526590160
issue: 0
python_version: 3.13.11
library_version: 6.5.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/confusion-matrix/plotly/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/confusion-matrix/plotly/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/confusion-matrix/plotly/plot.html
quality_score: 93
impl_tags:
  dependencies: []
  techniques:
    - annotations
    - colorbar
    - hover-tooltips
    - html-export
    - manual-ticks
  patterns:
    - data-generation
  dataprep: []
  styling:
    - custom-colormap
review:
  strengths:
  - Excellent use of Plotly hovertemplate for interactive tooltips showing True/Predicted/Count
  - Smart text color contrast logic - white text on dark cells, black text on light
    cells
  - Square cells using scaleanchor ensures proper matrix visualization
  - Clean professional appearance with plotly_white template
  - Realistic sentiment analysis data with believable misclassification patterns
  weaknesses:
  - Image dimensions use square format (3600x3600) instead of standard 4800x2700 landscape,
    though appropriate for confusion matrices
  - Axis labels could be more descriptive (e.g., True Sentiment Class vs True Label)
  image_description: 'The plot displays a 4×4 confusion matrix heatmap for a sentiment
    analysis classifier with four classes: Negative, Neutral, Positive, and Very Positive.
    The matrix uses a sequential Blues colormap ranging from light (low values ~1-15)
    to dark blue (high values ~70-85). The y-axis shows "True Label" and x-axis shows
    "Predicted Label". Each cell contains white or black numeric annotations showing
    the count values (white text on dark backgrounds, black text on light backgrounds).
    The title "confusion-matrix · plotly · pyplots.ai" is centered at the top. A colorbar
    on the right shows the "Count" scale from approximately 1-85. The diagonal cells
    (correct predictions) are darker blue, clearly showing the model performs well
    with most predictions on the diagonal. The matrix is square with equal cell dimensions,
    and all text is clearly legible.'
  criteria_checklist:
    visual_quality:
      score: 38
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 28pt, axis labels at 22pt, tick labels at 18pt, cell annotations
          at 24pt - all perfectly readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text, all labels clearly separated
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Cells are well-sized, colormap distinguishes values effectively
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blues colormap is colorblind-safe sequential palette
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Square layout with good margins, plot fills canvas well
      - id: VQ-06
        name: Axis Labels
        score: 1
        max: 2
        passed: true
        comment: Descriptive labels ("True Label", "Predicted Label") but no units
          needed for categorical data
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: true
        comment: Colorbar well placed with appropriate sizing, no grid needed for
          heatmap
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct confusion matrix heatmap visualization
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: True labels on Y-axis, Predicted labels on X-axis as specified
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Annotated cells with counts, colorbar, sequential colormap, clear
          axis labeling
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible, appropriate scale
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Colorbar accurately shows count scale
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Correctly uses "confusion-matrix · plotly · pyplots.ai" format
    data_quality:
      score: 20
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: Shows true positives on diagonal, off-diagonal misclassifications,
          adjacent class confusion pattern
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Sentiment analysis is a real, comprehensible scenario with 4 classes
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Counts in realistic range (1-85), class sizes balanced
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Simple imports → data → plot → save structure, no functions/classes
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only numpy and plotly.graph_objects imported, both used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Plotly API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 5
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 5
        max: 5
        passed: true
        comment: Custom hovertemplate for interactivity, graph_objects for fine control,
          plotly_white template, scale anchoring for square cells
  verdict: APPROVED
