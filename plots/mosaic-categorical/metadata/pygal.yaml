library: pygal
specification_id: mosaic-categorical
created: '2026-01-11T00:20:13Z'
updated: '2026-01-11T00:28:29Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20886562433
issue: 3650
python_version: 3.13.11
library_version: 3.1.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/mosaic-categorical/pygal/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/mosaic-categorical/pygal/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/mosaic-categorical/pygal/plot.html
quality_score: 91
review:
  strengths:
  - Creative implementation extending pygal Graph class to create mosaic plot that
    pygal does not natively support
  - Excellent visual design with proportional column widths and conditional row heights
    correctly representing contingency table relationships
  - Clear readable frequency labels inside cells with appropriate sizing
  - Well-chosen Titanic dataset that clearly demonstrates categorical association
  - Good color contrast between survival categories (blue/muted red)
  - Proper percentage annotations below column labels showing marginal proportions
  weaknesses:
  - Uses class-based structure (necessary for pygal but not KISS)
  - Legend swatches positioned on left could be better integrated as a proper legend
    box
  image_description: 'The plot displays a mosaic plot visualizing Titanic survival
    data cross-tabulated by passenger class and survival status. The chart shows three
    columns representing 1st Class (24.7%), 2nd Class (21.7%), and 3rd Class (53.6%),
    with column widths proportional to the number of passengers in each class. Each
    column is divided into two rows: "Survived" (blue, #306998) and "Did Not Survive"
    (muted red, #C75B5B). The heights within each column represent conditional proportions
    - 1st Class shows roughly 62% survival, 2nd Class about 41%, and 3rd Class approximately
    25%. Frequency counts are displayed as white text within each cell (203, 122,
    118, 167, 178, 528). The title "mosaic-categorical 路 pygal 路 pyplots.ai" appears
    at the top. Axis titles "Passenger Class" (x-axis) and "Survival Status" (y-axis,
    rotated) are present. A legend with colored swatches appears on the left side.
    The layout is clean with good use of white borders between cells and rounded corners
    on rectangles.'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title, axis labels, and category labels are all clearly readable.
          Frequency numbers inside cells are legible. Slightly smaller than optimal
          for some elements.
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements anywhere in the plot.
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Rectangle sizes are well-adapted to represent proportions, clearly
          visible with good contrast.
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue and muted red provide good contrast and are colorblind-safe.
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good canvas utilization (~60%), slight extra whitespace at bottom
          but overall balanced.
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Descriptive labels Passenger Class and Survival Status clearly identify
          the categorical variables.
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: No grid (appropriate for mosaic), but legend placement on left is
          functional though slightly disconnected from the chart.
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct mosaic plot with areas proportional to frequencies.
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: First variable (class) mapped to columns, second variable (survival)
          mapped to rows within columns.
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Widths represent marginal proportions, heights represent conditional
          proportions, gaps between rectangles present. Missing residual color coding.
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data categories visible and proportions sum correctly.
      - id: SC-05
        name: Legend Accuracy
        score: 1
        max: 2
        passed: true
        comment: Legend labels correct but positioned separately from data.
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: mosaic-categorical 路 pygal 路 pyplots.ai'
    data_quality:
      score: 19
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows clear association between variables (higher class = better
          survival). Good variation in proportions across categories.
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Classic Titanic dataset is a well-known, neutral, educational example.
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Realistic passenger counts matching historical Titanic data.
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 0
        max: 3
        passed: false
        comment: Uses a custom class (MosaicPlot) extending Graph. Necessary since
          pygal lacks native mosaic support, but violates KISS principle.
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set, though data is deterministic anyway.
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used (numpy, pygal components).
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current pygal API.
      - id: CQ-05
        name: Output Correct
        score: 2
        max: 1
        passed: true
        comment: Saves as plot.png, plot.svg, and plot.html.
    library_features:
      score: 5
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 5
        max: 5
        passed: true
        comment: Excellent use of pygal SVG capabilities by extending the Graph class
          to create a custom chart type. Creative solution for a chart type pygal
          does not natively support.
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - patches
  - html-export
  patterns:
  - data-generation
  dataprep: []
  styling:
  - alpha-blending
  - edge-highlighting
