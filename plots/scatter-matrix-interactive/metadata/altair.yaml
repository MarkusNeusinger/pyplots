library: altair
specification_id: scatter-matrix-interactive
created: '2026-01-10T01:58:17Z'
updated: '2026-01-10T02:01:06Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20870868375
issue: 3604
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/scatter-matrix-interactive/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/scatter-matrix-interactive/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/scatter-matrix-interactive/altair/plot.html
quality_score: 91
review:
  strengths:
  - Excellent use of Altair declarative grammar with transform_density for KDE plots
    on diagonal
  - HTML version implements proper linked brushing with selection_interval (resolve=global)
  - Clean separation of PNG (static) and HTML (interactive) outputs addresses spec
    interactivity requirement
  - Realistic Iris-like synthetic data with clear cluster separation
  - Good color encoding consistency across all subplots
  - Proper title format with informative subtitle
  weaknesses:
  - Yellow color on light background could be improved for better visibility
  - Static PNG cannot demonstrate the interactive brushing which is central to the
    spec purpose
  image_description: 'The plot displays a 4×4 scatter plot matrix (SPLOM) for Iris-like
    synthetic data with 4 variables: Sepal Length, Sepal Width, Petal Length, and
    Petal Width (all in cm). Three species are visualized: setosa (blue), versicolor
    (yellow), and virginica (red/coral). The diagonal cells show KDE density distributions
    for each variable colored by species, while off-diagonal cells contain scatter
    plots showing pairwise relationships. A "Species" legend appears on the right
    side. The title follows the correct format: "scatter-matrix-interactive · altair
    · pyplots.ai" with a subtitle indicating brush selection is available in the HTML
    version. Grid lines are subtle (alpha 0.3), and axis labels include units. The
    three clusters are clearly distinguishable, showing good separation for setosa
    and overlap between versicolor and virginica in some dimensions.'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: All text readable; font sizes are good but some tick labels could
          be slightly larger
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Points are visible with good opacity (0.7), though density in some
          scatter plots makes individual points harder to distinguish
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 5
        passed: true
        comment: Blue/yellow/red scheme is distinguishable but yellow on light background
          can be subtle
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good layout utilizing canvas well, though legend placement creates
          some asymmetry
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: 'Descriptive labels with units: Sepal Length (cm), Petal Width (cm),
          etc.'
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Grid subtle at alpha 0.3, legend well-placed
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct scatter plot matrix (SPLOM)
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: X/Y correctly assigned for all variable pairs
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Has KDE on diagonal, scatter on off-diagonal, color encoding; linked
          brushing in HTML version
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible within axes
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly shows species with matching colors
      - id: SC-06
        name: Title Format
        score: 1
        max: 2
        passed: true
        comment: Correct format but subtitle mentions HTML version
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows 3 distinct clusters with varying degrees of separation
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Iris-like botanical data is a classic, neutral scenario perfect for
          SPLOM demos
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Values are realistic for iris measurements
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear flow: imports → data → plot → save; no functions/classes'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set at start
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only numpy, pandas, altair - all used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Altair API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves both plot.png and plot.html
    library_features:
      score: 5
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 5
        max: 5
        passed: true
        comment: 'Excellent use of Altair: declarative grammar, transform_density
          for KDE, repeat() for SPLOM, selection_interval with linked brushing'
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - faceting
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep:
  - kde
  styling:
  - alpha-blending
  - grid-styling
