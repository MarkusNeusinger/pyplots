# Improve Implementation from Feedback

You are improving a **${LIBRARY}** plot implementation based on AI review feedback.

## Context

- **Library:** ${LIBRARY}
- **Spec ID:** ${SPEC_ID}
- **Attempt:** ${ATTEMPT}/3
- **Plot File:** ${PLOT_FILE}

## Current Code

```python
${CURRENT_CODE}
```

## Specification

${SPEC_CONTENT}

## Library-Specific Rules

${LIBRARY_RULES}

## Previous Attempts and Feedback

**IMPORTANT:** Learn from previous attempts to avoid repeating the same mistakes.

${ALL_ATTEMPTS}

## Latest AI Review Feedback

${LATEST_FEEDBACK}

## Task

Improve the code to address ALL feedback from the latest review.

### Priority Checklist

Address issues by area (see `prompts/quality-criteria.md`):

1. **Spec Compliance (SC-xx)** - Fix plot type, data mapping, missing features, title format
2. **Visual Quality (VQ-xx)** - Fix labels, overlaps, colors, layout issues
3. **Code Quality (CQ-xx)** - Fix structure, imports, reproducibility, idioms
4. **Previous Mistakes** - Review previous attempts to avoid repeating the same errors
5. **All Feedback** - Implement all suggestions from the latest review

## Output

Return ONLY the improved Python code.

- No explanations
- No markdown formatting
- No ```python blocks
- Just the raw Python code
