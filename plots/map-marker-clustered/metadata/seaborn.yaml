library: seaborn
specification_id: map-marker-clustered
created: '2026-01-20T18:49:59Z'
updated: '2026-01-20T19:54:46Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21183365546
issue: 3766
python_version: 3.13.11
library_version: 0.13.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/map-marker-clustered/seaborn/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/map-marker-clustered/seaborn/plot_thumb.png
preview_html: null
quality_score: 90
review:
  strengths:
  - Effective use of seaborn's colorblind palette for accessibility
  - Good implementation of hierarchical clustering using sklearn to group nearby markers
  - Clean two-layer visualization with background individual points and foreground
    cluster markers
  - Appropriate use of alpha blending for overlapping data density
  - Informative annotations showing total locations and cluster count
  - Proper geographic context with stylized water boundaries
  weaknesses:
  - Size legend ranges ("2-5 points", "6-15 points", "16+ points") are arbitrary and
    don't reflect actual computed cluster sizes in the data
  - Grid styling could be more subtle (currently visible but acceptable)
  image_description: 'The plot displays a clustered marker map visualization of 500
    business locations across the NYC region. The visualization uses a scatter plot
    approach with geographic coordinates (Longitude on X-axis ranging from -74.4 to
    -73.4, Latitude on Y-axis ranging from 40.0 to 41.2). Individual data points are
    shown as small, semi-transparent markers in the background, while cluster markers
    are displayed as larger circles with white borders, sized according to cluster
    count. Clusters containing more than 4 points display white count labels centered
    within them. Four business categories are color-coded using seaborn''s colorblind
    palette: Coffee Shop (dark blue), Restaurant (yellow/gold), Bookstore (green),
    and Gym (pink/coral). A category legend appears in the upper left. The title follows
    the correct format "map-marker-clustered · seaborn · pyplots.ai". An annotation
    in the lower right indicates "500 locations · 185 clusters". The background has
    a subtle beige land area fill and light blue boundary lines representing water
    features.'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 24pt bold, axis labels at 20pt, tick labels at 16pt, all
          clearly readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements, cluster labels are well-positioned
          within markers
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Cluster markers appropriately sized with white edges; individual
          points appropriately small with alpha=0.3
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Uses seaborn colorblind palette, all four categories clearly distinguishable
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good use of canvas space, data fills the plot area well, legends
          positioned appropriately
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: 'Descriptive labels with units: Longitude (°), Latitude (°)'
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Size legend ranges don't accurately reflect actual cluster sizes
          in the data
    spec_compliance:
      score: 22
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correctly implements clustered marker map concept using hierarchical
          clustering
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Lat/lon correctly assigned to Y/X axes
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Shows clusters with counts, category coloring, dominant category;
          missing interactive zoom (static limitation)
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible within axes
      - id: SC-05
        name: Legend Accuracy
        score: 0
        max: 2
        passed: false
        comment: Size legend ranges don't accurately reflect actual cluster sizes
          shown
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: map-marker-clustered · seaborn · pyplots.ai'
    data_quality:
      score: 19
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows clustering at multiple densities, category distribution, count
          labels
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: NYC business locations is a realistic, neutral scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: NYC-area coordinates (40.0-41.2°N, 73.4-74.4°W) are realistic
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 2
        max: 3
        passed: true
        comment: Reasonably organized but uses some helper iterations
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set at beginning
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current seaborn and matplotlib APIs
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png with correct dpi and bbox_inches
    library_features:
      score: 4
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 4
        max: 5
        passed: true
        comment: Good use of sns.scatterplot with hue/size encoding, sns.set_theme,
          sns.despine, colorblind palette
  verdict: APPROVED
impl_tags:
  dependencies:
  - sklearn
  techniques:
  - annotations
  - custom-legend
  - patches
  - layer-composition
  patterns:
  - data-generation
  - groupby-aggregation
  - iteration-over-groups
  dataprep:
  - hierarchical-clustering
  styling:
  - alpha-blending
  - edge-highlighting
  - grid-styling
