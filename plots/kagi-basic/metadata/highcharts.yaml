library: highcharts
specification_id: kagi-basic
created: '2026-01-08T21:55:03Z'
updated: '2026-01-08T22:08:49Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20832949902
issue: 3341
python_version: 3.13.11
library_version: unknown
preview_url: https://storage.googleapis.com/pyplots-images/plots/kagi-basic/highcharts/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/kagi-basic/highcharts/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/kagi-basic/highcharts/plot.html
quality_score: 85
review:
  strengths:
  - Correctly implements Kagi chart logic with yang/yin differentiation using line
    thickness
  - Good use of realistic stock price data with trend patterns
  - Proper title format following pyplots.ai conventions
  - Clear legend distinguishing bullish and bearish trends
  - Appropriate subtitle explaining the reversal threshold
  weaknesses:
  - Spec recommends green for yang (bullish) but implementation uses blue
  - Does not leverage Highcharts Stock module which has built-in Kagi chart support
  - Thin yin lines could be slightly thicker for better visibility at full resolution
  image_description: The plot displays a Kagi chart showing stock price analysis with
    a 4% reversal threshold. The chart uses thick blue lines (labeled "Yang (Bullish)")
    for upward trends and thin red/crimson lines (labeled "Yin (Bearish)") for downward
    trends. The title "kagi-basic · highcharts · pyplots.ai" appears at the top with
    a subtitle explaining the 4% reversal threshold. The X-axis shows "Kagi Line Index"
    ranging from 0 to 12, and the Y-axis displays "Price ($)" ranging from approximately
    $86 to $130 with dollar formatting. The chart demonstrates multiple trend reversals
    with horizontal segments (shoulders and waists) marking direction changes. A legend
    at the bottom identifies the two series. The layout uses a white background with
    subtle gray grid lines.
  criteria_checklist:
    visual_quality:
      score: 34
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 10
        passed: true
        comment: Title and labels readable but could be slightly larger for 4800px
          canvas
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Line widths differentiate yang/yin well, thin yin lines could be
          slightly thicker
      - id: VQ-04
        name: Color Accessibility
        score: 3
        max: 5
        passed: true
        comment: Uses blue and red; red is somewhat muted on thin lines
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Good use of canvas space
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Descriptive labels with units
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: true
        comment: Grid subtle, legend could have more spacing
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct Kagi chart with yang/yin differentiation
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Kagi line index on X, price on Y as specified
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Has thick/thin lines and direction changes; missing green for yang
          per spec
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly identifies Yang and Yin
      - id: SC-06
        name: Title Format
        score: 1
        max: 2
        passed: true
        comment: Correct format with subtitle
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows multiple uptrends, downtrends, and reversals
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Stock price scenario with 4% reversal is realistic
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Price range reasonable but Y-axis tick density slightly high
    code_quality:
      score: 7
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 2
        max: 3
        passed: true
        comment: Mostly linear but has nested loops for segment building
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 1
        max: 2
        passed: true
        comment: All imports used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: No deprecated functions
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Uses container.screenshot instead of standard method
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses line series with custom styling but not Highcharts Stock Kagi
          module
  verdict: REJECTED
impl_tags:
  dependencies:
  - selenium
  techniques:
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - grid-styling
