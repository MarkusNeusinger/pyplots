library: plotnine
specification_id: campbell-basic
created: '2026-02-15T21:08:00Z'
updated: '2026-02-15T21:30:55Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 22043026955
issue: 4241
python_version: 3.14.3
library_version: 0.15.3
preview_url: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/plotnine/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/plotnine/plot_thumb.png
preview_html: null
quality_score: 86
review:
  strengths:
  - 'Excellent spec compliance: all required Campbell Diagram features are present
    (5 modes, 3 EO lines, critical speed markers, labels, legend)'
  - Strong colorblind-safe palette with good color choices that are easily distinguishable
  - Effective data storytelling with the 1127 RPM critical speed annotation highlighting
    the most significant resonance
  - Realistic rotordynamic data with proper mode names and physically plausible frequency
    behavior
  - Expert use of plotnine grammar of graphics with proper layering, scale mappings,
    and theme customization
  weaknesses:
  - 'Layout has some wasted vertical space: Y-axis range extends to -5 Hz mainly for
    one annotation, leaving dead space below 0'
  - Legend at bottom is functional but could be more compact or integrated (e.g.,
    direct labels on curves)
  - Critical speed markers cluster in the lower-left region where multiple EO lines
    converge with 1st Bending mode
  - Code complexity around legend construction (breaks/labels mapping) is somewhat
    verbose for a KISS script
  image_description: 'The plot displays a Campbell Diagram plotting natural frequency
    (Hz) on the Y-axis against rotational speed (RPM) on the X-axis, ranging from
    0-6000 RPM and 0-110 Hz. Five solid-colored natural frequency mode curves are
    shown: 1st Bending (blue, ~18-23 Hz, slightly increasing), 2nd Bending (amber/yellow,
    ~42-39 Hz, slightly decreasing), 1st Torsional (purple, ~55-62 Hz, increasing),
    2nd Torsional (orange, ~72-76 Hz, slightly increasing), and Axial (teal/green,
    ~88-90 Hz, nearly flat). Three dashed gray engine order lines (1x, 2x, 3x) radiate
    from the origin with increasing slopes, labeled in bold italic text along the
    lines. Red diamond markers highlight approximately 10+ critical speed intersections
    where engine order lines cross natural frequency curves. A dotted vertical red
    line at approximately 1127 RPM with a red italic label annotates the most significant
    critical speed (1x crossing 1st Bending). The title "campbell-basic · plotnine
    · pyplots.ai" is centered and bold at the top. A horizontal legend at the bottom
    lists all five modes and a consolidated "Engine Order (1x, 2x, 3x)" entry in a
    white-bordered box. The background is light gray (#FAFAFA) with subtle major gridlines.'
  criteria_checklist:
    visual_quality:
      score: 26
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 8
        passed: true
        comment: 'All font sizes explicitly set: title 24pt, axis labels 20pt bold,
          tick labels 16pt, legend 14pt'
      - id: VQ-02
        name: No Overlap
        score: 5
        max: 6
        passed: true
        comment: 'Very minor near-overlap: 3x label approaches upper boundary; some
          critical speed marker clustering in lower-left'
      - id: VQ-03
        name: Element Visibility
        score: 5
        max: 6
        passed: true
        comment: Lines thick at 1.8, diamond markers visible at size 5. Some marker
          clustering near origin
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 4
        passed: true
        comment: 'Excellent colorblind-safe palette close to Wong palette: blue, amber,
          purple, vermilion, green'
      - id: VQ-05
        name: Layout Balance
        score: 2
        max: 4
        passed: false
        comment: Negative Y-axis range (-5 to 0) mostly dead space; bottom legend
          takes vertical space
      - id: VQ-06
        name: Axis Labels & Title
        score: 2
        max: 2
        passed: true
        comment: Rotational Speed (RPM) and Frequency (Hz) with units
    design_excellence:
      score: 14
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 6
        max: 8
        passed: true
        comment: Strong design with custom colorblind-safe palette, intentional typography
          hierarchy, styled panel background
      - id: DE-02
        name: Visual Refinement
        score: 4
        max: 6
        passed: true
        comment: 'Minor grid removed, panel background #FAFAFA, legend styled with
          border/alpha, axis lines added'
      - id: DE-03
        name: Data Storytelling
        score: 4
        max: 6
        passed: true
        comment: 1127 RPM annotation highlights most significant critical speed; red
          diamonds create visual hierarchy
    spec_compliance:
      score: 15
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: Correct Campbell Diagram with natural frequency curves and engine
          order excitation lines
      - id: SC-02
        name: Required Features
        score: 4
        max: 4
        passed: true
        comment: 'All spec features: 5 modes, 3 EO lines, critical speed markers,
          mode labels, EO labels, clean legend'
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: X=RPM, Y=Hz correctly assigned, all data visible
      - id: SC-04
        name: Title & Legend
        score: 3
        max: 3
        passed: true
        comment: Title format correct, legend clear with consolidated Engine Order
          entry
    data_quality:
      score: 14
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 5
        max: 6
        passed: true
        comment: Shows 5 modes with varying speed dependence, 3 engine orders, many
          critical speed intersections
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 5
        passed: true
        comment: Real rotordynamic scenario with proper mode names and realistic frequency
          ranges
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 4
        passed: true
        comment: 'Realistic: 0-6000 RPM, 18-90 Hz frequencies, appropriate gyroscopic
          effects'
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Linear imports-data-plot-save structure, no functions/classes
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports used
      - id: CQ-04
        name: Code Elegance
        score: 1
        max: 2
        passed: true
        comment: Clear but somewhat verbose legend construction with breaks/labels
          mapping
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png, no deprecated functions
    library_features:
      score: 8
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 5
        max: 5
        passed: true
        comment: 'Expert grammar of graphics: aes mapping, layer composition, scale_color/linetype_manual,
          guide_legend, annotate'
      - id: LM-02
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses ggplot-style layer composition, guide_legend(override_aes),
          element theming system
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - layer-composition
  - custom-legend
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep:
  - interpolation
  styling:
  - grid-styling
