library: letsplot
specification_id: campbell-basic
created: '2026-02-15T21:08:58Z'
updated: '2026-02-15T21:39:56Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 22043026984
issue: 4241
python_version: 3.14.3
library_version: 4.8.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/letsplot/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/letsplot/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/letsplot/plot.html
quality_score: 88
review:
  strengths:
  - 'Excellent spec compliance: all required features present including 5 mode curves,
    3 engine order lines, critical speed markers, highlight zones, and proper labeling'
  - Strong data storytelling with annotation highlighting the most dangerous critical
    speed and subtitle guiding interpretation
  - Colorblind-safe palette explicitly chosen with good contrast between all 5 modes
  - Idiomatic lets-plot usage with layer_tooltips providing rich hover information
    in the HTML export
  - Clean code structure following KISS principle with reproducible seed
  weaknesses:
  - Legend boxes in the upper-left partially overlap the Axial mode data line, reducing
    clarity in that region
  - X-axis extends to ~6500 RPM beyond the 6000 RPM data range, wasting canvas space
    on the right
  - The 1x engine order label near 5200 RPM slightly overlaps with the 2nd Torsional
    mode curve
  - Natural frequency mode curves could show more dramatic speed-dependent variation
    to better illustrate gyroscopic effects
  image_description: 'The plot displays a Campbell Diagram with the title "campbell-basic
    · letsplot · pyplots.ai" centered at the top in bold black text, followed by a
    gray subtitle explaining that red diamonds mark critical speeds. Five natural
    frequency mode curves are rendered as thick colored lines: 1st Bending (dark blue),
    1st Torsional (teal), 2nd Bending (amber/yellow), 2nd Torsional (purple), and
    Axial (dark gray). Three dashed gray engine order lines (1×, 2×, 3×) extend diagonally
    from the origin. Red diamond markers appear at each intersection of engine order
    lines with natural frequency curves, surrounded by faint pinkish rectangular highlight
    zones indicating resonance risk regions. A red italic annotation "← Axial × 3×
    (2081 RPM)" points to the highest-frequency critical speed. The x-axis reads "Rotational
    Speed (RPM)" (0 to ~6,500 with comma formatting), and the y-axis reads "Frequency
    (Hz)" (0 to 120). Two separate legend boxes sit in the upper-left corner: "Engine
    Order" showing dashed line styles, and "Natural Frequency" showing the five colored
    modes. A small caption at the bottom right reads "Data: synthetic rotordynamic
    model | Highlight zones indicate resonance risk regions." The background is a
    clean light theme with subtle gray grid lines.'
  criteria_checklist:
    visual_quality:
      score: 27
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 8
        passed: true
        comment: All font sizes explicitly set (title=28, subtitle=16, axis_title=22,
          axis_text=18, legend_title=18, legend_text=16), all perfectly readable
      - id: VQ-02
        name: No Overlap
        score: 5
        max: 6
        passed: true
        comment: Legend boxes in upper-left slightly overlap Axial mode line; 1x label
          near right edge slightly overlaps 2nd Torsional curve
      - id: VQ-03
        name: Element Visibility
        score: 6
        max: 6
        passed: true
        comment: Mode lines thick (size=2.5), critical markers prominent (size=8 diamonds),
          EO lines appropriately thinner (0.9)
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 4
        passed: true
        comment: Explicit colorblind-safe palette (blue, teal, amber, purple, gray);
          no red-green confusion
      - id: VQ-05
        name: Layout & Canvas
        score: 2
        max: 4
        passed: false
        comment: Legend boxes consume upper-left data region overlapping some data;
          x-axis extends to 6500 beyond 6000 RPM data range
      - id: VQ-06
        name: Axis Labels & Title
        score: 2
        max: 2
        passed: true
        comment: Rotational Speed (RPM) and Frequency (Hz) — descriptive with units
    design_excellence:
      score: 15
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 6
        max: 8
        passed: true
        comment: Custom colorblind-safe palette, high-contrast light flavor, intentional
          typography hierarchy, dual-legend styling — clearly above defaults
      - id: DE-02
        name: Visual Refinement
        score: 5
        max: 6
        passed: true
        comment: Subtle grid, minor grid removed, custom axis lines, generous margins;
          minor legend-data overlap issue
      - id: DE-03
        name: Data Storytelling
        score: 4
        max: 6
        passed: true
        comment: Annotation highlights most dangerous critical speed, subtitle guides
          interpretation, highlight zones emphasize risk regions
    spec_compliance:
      score: 15
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: 'Correct Campbell Diagram: natural frequency curves overlaid with
          engine order excitation lines'
      - id: SC-02
        name: Required Features
        score: 4
        max: 4
        passed: true
        comment: 'All features present: 5 mode curves, 3 EO lines, critical speed
          markers, highlight zones, labeled modes and orders'
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: X=Speed(RPM), Y=Frequency(Hz) correctly mapped; all data visible
      - id: SC-04
        name: Title & Legend
        score: 3
        max: 3
        passed: true
        comment: Correct title format; legend labels match data
    data_quality:
      score: 14
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 5
        max: 6
        passed: true
        comment: 5 modes with varied speed-dependent behavior, multiple critical intersections;
          modes could show more dramatic variation
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 5
        passed: true
        comment: Realistic rotordynamic scenario with plausible mode names and frequency
          ranges; neutral engineering context
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 4
        passed: true
        comment: 0-6000 RPM operating range, 25-105 Hz base frequencies, slight speed-dependent
          variation — all physically plausible
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear flow: imports → data → plot → save; no functions or classes'
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: numpy, pandas, lets_plot — all used
      - id: CQ-04
        name: Code Elegance
        score: 1
        max: 2
        passed: true
        comment: Well-structured but somewhat verbose with multiple auxiliary DataFrames
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves plot.png with scale=3 and plot.html; correct output
    library_features:
      score: 8
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 5
        max: 5
        passed: true
        comment: Idiomatic ggplot grammar with aes, geom layers, scales, theme, flavor,
          ggsize, ggsave
      - id: LM-02
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses layer_tooltips() with chaining, flavor_high_contrast_light(),
          guide_legend(override_aes=...) — somewhat distinctive
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - layer-composition
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - grid-styling
  - alpha-blending
