library: plotly
specification_id: circos-basic
created: '2025-12-31T11:06:47Z'
updated: '2025-12-31T11:28:17Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20617614742
issue: 3005
python_version: 3.13.11
library_version: 6.5.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/circos-basic/plotly/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/circos-basic/plotly/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/circos-basic/plotly/plot.html
quality_score: 90
impl_tags:
  dependencies: []
  techniques:
    - bezier-curves
    - html-export
  patterns:
    - data-generation
    - matrix-construction
    - iteration-over-groups
  dataprep: []
  styling:
    - alpha-blending
review:
  strengths:
  - Excellent implementation of Circos visualization using Plotly Scatter with fill=toself
    for complex shapes
  - Ribbon colors now properly blend source and target segment colors (addressed previous
    feedback)
  - Includes inner track for additional data layer (GDP index) as specified
  - Good interactive HTML output alongside PNG export
  - Well-chosen color palette with 8 distinct, accessible colors
  - Proper proportional sizing of segments based on economic importance
  - Adaptive label positioning based on angle to minimize overlap
  weaknesses:
  - 'Title format still includes extra descriptor: should be circos-basic · plotly
    · pyplots.ai not Regional Trade Flows · circos-basic · plotly · pyplots.ai'
  - Helper function blend_colors() violates strict KISS principle (imports → data
    → plot → save)
  image_description: The plot displays a Circos visualization showing regional trade
    flows between 8 world regions. The outer ring contains colored arc segments for
    North America (dark blue), Europe (golden yellow), East Asia (red), South America
    (green), Africa (purple), Middle East (orange), South Asia (teal), and Oceania
    (light blue). Each segment is proportionally sized based on economic importance.
    Curved ribbon connections pass through the center, using blended colors from source
    and target segments (addressing the previous feedback). An inner track displays
    GDP index values as bar heights using the same color scheme. Labels are positioned
    around the outer edge with adaptive text anchoring. A horizontal legend at the
    bottom identifies all regions. The title reads "Regional Trade Flows · circos-basic
    · plotly · pyplots.ai" - note this still includes an extra descriptor before the
    spec-id.
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title and labels readable, font size adequate at 16pt for segment
          labels
      - id: VQ-02
        name: No Overlap
        score: 7
        max: 8
        passed: true
        comment: Minor cramping on "Middle East" and "Africa" labels due to proximity,
          but still readable
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Segments, ribbons, and inner track all clearly visible with good
          sizing
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: 8 distinct colors, well differentiated, no red-green confusion
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Good canvas utilization, plot fills substantial area, balanced margins
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: true
        comment: N/A for circular plot, no axis labels needed (deducting 0 as circular
          plots don't have axes)
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Legend well positioned horizontally at bottom, clean without grid
    spec_compliance:
      score: 24
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct Circos plot with segments, ribbons, and inner track
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Source/target connections correctly mapped as ribbons, values determine
          width
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Has segments, ribbons, inner track, gaps, proportional sizing
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All 8 segments visible with all connections shown
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: All 8 regions correctly listed with matching colors
      - id: SC-06
        name: Title Format
        score: 1
        max: 2
        passed: true
        comment: Title includes extra "Regional Trade Flows" prefix, should be just
          "circos-basic · plotly · pyplots.ai"
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows segment sizing, ribbons, inner track; ribbon widths vary appropriately
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Trade flows between world regions is excellent real-world application
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Trade values reasonable; segment sizes proportional to economic importance
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 1
        max: 3
        passed: false
        comment: Has helper function blend_colors() which deviates from pure KISS
          style
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set properly
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only numpy and plotly.graph_objects imported
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Plotly API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 4
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 4
        max: 5
        passed: true
        comment: Good use of Scatter with fill='toself' for shapes, interactive HTML
          output, but could leverage more Plotly-specific features
  verdict: APPROVED
