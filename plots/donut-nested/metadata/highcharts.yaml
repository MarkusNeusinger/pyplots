library: highcharts
specification_id: donut-nested
created: '2025-12-25T20:05:51Z'
updated: '2025-12-25T20:10:11Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20510190085
issue: 2015
python_version: 3.13.11
library_version: unknown
preview_url: https://storage.googleapis.com/pyplots-images/plots/donut-nested/highcharts/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/donut-nested/highcharts/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/donut-nested/highcharts/plot.html
quality_score: 92
impl_tags:
  dependencies:
  - selenium
  - pillow
  techniques:
  - html-export
  patterns:
  - data-generation
  dataprep: []
  styling: []
review:
  strengths:
  - Excellent color scheme using consistent hue families (blue gradients for Engineering,
    yellow for Marketing, etc.) that clearly show parent-child relationships
  - Clean separation between inner and outer rings with appropriate sizing (inner
    20-45%, outer 55-85%)
  - Professional title format with informative subtitle explaining the ring hierarchy
  - Realistic budget allocation scenario with plausible department/expense values
  - Good use of Highcharts PieSeries configuration for nested donut effect
  - HTML output also generated for interactive viewing
  weaknesses:
  - Some outer ring labels (especially smaller segments like Software, CRM Tools)
    could benefit from larger font sizes for better readability at full resolution
  - Spec suggests using a legend for smaller segments, but legend is disabled; this
    is a minor deviation from spec guidance
  image_description: 'The plot displays a nested donut chart for annual budget allocation.
    The **inner ring** shows 4 department segments: Engineering (dark blue, $4,500,000),
    Marketing (yellow, $2,800,000), Operations (purple, $1,900,000), and Sales (cyan,
    $2,200,000). Each department segment has bold white text labels with the department
    name and dollar value positioned inside the segment. The **outer ring** contains
    15 expense category segments, each colored with lighter shades matching their
    parent department''s hue family (e.g., Engineering''s children use progressively
    lighter blues for Salaries, Equipment, Training, Software). Outer ring labels
    (expense names) are positioned outside the chart with connector lines. The chart
    uses a square 3600×3600 format with a white background. The title at the top reads
    "Annual Budget Allocation by Department · donut-nested · highcharts · pyplots.ai"
    with a subtitle "Inner: Departments | Outer: Expense Categories".'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title 48px, subtitle 32px, inner labels 26px, outer labels 20px -
          all readable, though some outer labels (Software, CRM Tools) are slightly
          small for their segment size
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text; labels well-positioned inside (inner) and outside
          (outer) the rings
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Both rings clearly visible with good sizing (inner 20-45%, outer
          55-85%), white gap between rings provides excellent separation
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Colorblind-safe palette (blue, yellow, purple, cyan families); no
          red-green conflicts
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Chart fills ~60% of canvas, good proportions, though slight top-heaviness
          with title/subtitle
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Legend disabled for cleaner look; subtitle explains the ring hierarchy
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct nested donut chart with two concentric rings
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Inner ring = departments (level_1), outer ring = expenses (level_2),
          values correctly mapped
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: 'Has consistent color families per parent, child segments align with
          parent boundaries, includes labels; missing: no legend for smaller segments
          as spec suggests'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible, values aggregate correctly (Engineering children
          sum to $4.5M)
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correctly formatted: "{description} · donut-nested · highcharts
          · pyplots.ai"'
    data_quality:
      score: 20
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: Shows 4 parent categories with 3-4 children each, demonstrates varying
          sizes within each family
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Budget allocation is a perfect real-world scenario; department names
          and expense categories are plausible
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Values range from $200K (CRM Tools) to $2.8M (Salaries) - realistic
          corporate budget figures
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear script: imports → data → chart config → series → HTML generation
          → screenshot'
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 3
        passed: true
        comment: Data is deterministic (hardcoded), but no random seed needed; however
          the structure could be cleaner
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: 'All imports used: highcharts_core, PIL, selenium, tempfile, urllib,
          etc.'
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current highcharts_core API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 4
      max: 5
      items: []
  verdict: APPROVED
