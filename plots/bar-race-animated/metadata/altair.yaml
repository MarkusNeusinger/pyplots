library: altair
specification_id: bar-race-animated
created: '2026-01-11T00:22:58Z'
updated: '2026-01-11T00:29:38Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20886561814
issue: 3653
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/bar-race-animated/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/bar-race-animated/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/bar-race-animated/altair/plot.html
quality_score: 91
review:
  strengths:
  - Excellent small multiples approach as a static fallback for animation (spec-compliant
    alternative)
  - Clear visualization of ranking changes over time with sorted bars
  - Beautiful rounded bars with consistent entity colors across all panels
  - 'Effective dual-label system: values inside bars (white) and names outside (dark)'
  - 'Good use of Altair-specific features: faceting, layer composition, tooltips,
    declarative encoding'
  - Realistic, engaging data scenario (streaming platforms) with believable growth
    patterns
  weaknesses:
  - Missing legend to reinforce color-entity mapping (labels on bars partially compensate)
  - Value labels could be slightly larger for improved readability at a glance
  - Grid lines are present but minimal - could be slightly more visible to help compare
    values across panels
  image_description: The plot displays a small multiples grid with 4 horizontal bar
    chart panels for years 2015, 2018, 2021, and 2024. Each panel shows 10 streaming
    platforms (StreamFlix, ViewMax, PlayNow, WatchHub, MediaGo, CineCloud, ShowTime,
    PrimeView, FlixBox, CloudTV) sorted by subscriber count in descending order from
    top to bottom. Bars have rounded corners and consistent colors per platform across
    all panels. Value labels appear inside bars (white text) showing subscriber counts,
    while platform names appear outside bars on the right (dark gray text). The title
    "bar-race-animated · altair · pyplots.ai" is centered at the top with subtitle
    "Streaming Platform Subscribers Over Time (millions)". Each panel has independent
    x-axis scales and year labels at the top. The visualization effectively demonstrates
    ranking changes over time - notably PlayNow rises from 3rd in 2015 to 1st by 2024,
    while StreamFlix drops from 1st to 2nd.
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title, subtitles, and axis labels clearly readable. Year headers
          large (26pt). Value labels and platform names legible but could be slightly
          larger.
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text; bars and labels well spaced
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Bars appropriately sized with good height (45px), rounded corners
          add polish
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 5
        passed: true
        comment: 'Diverse 10-color palette; Python Blue and Yellow distinguishable.
          Minor: some adjacent colors could be closer in hue'
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Good canvas utilization with 4 panels filling width, balanced margins
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Subscribers (millions) is descriptive with units
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: No legend present; grid subtle but legend would help track colors
    spec_compliance:
      score: 22
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct small multiples implementation as static bar chart race fallback
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Platforms on Y-axis sorted by rank, Subscribers on X-axis, Years
          in facets
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Shows rankings, labels attached, time visible. Small multiples valid
          static alternative
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible, independent x-scales per panel work well
      - id: SC-05
        name: Legend Accuracy
        score: 0
        max: 2
        passed: false
        comment: No legend provided; labels on bars compensate but legend would help
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: bar-race-animated · altair · pyplots.ai'
    data_quality:
      score: 20
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: 'Excellent: shows ranking changes, varied growth rates, multiple
          crossovers visible'
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Streaming platform subscribers - perfect, neutral, relatable scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Values 5M to 203M, realistic for streaming industry growth 2015-2024
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Clean imports → data → plot → save structure
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) is set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: 'Only necessary imports: altair, numpy, pandas'
      - id: CQ-04
        name: No Deprecated API
        score: 0
        max: 1
        passed: false
        comment: resolve_scale works but may show warnings in newer Altair
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves plot.png and plot.html - correct outputs
    library_features:
      score: 5
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 5
        max: 5
        passed: true
        comment: 'Excellent use of Altair declarative grammar: faceting, layer composition,
          tooltips, alt.Title, encoding types'
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - faceting
  - layer-composition
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  - groupby-aggregation
  dataprep: []
  styling:
  - grid-styling
  - edge-highlighting
