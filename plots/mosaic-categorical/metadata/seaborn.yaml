library: seaborn
specification_id: mosaic-categorical
created: '2026-01-11T00:53:48Z'
updated: '2026-01-11T00:56:22Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20886981612
issue: 3650
python_version: 3.13.11
library_version: 0.13.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/mosaic-categorical/seaborn/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/mosaic-categorical/seaborn/plot_thumb.png
preview_html: null
quality_score: 78
review:
  strengths:
  - Uses real Titanic data from seaborn built-in dataset for authentic example
  - Clear colorblind-safe color scheme (blue/yellow)
  - Proper title format following pyplots.ai convention
  - Frequency labels inside rectangles aid interpretation
  - Clean visual design with rounded corners and white edges
  weaknesses:
  - Does not use seaborn plotting functions - only styling utilities (fails AR-05
    spirit)
  - Manual implementation with matplotlib patches instead of using statsmodels.graphics.mosaicplot
    as suggested in spec
  - Layout does not optimally fill the canvas (could be larger)
  - Row labels positioned based on averages which may not align perfectly with all
    columns
  image_description: 'The plot displays a mosaic chart visualizing Titanic passenger
    survival data by class. Three columns represent First, Second, and Third class
    passengers, with column widths proportional to the number of passengers in each
    class (Third class being the widest). Each column is divided into two rectangles:
    blue (#306998) for "Survived" at the bottom and yellow (#FFD43B) for "Did Not
    Survive" at the top. The heights of rectangles within each column show conditional
    survival proportions. White frequency counts are displayed in each cell (136,
    87, 119 for survived; 80, 97, 372 for did not survive). A legend in the upper
    right identifies the colors. Axis labels clearly show "Passenger Class" (x-axis)
    and "Survival Status" (y-axis). The title follows the required format: "Titanic
    Passenger Survival by Class · mosaic-categorical · seaborn · pyplots.ai".'
  criteria_checklist:
    visual_quality:
      score: 32
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title, labels, and frequencies are readable; some row labels could
          be slightly larger
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements
      - id: VQ-03
        name: Element Visibility
        score: 6
        max: 8
        passed: true
        comment: Rectangles are visible but sizing could better utilize canvas
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue/yellow is colorblind-safe, good contrast
      - id: VQ-05
        name: Layout Balance
        score: 2
        max: 5
        passed: false
        comment: Plot is somewhat centered but does not fully utilize the 16:9 canvas;
          some wasted space
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Descriptive labels Passenger Class and Survival Status
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: No grid (acceptable for mosaic), but legend placement could be better
          integrated
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct mosaic plot visualization
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Class and survival correctly mapped
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Area proportional to frequency, gaps present; missing color coding
          for residuals
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend labels match data
      - id: SC-06
        name: Title Format
        score: 1
        max: 2
        passed: false
        comment: Format is correct but descriptive portion differs slightly from spec-id
          style
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows association between class and survival well; demonstrates varying
          proportions
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Titanic dataset is a classic, neutral, and realistic example
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Real data with appropriate counts
    code_quality:
      score: 5
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 1
        max: 3
        passed: false
        comment: Follows linear structure but uses complex manual rectangle drawing
      - id: CQ-02
        name: Reproducibility
        score: 0
        max: 3
        passed: false
        comment: No random seed needed for this data, but deterministic via sns.load_dataset
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Current API usage
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png
    library_features:
      score: 0
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 0
        max: 5
        passed: false
        comment: Does NOT use seaborn plotting functions; only uses sns.load_dataset,
          sns.set_style, sns.set_context, and sns.color_palette. The actual mosaic
          is drawn manually with matplotlib patches.
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - patches
  - custom-legend
  patterns:
  - dataset-loading
  - groupby-aggregation
  - iteration-over-groups
  dataprep: []
  styling:
  - minimal-chrome
  - edge-highlighting
