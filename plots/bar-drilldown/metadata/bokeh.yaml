library: bokeh
specification_id: bar-drilldown
created: '2026-01-16T17:16:44Z'
updated: '2026-01-16T17:28:13Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21074664926
issue: 3773
python_version: 3.13.11
library_version: 3.8.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/bar-drilldown/bokeh/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/bar-drilldown/bokeh/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/bar-drilldown/bokeh/plot.html
quality_score: 82
review:
  strengths:
  - Excellent implementation of hierarchical drilldown with 3-level data structure
    (Region ‚Üí Country ‚Üí City)
  - 'Good use of Bokeh-specific features: TapTool, CustomJS callbacks, ColumnDataSource,
    Button and Div widgets'
  - Clean breadcrumb navigation that updates dynamically
  - Value labels clearly displayed above bars
  - Colorblind-safe color palette with good contrast
  - Both PNG and HTML outputs provided for static and interactive use
  weaknesses:
  - X-axis category labels are rotated at an angle and relatively small, reducing
    readability
  - Instructions text at the bottom is too small to read easily in the static PNG
  - Y-axis label font size could be larger for better readability
  - No visual indicator (icon or hover effect) showing bars are clickable in the static
    image
  image_description: 'The plot displays a vertical bar chart showing sales data across
    three geographic regions. Three bars are visible: "North America" (dark blue,
    #306998) at 450 million, "Europe" (yellow, #FFD43B) at 380 million, and "Asia
    Pacific" (lighter blue, #4B8BBE) at 320 million. Value labels are displayed above
    each bar in dark gray text. The title "bar-drilldown ¬∑ bokeh ¬∑ pyplots.ai" appears
    at the top left. A breadcrumb navigation element showing "üìç All" is positioned
    in the upper left corner. The Y-axis is labeled "Sales (millions $)" and the X-axis
    is labeled "Category". X-axis category labels are rotated at an angle. Instructions
    text appears at the very bottom of the image. Subtle dashed horizontal grid lines
    are visible. The bars have white edge borders and slight transparency (alpha 0.9).'
  criteria_checklist:
    visual_quality:
      score: 32
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 7
        max: 10
        passed: true
        comment: Title and value labels readable, but X-axis labels are rotated and
          small, Y-axis label is small, instructions text at bottom barely readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Bars are well-sized and clearly visible with good spacing
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue and yellow palette is colorblind-safe with good contrast
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 5
        passed: true
        comment: Good overall layout but some wasted space; instructions text is too
          far from main content
      - id: VQ-06
        name: Axis Labels
        score: 1
        max: 2
        passed: true
        comment: Y-axis has units, X-axis is generic Category
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Grid is subtle but no legend present
    spec_compliance:
      score: 22
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct column/bar chart type
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Categories on X, values on Y correctly mapped
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Has drilldown via tap, breadcrumb navigation, value labels; missing
          visual clickable indicator on bars in static image
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Y-axis shows all data with appropriate headroom
      - id: SC-05
        name: Legend Accuracy
        score: 0
        max: 2
        passed: false
        comment: No legend present
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Correct format bar-drilldown ¬∑ bokeh ¬∑ pyplots.ai
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows 3-level hierarchy, demonstrates drilldown concept well
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Sales by geographic region is a real, neutral business scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Values in hundreds of millions are reasonable for regional sales
    code_quality:
      score: 7
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 1
        max: 3
        passed: false
        comment: Code includes CustomJS callbacks adding complexity, though necessary
          for interactivity
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Deterministic data, no random seed needed
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Bokeh API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves both plot.png and plot.html
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: 'Uses Bokeh-specific features: TapTool, CustomJS callbacks, ColumnDataSource,
          Button and Div widgets'
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - hover-tooltips
  - html-export
  patterns:
  - columndatasource
  dataprep: []
  styling:
  - alpha-blending
  - edge-highlighting
  - grid-styling
