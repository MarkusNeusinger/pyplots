library: altair
specification_id: box-basic
created: '2025-12-23T00:35:59Z'
updated: '2026-02-14T22:22:26Z'
generated_by: claude-opus-4-6
workflow_run: 20447781641
issue: 0
python_version: '3.14'
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/box-basic/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/box-basic/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/box-basic/altair/plot.html
quality_score: 91
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - layer-composition
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  - groupby-aggregation
  - iteration-over-groups
  dataprep: []
  styling:
  - grid-styling
review:
  strengths:
  - Excellent data storytelling with three targeted annotations (highest/lowest median,
    widest spread) using Unicode arrows
  - 'Strong Altair idioms: layered composition, declarative encoding, aggregate tooltips'
  - Custom colorblind-safe palette starting with Python Blue (#306998)
  - 'Clean visual refinement: subtle dashed grid, removed view borders, white median
    lines, muted axis colors'
  - Realistic salary data with meaningful variation across departments
  weaknesses:
  - Y-axis scale domain [25000, 148000] is slightly wider than needed, creating wasted
    space at top and bottom margins
  - Boxes appear somewhat narrow relative to the inter-category spacing — increasing
    box size or reducing chart width could improve proportions
  - Annotation font size (14pt) could be slightly larger to better match the axis
    label sizes (18pt)
  image_description: 'The plot displays five box-and-whisker plots arranged horizontally,
    one for each department: Engineering, Marketing, Sales, HR, and Finance. Each
    box uses a distinct color — dark blue (Engineering), gold/orange (Marketing),
    teal-blue (Sales), muted purple (HR), and teal-green (Finance). White median lines
    are clearly visible inside each box. Whiskers extend from the boxes, and outliers
    are shown as colored dots (e.g., a blue dot below Engineering around $56K, orange
    dots above Marketing around $94-103K, a teal dot above Sales around $137K, a gray
    dot below HR around $33K). Three text annotations highlight key insights: an upward
    arrow with "Highest median: $93,100" near Engineering, a horizontal arrow with
    "Widest spread (SD $17,991)" near Sales, and a downward arrow with "Lowest median:
    $62,500" near HR. The title reads "box-basic · altair · pyplots.ai" with a subtitle
    "Salary distributions across five departments". The Y-axis is labeled "Salary
    ($)" with dollar formatting from $20,000 to $140,000, and the X-axis is labeled
    "Department". Light dashed grid lines appear in the background with very low opacity.
    The overall layout is clean with removed view borders and muted axis domain colors.'
  criteria_checklist:
    visual_quality:
      score: 28
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 8
        passed: true
        comment: 'All font sizes explicitly set: title 28pt, axis titles 22pt, axis
          labels 18pt, annotations 14pt. All perfectly readable.'
      - id: VQ-02
        name: No Overlap
        score: 6
        max: 6
        passed: true
        comment: No overlapping text elements. Annotations well-positioned away from
          boxes and each other.
      - id: VQ-03
        name: Element Visibility
        score: 5
        max: 6
        passed: true
        comment: Boxes sized at 80 with outlier markers at 120. Good visibility, though
          boxes appear slightly narrow relative to inter-category spacing.
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 4
        passed: true
        comment: Colorblind-safe palette with five distinct hues (blue, gold, teal,
          purple, green). No red-green distinction issues.
      - id: VQ-05
        name: Layout & Canvas
        score: 3
        max: 4
        passed: true
        comment: Good canvas utilization. Y-axis domain extends to $148K but highest
          data is ~$137K, and bottom extends to ~$20K while lowest data is ~$25K,
          creating some wasted vertical space.
      - id: VQ-06
        name: Axis Labels & Title
        score: 2
        max: 2
        passed: true
        comment: Y-axis 'Salary ($)' is descriptive with units. X-axis 'Department'
          is appropriately labeled.
    design_excellence:
      score: 16
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 6
        max: 8
        passed: true
        comment: Custom Python Blue-first palette, white median strokes, thoughtful
          font hierarchy with subtitle, muted domain/tick colors. Clearly above defaults.
      - id: DE-02
        name: Visual Refinement
        score: 5
        max: 6
        passed: true
        comment: Subtle dashed grid (opacity 0.15, dash [3,3]), view stroke removed,
          muted axis colors. Good refinement with minor whitespace balance issues.
      - id: DE-03
        name: Data Storytelling
        score: 5
        max: 6
        passed: true
        comment: 'Three annotations with Unicode arrows guide the reader: highest
          median, lowest median, widest spread. Effectively tells a story about departmental
          salary differences.'
    spec_compliance:
      score: 15
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: Correct box plot using mark_boxplot().
      - id: SC-02
        name: Required Features
        score: 4
        max: 4
        passed: true
        comment: 'All spec features: median line, outliers, whiskers at 1.5xIQR, different
          colors per category.'
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: Categories on X, numerical values on Y, all data visible.
      - id: SC-04
        name: Title & Legend
        score: 3
        max: 3
        passed: true
        comment: Title format 'box-basic · altair · pyplots.ai' correct. Legend hidden
          appropriately.
    data_quality:
      score: 14
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 5
        max: 6
        passed: true
        comment: Shows different distribution widths (narrow HR vs wide Sales), different
          medians, and outliers in multiple groups.
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 5
        passed: true
        comment: Salary distributions across corporate departments is a realistic,
          neutral business scenario.
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 4
        passed: true
        comment: Salary values ($25K-$140K) are realistic for department-level compensation
          data.
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Clean linear flow: imports, data generation, summary stats, chart
          layers, combine, save.'
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: np.random.seed(42) set.
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only altair, numpy, pandas — all used.
      - id: CQ-04
        name: Code Elegance
        score: 1
        max: 2
        passed: true
        comment: Generally clean but annotation DataFrame construction with summary
          stats is somewhat verbose for a basic box plot.
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png with scale_factor=3.0, plus HTML export.
    library_mastery:
      score: 9
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 5
        max: 5
        passed: true
        comment: 'Expertly uses Altair declarative grammar: mark_boxplot with median/outlier
          config, encoding types, tooltips with aggregate functions, configure_axis/view.'
      - id: LM-02
        name: Distinctive Features
        score: 4
        max: 5
        passed: true
        comment: 'Uses Altair-distinctive features: declarative layer composition
          with alt.layer(), resolve_scale(), tooltip with aggregate expressions (median,
          q1, q3).'
  verdict: APPROVED
