library: plotnine
specification_id: skewt-logp-atmospheric
created: '2026-01-17T09:35:09Z'
updated: '2026-01-18T22:32:40Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21092078715
issue: 3802
python_version: 3.13.11
library_version: 0.15.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/skewt-logp-atmospheric/plotnine/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/skewt-logp-atmospheric/plotnine/plot_thumb.png
preview_html: null
quality_score: 78
review:
  strengths:
  - Correct implementation of all Skew-T reference lines (isotherms, dry/moist adiabats,
    mixing ratios)
  - Proper logarithmic pressure scale with inversion (surface at bottom)
  - Clear visual distinction between profile lines (T=red solid, Td=blue dashed)
  - Well-organized legend with distinct line types and colors
  - Realistic synthetic atmospheric data with proper meteorological relationships
  weaknesses:
  - Upper atmosphere (100-300 hPa) appears sparse with few reference line intersections
    making the plot feel unbalanced
  - The T and Td annotations are small (size=14) and could be more prominent for a
    4800px image
  - Does not leverage plotnine distinctive features - coordinate transformation done
    manually
  image_description: 'The plot displays a Skew-T Log-P atmospheric diagram with a
    square 16:16 aspect ratio. The background is white with a logarithmic pressure
    axis (inverted, 100-1000 hPa) on the y-axis and a skewed temperature axis on the
    x-axis. Four types of reference lines are visible: blue solid isotherms (temperature
    lines skewed at 45°), orange dashed dry adiabats, green dotted moist adiabats,
    and magenta dash-dot mixing ratio lines. The main temperature profile is shown
    as a thick red solid line labeled "T" at 500 hPa, and the dewpoint profile as
    a thick blue dashed line labeled "Td". The legend is positioned on the right side
    showing "Reference Lines" with all four line types. The title correctly reads
    "skewt-logp-atmospheric · plotnine · pyplots.ai". Gray horizontal isobars are
    visible at standard pressure levels. The plot shows proper meteorological conventions
    with pressure decreasing upward.'
  criteria_checklist:
    visual_quality:
      score: 32
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title and axis labels are readable at 24pt and 20pt; pressure labels
          at 18pt are clear; T and Td annotations visible but could be larger
      - id: VQ-02
        name: No Overlap
        score: 6
        max: 8
        passed: true
        comment: Minor overlap between some reference lines and profile lines at intersections,
          but main content readable
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Temperature and dewpoint profiles are thick (size=3) and clearly
          visible; reference lines at size=0.8 appropriately subtle
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 5
        passed: true
        comment: Good color differentiation; red/blue profiles distinguishable; red/green
          combination could be closer for some color vision deficiencies
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 5
        passed: false
        comment: Square format appropriate but data only occupies upper portion (300-1000
          hPa), lower portion (100-300 hPa) relatively sparse
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Y-axis has Pressure (hPa) with units; X-axis has Temperature (°C,
          skewed 45°) explaining the skew
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: true
        comment: Legend well-placed and informative; isobars subtle gray; reference
          lines serve as grid system
    spec_compliance:
      score: 22
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct Skew-T Log-P diagram with all essential components
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Pressure correctly on Y-axis (log scale, inverted), temperature on
          X with 45° skew
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Has isotherms, dry adiabats, moist adiabats, mixing ratios, isobars,
          T and Td profiles; missing optional wind barbs
      - id: SC-04
        name: Data Range
        score: 2
        max: 3
        passed: true
        comment: Range is 100-1000 hPa as specified, but temperature profile data
          only extends to ~300 hPa visually
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly identifies all four reference line types
      - id: SC-06
        name: Title Format
        score: 1
        max: 2
        passed: false
        comment: Uses correct format with middle dot separator
    data_quality:
      score: 15
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 5
        max: 8
        passed: true
        comment: Shows T and Td profiles with realistic vertical structure; demonstrates
          tropopause inversion; sparse above 300 hPa
      - id: DQ-02
        name: Realistic Context
        score: 6
        max: 7
        passed: true
        comment: Atmospheric sounding follows realistic lapse rates (~6.5°C/km), tropopause
          around 200 hPa, meteorologically sound
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Temperature range -55°C to 25°C realistic; pressure 100-1000 hPa
          appropriate; dewpoint values physically plausible
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 2
        max: 3
        passed: true
        comment: Has helper function skew_transform() which deviates from pure script
          style but necessary for complex coordinate transformation
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42) for reproducible synthetic data
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used; plotnine components properly imported
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current plotnine 0.15.2 API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png with dpi=300
    library_features:
      score: 0
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 0
        max: 5
        passed: false
        comment: Skew-T diagrams are not a natural fit for plotnine; coordinate transformation
          done manually; does not leverage faceting, statistical transformations,
          or ggplot2-style aesthetic mapping
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - layer-composition
  - custom-legend
  - manual-ticks
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - grid-styling
