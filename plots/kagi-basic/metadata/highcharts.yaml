library: highcharts
specification_id: kagi-basic
created: '2026-01-08T21:55:03Z'
updated: '2026-01-08T22:18:26Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20832949902
issue: 3341
python_version: 3.13.11
library_version: unknown
preview_url: https://storage.googleapis.com/pyplots-images/plots/kagi-basic/highcharts/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/kagi-basic/highcharts/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/kagi-basic/highcharts/plot.html
quality_score: 85
review:
  strengths:
  - Correct Kagi chart logic with proper 4% reversal threshold calculation
  - Clear visual differentiation between yang (thick green) and yin (thin red) segments
  - Good use of subtitle to explain the reversal threshold
  - Clean chart layout with professional appearance
  - Reproducible data generation with seeded random
  weaknesses:
  - Red-green color combination is not colorblind-safe; should use colorblind-friendly
    alternatives like blue/orange or use patterns
  - Does not use highcharts-core Python library as recommended in library rules; builds
    chart via raw JavaScript strings instead
  image_description: The plot displays a Kagi chart with the title "kagi-basic · highcharts
    · pyplots.ai" and subtitle "Stock Price Analysis with 4% Reversal Threshold".
    The chart shows price movements from approximately $86 to $130 on the Y-axis (labeled
    "Price ($)") against Kagi Line Index 0-12 on the X-axis. Yang (bullish) segments
    are rendered in thick forest green (#228B22) lines, while Yin (bearish) segments
    use thinner crimson red (#DC143C) lines. The chart demonstrates multiple trend
    reversals with clear transitions between bullish and bearish phases. The legend
    at the bottom clearly identifies "Yang (Bullish)" and "Yin (Bearish)" series.
    The overall layout is clean with subtle gray grid lines, balanced margins, and
    good use of the canvas space.
  criteria_checklist:
    visual_quality:
      score: 34
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 10
        passed: true
        comment: Title at 48px excellent, axis labels at 32px good, tick labels at
          24px readable but Y-axis shows dense $1 increment labeling
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Line widths (8px yang, 4px yin) clearly differentiate trends; could
          be slightly thicker for large canvas
      - id: VQ-04
        name: Color Accessibility
        score: 2
        max: 5
        passed: false
        comment: Uses red-green color scheme which is problematic for colorblind users
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Good canvas utilization with balanced margins
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Y-axis shows Price ($) with currency formatting, X-axis shows Kagi
          Line Index
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Subtle grid at alpha 0.1, well-placed legend at bottom
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct Kagi chart implementation with vertical/horizontal segments
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: X-axis shows line index, Y-axis shows price correctly
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Has yang/yin differentiation via line thickness AND color; missing
          explicit shoulder/waist markers
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible within axes
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly identifies Yang (Bullish) and Yin (Bearish)
      - id: SC-06
        name: Title Format
        score: 1
        max: 2
        passed: false
        comment: Correct format but uses subtitle for additional context
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows multiple trend reversals, both uptrends and downtrends with
          4% threshold
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Stock price analysis is a realistic financial application
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Stock prices $86-$127 realistic; 200 days with ~12 reversals reasonable
    code_quality:
      score: 7
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear structure: imports → data → Kagi calc → chart config → output'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 0
        max: 2
        passed: false
        comment: Does not use highcharts-core library; builds chart via raw JavaScript
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: No deprecated functions
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: true
        comment: Saves plot.png and plot.html correctly
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: false
        comment: Uses Highcharts rendering but via raw JS strings, not highcharts-core
          Python API
  verdict: REJECTED
impl_tags:
  dependencies:
  - selenium
  techniques:
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - grid-styling
