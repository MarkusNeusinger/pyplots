library: altair
specification_id: facet-grid
created: '2025-12-30T16:30:41Z'
updated: '2025-12-30T16:38:55Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20601059244
issue: 0
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/facet-grid/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/facet-grid/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/facet-grid/altair/plot.html
quality_score: 91
impl_tags:
  dependencies: []
  techniques:
  - faceting
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling: []
review:
  strengths:
  - Excellent use of Altair's declarative faceting syntax with .facet() for clean
    2D grid creation
  - Well-structured agricultural scenario that naturally demonstrates multi-dimensional
    data exploration
  - Clean color palette (blue, yellow, green) that is both aesthetically pleasing
    and colorblind-safe
  - Proper use of Altair encoding types (:Q for quantitative, :N for nominal)
  - Good axis labels with units and appropriate scale configuration
  weaknesses:
  - Legend is positioned at the edge of the canvas rather than integrated closer to
    the plot area
  - Could benefit from interactive selections (Altair's distinctive feature) to highlight
    crop types across all facets
  image_description: 'The plot displays a 3×3 faceted grid of scatter plots showing
    crop yield vs water usage. The grid is organized with Season (Spring, Summer,
    Fall) as columns and Soil Type (Sandy, Clay, Loam) as rows. Each subplot contains
    scatter points colored by crop type: blue for Wheat, yellow for Corn, and green
    for Soybean. The title "facet-grid · altair · pyplots.ai" appears at the top left.
    Axis labels show "Water Usage (mm)" on x-axis (range ~40-95) and "Yield (tons/ha)"
    on y-axis (range ~5-13). A color legend for Crop appears on the right side. The
    grid lines are subtle gray, and the overall layout is clean with good spacing
    between panels.'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: All text is readable; title, axis labels, and tick marks are appropriately
          sized, though axis title font could be slightly larger
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text anywhere in the visualization
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Markers are well-sized with good opacity (0.7); slightly crowded
          in some cells but still distinguishable
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue, yellow, and green palette is colorblind-safe
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good use of canvas space; the faceted grid fills the area well, though
          legend is positioned slightly away from the main plot
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: 'Labels include units: "Yield (tons/ha)", "Water Usage (mm)"'
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: true
        comment: Grid is subtle; legend is clear but positioned at the edge
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct faceted grid with scatter plots in each cell
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: X (Water Usage) and Y (Yield) correctly assigned with two categorical
          faceting variables
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: 'All spec features present: faceting by row (Soil Type) and column
          (Season), shared axes, scatter as base plot'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible within axes ranges
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Crop legend correctly shows all three categories
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Correct format "facet-grid · altair · pyplots.ai"
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows variation across soil types (Loam yields higher), seasons (Summer
          slightly higher), and crops; demonstrates the multi-dimensional exploration
          purpose well
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Crop yield vs water usage across soil types and seasons is a realistic
          agricultural scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Yield values (5-13 tons/ha) and water usage (40-95 mm) are plausible,
          though water usage range is on the lower end for seasonal measurements
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Clean imports → data → plot → save structure, no functions/classes
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used (altair, numpy, pandas)
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Current Altair API used
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves as both plot.png and plot.html, which is fine, but minor deduction
          for not following the exact single-output convention
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 3
        max: 5
        passed: true
        comment: Good use of Altair's declarative faceting with .facet(), Column/Row
          headers, encoding types (:Q, :N), and tooltips. Could leverage more Altair-specific
          features like interactive selections or conditional encoding
  verdict: APPROVED
