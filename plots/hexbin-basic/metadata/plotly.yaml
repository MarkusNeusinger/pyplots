library: plotly
specification_id: hexbin-basic
created: 2025-12-14 19:46:35+00:00
updated: '2026-02-21T21:40:50Z'
generated_by: claude-opus-4-6
workflow_run: 20213176968
issue: 859
python_version: 3.14.3
library_version: 6.5.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/hexbin-basic/plotly/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/hexbin-basic/plotly/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/hexbin-basic/plotly/plot.html
quality_score: 88
impl_tags:
  dependencies: []
  techniques:
  - colorbar
  - annotations
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep:
  - binning
  styling:
  - custom-colormap
review:
  strengths:
  - Excellent data storytelling with three labeled ride-share pickup hotspots that
    immediately communicate spatial patterns
  - Viridis on plotly_white with subtle gray background and clean typography creates
    a polished professional look
  - Perfect spec compliance with all required features present and working
  - Realistic neutral ride-share scenario with plausible geographic scales
  - Creative use of Plotly hexagon2 marker symbol and hover tooltips for hexbin simulation
  weaknesses:
  - Visible white gaps between hexagons due to imperfect tessellation from the 1.55x
    size multiplier not fully closing gaps
  - Layout slightly right-heavy due to colorbar placement
  improvements: []
  verdict: REJECTED
  image_description: 'The plot displays a hexagonal binning visualization of ride-share
    pickup density across a metro area. Three distinct density clusters are visible:
    Downtown (left, centered around x=-4, y=1) with moderate density shown in green-teal;
    Airport (center-top, around x=1.5, y=3.5) with the highest density shown in bright
    yellow hexagons (~250 pickups); and University (right, around x=7, y=1.5) with
    moderate density in teal. The Viridis colormap ranges from dark purple (0 pickups)
    through teal/green to yellow (250+ pickups). Each cluster is labeled with an annotation
    and subtle arrow. The background is light gray (#f8f9fa) using the plotly_white
    template. Axes show "Distance East (km)" and "Distance North (km)". A vertical
    colorbar on the right labeled "Pickups" shows the density scale 0-250. There are
    visible white gaps/lines between some hexagons, particularly in transition areas
    and sparse regions, indicating imperfect tessellation.'
  criteria_checklist:
    visual_quality:
      score: 27
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 8
        passed: true
        comment: 'All font sizes explicitly set: title 32pt, axis labels 24pt, ticks
          18pt, colorbar title 22pt, annotations 16pt. All perfectly readable.'
      - id: VQ-02
        name: No Overlap
        score: 6
        max: 6
        passed: true
        comment: No overlapping text. Annotations well-positioned with arrows; no
          label collisions.
      - id: VQ-03
        name: Element Visibility
        score: 4
        max: 6
        passed: false
        comment: Hexagons visible but white gaps between them due to imperfect tessellation.
          Gaps most visible in transition areas and sparse regions.
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 4
        passed: true
        comment: Viridis colormap is perceptually uniform and colorblind-safe. Excellent
          contrast between density levels.
      - id: VQ-05
        name: Layout & Canvas
        score: 3
        max: 4
        passed: false
        comment: Plot fills ~66% of canvas. Slight imbalance from colorbar on right.
          Nothing cut off.
      - id: VQ-06
        name: Axis Labels & Title
        score: 2
        max: 2
        passed: true
        comment: 'Descriptive labels with units: Distance East (km), Distance North
          (km).'
    design_excellence:
      score: 14
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 5
        max: 8
        passed: false
        comment: 'Strong design: Viridis on light gray, Arial Black title, muted axis
          colors, subtle annotations. Above defaults but hex gaps prevent publication
          quality.'
      - id: DE-02
        name: Visual Refinement
        score: 4
        max: 6
        passed: false
        comment: 'Good refinement: grid removed, zeroline disabled, plotly_white template,
          colorbar outline removed, subtle annotation arrows. Hex gaps are the main
          blemish.'
      - id: DE-03
        name: Data Storytelling
        score: 5
        max: 6
        passed: true
        comment: 'Excellent storytelling: three labeled clusters with arrows immediately
          communicate ride-share hotspot pattern. Density gradient guides viewer to
          Airport peak.'
    spec_compliance:
      score: 15
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: Correct hexagonal binning plot using scatter with hexagon2 markers.
      - id: SC-02
        name: Required Features
        score: 4
        max: 4
        passed: true
        comment: Colorbar, Viridis colormap, gridsize parameter all present and working.
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: X/Y correctly assigned with appropriate padding. Full data range
          displayed.
      - id: SC-04
        name: Title & Legend
        score: 3
        max: 3
        passed: true
        comment: Title matches required format. Colorbar label descriptive. No traditional
          legend needed.
    data_quality:
      score: 15
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 6
        max: 6
        passed: true
        comment: Full density range shown. Three clusters with different densities
          and spreads. 10000 points appropriate for hexbin.
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 5
        passed: true
        comment: Ride-share pickup density across metro area. Named locations add
          plausible geographic context. Neutral topic.
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 4
        passed: true
        comment: Metro area ~20km x 12km realistic. Pickup counts 0-250+ plausible.
          Cluster sizes create natural density variation.
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear flow: imports, data generation, hex binning, figure creation,
          layout, annotations, save. No functions or classes.'
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: np.random.seed(42) ensures deterministic output.
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only numpy and plotly.graph_objects imported, both used.
      - id: CQ-04
        name: Code Elegance
        score: 2
        max: 2
        passed: true
        comment: Well-organized with clear section comments. Manual hex binning cleanly
          implemented. Count-based sorting for z-ordering is a nice touch.
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves plot.png (1600x900 scale=3) and plot.html. No deprecated API.
    library_mastery:
      score: 7
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 3
        max: 5
        passed: false
        comment: Correct go.Figure/go.Scatter/update_layout usage but ~25 lines of
          manual hex binning works around Plotly lacking native hexbin. Core logic
          is NumPy, not Plotly.
      - id: LM-02
        name: Distinctive Features
        score: 4
        max: 5
        passed: true
        comment: Uses hexagon2 marker symbol, interactive hover with customdata/hovertemplate,
          HTML export, scaleanchor, add_annotation, custom hoverlabel styling.
