library: pygal
specification_id: kagi-basic
created: '2026-01-08T22:41:55Z'
updated: '2026-01-08T22:45:02Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20834088902
issue: 3341
python_version: 3.13.11
library_version: 3.1.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/kagi-basic/pygal/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/kagi-basic/pygal/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/kagi-basic/pygal/plot.html
quality_score: 72
review:
  strengths:
  - Clean, professional layout with good canvas utilization
  - Correct Kagi chart algorithm for calculating turning points and yang/yin states
  - Appropriate color coding (green for yang, red for yin)
  - Good use of pygal custom Style for font sizing at 4800x2700
  - Proper title format and descriptive axis labels with units
  weaknesses:
  - The stroke_style width (10 vs 4) difference for yang/yin lines is not visually
    apparent - this is the defining characteristic of Kagi charts
  - No legend explaining thick lines = yang (bullish) and thin lines = yin (bearish)
  - Horizontal grid lines could be more subtle
  image_description: The plot displays a Kagi chart with the title "kagi-basic · pygal
    · pyplots.ai" at the top. The X-axis is labeled "Kagi Line Index" (0-20) and the
    Y-axis is labeled "Price ($)" (approximately 85-125). The chart shows 18 Kagi
    segments with vertical lines connected by horizontal segments. Colors transition
    from red/coral (yin/bearish segments) on the left portion to green (yang/bullish
    segments) on the right portion, correctly representing the trend states. However,
    all lines appear to have the same thickness - the critical yang (thick) vs yin
    (thin) line distinction specified in the Kagi chart definition is NOT visible.
    The layout is clean with good use of space and subtle horizontal grid lines.
  criteria_checklist:
    visual_quality:
      score: 32
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title, axis labels, and tick marks are all clearly readable at full
          size with appropriate font sizes
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements anywhere in the plot
      - id: VQ-03
        name: Element Visibility
        score: 4
        max: 8
        passed: false
        comment: Lines are visible but the critical thick/thin distinction for yang/yin
          is NOT apparent - all lines appear similar width
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Green and red provide good contrast and are distinguishable
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Good canvas utilization with balanced margins
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Kagi Line Index and Price ($) are descriptive with units
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: No legend present to explain thick=yang/thin=yin
    spec_compliance:
      score: 18
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 8
        passed: false
        comment: This is a Kagi-style chart but missing the key visual feature of
          varying line thickness
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: X-axis correctly shows line index, Y-axis shows price
      - id: SC-03
        name: Required Features
        score: 2
        max: 5
        passed: false
        comment: Missing visible thick/thin line distinction; horizontal transitions
          are present
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Full price range displayed correctly
      - id: SC-05
        name: Legend Accuracy
        score: 1
        max: 2
        passed: false
        comment: No legend explaining yang/yin line meanings
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: kagi-basic · pygal · pyplots.ai'
    data_quality:
      score: 17
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 6
        max: 8
        passed: false
        comment: Shows both bullish and bearish segments, trend reversals, but thickness
          difference not visible
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Stock price data with 4% reversal threshold is realistic
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Price range $85-$125 for a $100 starting stock is reasonable
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Linear imports → data → plot → save structure, no functions/classes
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only necessary imports (numpy, pygal, Style)
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current pygal API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: false
        comment: Uses pygal XY chart with custom Style and stroke_style, but stroke
          width distinction is not rendering visibly
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep:
  - cumulative-sum
  styling: []
