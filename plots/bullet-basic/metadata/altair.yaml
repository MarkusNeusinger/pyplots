library: altair
specification_id: bullet-basic
created: '2025-12-23T09:18:21Z'
updated: '2025-12-23T09:22:59Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20456606505
issue: 0
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/bullet-basic/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/bullet-basic/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/bullet-basic/altair/plot.html
quality_score: 92
impl_tags:
  dependencies: []
  techniques:
  - layer-composition
  - html-export
  patterns:
  - data-generation
  dataprep:
  - normalization
  styling: []
review:
  strengths:
  - Excellent implementation of bullet chart pattern using Altair layering capability
  - Grayscale bands follow spec recommendation for keeping focus on primary measure
  - Smart normalization approach to show multiple metrics with different scales on
    common axis
  - Clean separation of data preparation and visualization code
  - Title format exactly matches specification
  - Realistic business KPI scenario with meaningful metric labels
  weaknesses:
  - Vertical spacing between bullet charts is quite large, reducing the compact design
    benefit mentioned in spec
  - 'Does not display actual values as text labels on the bars (spec notes: Consider
    adding the actual value as a text label)'
  - Could leverage Altair interactivity features (tooltips showing original values)
  image_description: 'The plot displays 4 horizontal bullet charts stacked vertically
    for different KPI metrics: Revenue ($K), Profit ($K), New Customers, and Satisfaction
    (1-5). Each bullet chart shows three grayscale background bands (Poor in light
    gray #d9d9d9, Satisfactory in medium gray #bdbdbd, Good in dark gray #969696)
    representing qualitative performance ranges. The actual performance value is shown
    as a blue bar (Python Blue #306998), and the target is marked with a thin black
    vertical tick mark. The title "bullet-basic · altair · pyplots.ai" appears at
    the top center in large font. The x-axis is labeled "% of Maximum" ranging from
    0 to ~108. The y-axis shows the metric names with appropriate units. A legend
    at the bottom identifies the three performance bands.'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title ~28pt, axis labels ~18pt, all clearly readable. Slightly smaller
          than ideal but still very good.
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements anywhere
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Bars and target markers are well-sized and clearly visible
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Grayscale bands are colorblind-safe; blue actual bar provides good
          contrast
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good proportions, though vertical spacing between bullets is quite
          large
      - id: VQ-06
        name: Axis Labels
        score: 1
        max: 2
        passed: true
        comment: X-axis has "% of Maximum" which is descriptive but no unit; Y-axis
          metrics have units
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: true
        comment: Legend is well placed at bottom; no grid visible (acceptable for
          bullet charts)
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct bullet chart type with all required components
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Actual values as bars, targets as markers, ranges as background bands
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Has actual bar, target marker, qualitative range bands per spec
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Shows all data clearly with scale extending to 110%
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly identifies Poor/Satisfactory/Good bands
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Uses exact format `bullet-basic · altair · pyplots.ai`
    data_quality:
      score: 19
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows 4 metrics with varied actual/target relationships (above target,
          below target), different scale normalizations
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Business KPIs (Revenue, Profit, Customers, Satisfaction) are realistic
          dashboard metrics
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: 'Values are realistic: Revenue $275K, Profit $85K, 320 customers,
          4.2/5 satisfaction'
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear flow: imports → data → dataframes → charts → layer → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Deterministic data (no random values)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only altair and pandas imported, both used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Altair API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves as plot.png and plot.html (correct)
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 3
        max: 5
        passed: true
        comment: Good use of layering (alt.layer), mark_bar with x/x2 for ranges,
          mark_tick for targets. Could have used tooltips or selection for more Altair-specific
          interactivity.
  verdict: APPROVED
