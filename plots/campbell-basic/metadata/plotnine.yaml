library: plotnine
specification_id: campbell-basic
created: '2026-02-15T21:08:00Z'
updated: '2026-02-15T21:23:35Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 22043026955
issue: 4241
python_version: 3.14.3
library_version: 0.15.3
preview_url: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/plotnine/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/plotnine/plot_thumb.png
preview_html: null
quality_score: 85
review:
  strengths:
  - Colorblind-safe custom palette with strong color differentiation across all four
    modes
  - Critical speed intersection calculation using sign-change interpolation is mathematically
    sound
  - 1127 RPM annotation creates effective data storytelling with a clear focal point
  - Clean legend design consolidating 3 engine order lines into one entry
  - Idiomatic plotnine grammar-of-graphics composition with proper aes mapping and
    scale layering
  weaknesses:
  - Right-edge mode labels push x-axis to 7200 creating asymmetric layout; consider
    positioning labels within the plot area or using a secondary legend
  - Engine order labels (3x, 2x) partially overlap with mode lines making them hard
    to read
  - Legend title suppression uses a hack (size=1, white color) rather than a clean
    approach
  - Only 4 modes when spec suggests 4-5; adding a 5th mode would improve feature coverage
  image_description: 'The plot displays a Campbell Diagram for rotating machinery
    analysis. Four natural frequency mode curves are drawn as thick solid lines: 1st
    Bending (dark blue, ~18-23 Hz), 2nd Bending (amber/gold, ~42-39 Hz declining),
    1st Torsional (purple, ~65-72 Hz rising), and Axial (teal/green, ~88-90 Hz nearly
    flat). Three gray dashed engine order lines (1x, 2x, 3x) radiate from the origin
    with increasing slopes. Red diamond markers with pink fill highlight critical
    speed intersections where engine order lines cross natural frequency curves (~10
    intersection points visible). Mode names are labeled in bold matching colors at
    the right edge of the plot. Engine order labels (1x, 2x, 3x) appear in gray italic
    along each diagonal line. A dotted red vertical line drops from the 1x/1st Bending
    intersection down to the x-axis with an annotation reading "1127 RPM" in red italic,
    highlighting the most operationally significant critical speed. The background
    is light gray (#FAFAFA) with subtle grid lines. A horizontal legend at the bottom
    lists all four modes with colored solid line swatches plus one dashed gray "Engine
    Order (1x, 2x, 3x)" entry.'
  criteria_checklist:
    visual_quality:
      score: 26
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 8
        passed: true
        comment: 'All font sizes explicitly set: title 24pt, axis titles 20pt bold,
          tick labels 16pt, legend 14pt'
      - id: VQ-02
        name: No Overlap
        score: 5
        max: 6
        passed: false
        comment: 3x engine order label partially overlaps with Axial mode line near
          1300 RPM
      - id: VQ-03
        name: Element Visibility
        score: 5
        max: 6
        passed: false
        comment: Lines thick at 1.8, diamond markers visible. Engine order labels
          slightly faint against gray dashed lines
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 4
        passed: true
        comment: 'Colorblind-safe palette: blue, amber, purple, teal. No red-green
          distinction issues'
      - id: VQ-05
        name: Layout Balance
        score: 2
        max: 4
        passed: false
        comment: x-axis extended to 7200 for right-edge labels creates asymmetric
          whitespace
      - id: VQ-06
        name: Axis Labels & Title
        score: 2
        max: 2
        passed: true
        comment: Rotational Speed (RPM) and Frequency (Hz) - descriptive with units
    design_excellence:
      score: 14
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 6
        max: 8
        passed: true
        comment: Custom palette, styled panel, intentional typography hierarchy, solid/dashed
          distinction
      - id: DE-02
        name: Visual Refinement
        score: 4
        max: 6
        passed: true
        comment: Minor grid disabled, subtle major grid, panel background customized.
          Legend title hack inelegant
      - id: DE-03
        name: Data Storytelling
        score: 4
        max: 6
        passed: true
        comment: 1127 RPM annotation creates focal point. Diamond markers and right-edge
          labels build visual hierarchy
    spec_compliance:
      score: 14
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: Correct Campbell diagram with frequency curves, engine order lines,
          and critical speed markers
      - id: SC-02
        name: Required Features
        score: 3
        max: 4
        passed: false
        comment: All major features present. Only 4 modes vs suggested 4-5. Optional
          zone shading not implemented
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: X=Speed (RPM), Y=Frequency (Hz) correctly assigned
      - id: SC-04
        name: Title Format
        score: 3
        max: 3
        passed: true
        comment: campbell-basic · plotnine · pyplots.ai correct. Legend consolidates
          EO lines cleanly
    data_quality:
      score: 14
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 5
        max: 6
        passed: false
        comment: Shows modes with different speed behaviors. Could show a 5th mode
          for fuller coverage
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 5
        passed: true
        comment: Real rotating machinery scenario with proper mode names
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 4
        passed: true
        comment: Frequencies 18-90 Hz, speed 0-6000 RPM - realistic turbomachinery
          values
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear flow: imports, data, plot, save. No functions or classes'
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports used
      - id: CQ-04
        name: Code Elegance
        score: 1
        max: 2
        passed: false
        comment: Loop-based record construction verbose. Legend title hidden via size=1/white
          hack
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png, dpi=300
    library_features:
      score: 8
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 5
        max: 5
        passed: true
        comment: 'Excellent ggplot grammar: aes mapping, scale_manual, guide_legend,
          annotate layers, theme composition'
      - id: LM-02
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses guide_legend override_aes, scale_linetype_manual, annotate segment,
          element_blank/rect layering
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - layer-composition
  - custom-legend
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep:
  - interpolation
  styling:
  - grid-styling
