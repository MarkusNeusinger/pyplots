library: bokeh
specification_id: mosaic-categorical
created: '2026-01-11T00:53:56Z'
updated: '2026-01-11T01:02:33Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20886979446
issue: 3650
python_version: 3.13.11
library_version: 3.8.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/mosaic-categorical/bokeh/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/mosaic-categorical/bokeh/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/mosaic-categorical/bokeh/plot.html
quality_score: 90
review:
  strengths:
  - Excellent mosaic plot implementation with proper proportional areas representing
    both marginal and conditional distributions
  - Very readable with large font sizes and clear count labels in each cell
  - Good use of Bokeh HoverTool providing interactive tooltips with Class, Status,
    Count, and Proportion
  - Clean colorblind-safe color scheme (blue/yellow) with good contrast
  - Proper title format following pyplots.ai conventions
  - Informative x-axis label explaining the width encoding
  weaknesses:
  - Legend placement creates visual imbalance - positioned far to the right with empty
    space between it and the main mosaic
  image_description: 'The plot displays a mosaic chart visualizing Titanic survival
    data by passenger class. Three columns represent First, Second, and Third class
    passengers, with widths proportional to the total passengers in each class (First
    narrowest, Third widest). Each column is divided vertically into two rectangles:
    blue (#306998) for "Survived" and yellow (#FFD43B) for "Did Not Survive". The
    height of each rectangle within its column represents the conditional proportion
    of that survival status. Count values (122, 203, 167, 118, 528, 178) are displayed
    in bold white/dark text centered in each cell. The title "mosaic-categorical ·
    bokeh · pyplots.ai" appears at the top in bold, with an italic subtitle "Titanic
    Survival by Passenger Class" below. Class labels appear at the bottom, and an
    x-axis label explains "Passenger Class (width = proportion of passengers)". A
    legend on the right side shows color coding for survival status using small colored
    squares.'
  criteria_checklist:
    visual_quality:
      score: 35
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title, subtitle, labels, and count values are clearly readable. Font
          sizes well-scaled for 4800x2700 canvas.
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements; all labels and values clearly separated.
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Rectangles well-sized and clearly visible with appropriate alpha
          (0.9).
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue and yellow provide excellent contrast and are colorblind-safe.
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 5
        passed: true
        comment: Good canvas utilization (~70%), but empty space on right side where
          legend is placed.
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: X-axis label is descriptive with context explaining width encoding.
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Legend placed far to the right with significant empty space between
          it and the mosaic plot.
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct mosaic plot implementation with area-proportional rectangles.
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Class on x-axis (width), survival on y-axis (height), areas proportional
          to frequencies.
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Gap spacing, color coding, proportional areas, clear labels all present.
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data categories displayed correctly.
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly identifies Survived and Did Not Survive.
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: mosaic-categorical · bokeh · pyplots.ai'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows variation in both class proportions and survival rates across
          classes.
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Titanic survival data is a classic, neutral, real-world dataset perfect
          for mosaic plots.
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Values are realistic for Titanic data.
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear flow: imports → data → calculations → plot → save. No functions
          or classes.'
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 3
        passed: true
        comment: Data is deterministic (hardcoded), no random seed needed.
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: 'All imports are used: pandas, bokeh.io, bokeh.models, bokeh.plotting.'
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Bokeh 3.x API.
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png.
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses HoverTool for interactivity, ColumnDataSource for data management,
          and Label annotations.
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - hover-tooltips
  - annotations
  - custom-legend
  patterns:
  - columndatasource
  - iteration-over-groups
  dataprep: []
  styling:
  - alpha-blending
  - edge-highlighting
  - minimal-chrome
