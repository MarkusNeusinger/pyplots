library: altair
specification_id: bar-3d
created: '2025-12-31T21:36:39Z'
updated: '2025-12-31T21:45:13Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20627538767
issue: 2857
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/bar-3d/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/bar-3d/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/bar-3d/altair/plot.html
quality_score: 91
review:
  strengths:
  - Excellent creative solution using isometric projection to simulate 3D in a 2D
    library
  - Good painter's algorithm implementation for proper depth ordering of bar faces
  - Viridis colormap provides clear value encoding and is colorblind-accessible
  - Interactive tooltips show exact product, quarter, and sales values
  - Realistic business data with seasonal variation and growth trends
  - Clean code structure following KISS principles
  weaknesses:
  - Y-axis label says Sales Revenue (Relative Height) but axis tick values do not
    correspond to actual sales values
  - Quarter labels positioning could be clearer - they overlap with depth axis indicator
  - Spec suggests semi-transparent bars for revealing occluded bars which is not implemented
  image_description: The plot displays a 3D isometric bar chart showing quarterly
    sales data across four products (Product A, B, C, D). Each bar is rendered with
    three faces (front, top, side) to create a 3D effect, using the viridis color
    scale to encode sales values from ~56K to 200K. The bars are arranged in a grid
    with products on the x-axis and quarters (Q1-Q4) progressing into the depth dimension.
    The title reads "bar-3d · altair · pyplots.ai" with a subtitle "Quarterly Sales
    by Product (Isometric 3D Projection)". A color legend for "Sales ($K)" is positioned
    on the right. Quarter labels (Q1-Q4) are visible on the right side of the chart,
    and an angled "Quarters →" indicator is shown. Product B has the highest bar (yellow,
    ~200K), while Product C shows the lowest values (purple/blue tones).
  criteria_checklist:
    visual_quality:
      score: 35
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title and labels are clearly readable; tick labels slightly dense
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: 3D bar faces are visible; some occlusion but depth ordering is correct
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Viridis colormap is colorblind-safe
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good use of canvas; slight imbalance with more space on left
      - id: VQ-06
        name: Axis Labels
        score: 1
        max: 2
        passed: true
        comment: Y-axis shows "Sales Revenue (Relative Height)" but the actual scale
          values don't map directly to sales amounts
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: true
        comment: Grid is subtle; legend well placed
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correctly implements 3D bar chart using isometric projection
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: X (products), Y (quarters as depth), Z (sales as height) correctly
          mapped
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: 'Has color gradient for z-values; interactivity enabled; minor: no
          transparency for occluded bars'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly shows sales scale
      - id: SC-06
        name: Title Format
        score: 1
        max: 2
        passed: true
        comment: Title format correct; subtitle adds context but y-axis label is misleading
    data_quality:
      score: 20
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: Shows variation across products and quarters; seasonal patterns and
          growth trends visible
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Quarterly sales by product is a realistic business scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Sales values ($56K-$200K) are realistic
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Linear script structure with imports → data → plot → save
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only necessary imports
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Altair API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 3
        max: 5
        passed: true
        comment: Good use of mark_rect, tooltips, and interactive(); could better
          leverage Altair's declarative grammar for the layering
  verdict: APPROVED
