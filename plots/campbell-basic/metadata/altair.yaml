library: altair
specification_id: campbell-basic
created: '2026-02-15T21:10:25Z'
updated: '2026-02-15T21:13:49Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 22043026897
issue: 4241
python_version: 3.14.3
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/altair/plot.html
quality_score: 81
review:
  strengths:
  - Excellent text legibility with all font sizes explicitly configured (title 28pt,
    axes 22pt, ticks 18pt, legend 14-16pt)
  - Realistic rotordynamic engineering data with proper mode labels and plausible
    frequency/speed ranges
  - 'Clear visual hierarchy: solid colored lines for modes vs. dashed grey for engine
    orders, with red diamond critical speed markers as focal points'
  - Good use of Altair layered composition and interactive tooltips on critical speed
    markers
  - Clean KISS code structure with no unnecessary abstractions
  weaknesses:
  - Legend only shows natural frequency modes; engine order lines are not included
    in the legend, making it harder for unfamiliar viewers to understand the diagram
  - Engine order lines at opacity 0.5 are slightly too faint — could be more visible
    while still remaining secondary to mode lines
  - No annotations or context around critical speed intersections to help tell the
    data story (e.g., labeling key intersections or highlighting an operating range)
  - Code is verbose with separate loops for each engine order layer instead of a more
    idiomatic Altair approach
  image_description: 'The plot displays a Campbell Diagram with five natural frequency
    curves plotted against rotational speed (0–6000 RPM) on the x-axis and frequency
    (0–300 Hz) on the y-axis. The five mode curves are: 1st Bending (blue), 2nd Bending
    (orange), 1st Torsional (green), Axial (purple), and 3rd Bending (red) — each
    rendered as solid lines with strokeWidth=3. Three dashed grey engine order lines
    (1x, 2x, 3x) radiate from the origin with lower opacity (0.5) and are labeled
    near the right edge of the plot. Red diamond markers with white stroke indicate
    critical speed intersections where engine order lines cross natural frequency
    curves. A legend titled "Natural Frequencies" is positioned on the right side
    listing all five modes. The title reads "campbell-basic · altair · pyplots.ai"
    at the top. Grid lines are subtle (0.15 opacity). The overall color palette is
    cohesive and colorblind-distinguishable.'
  criteria_checklist:
    visual_quality:
      score: 24
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 8
        passed: true
        comment: 'All font sizes explicitly set: title 28pt, axis titles 22pt, tick
          labels 18pt, legend labels 14-16pt'
      - id: VQ-02
        name: No Overlap
        score: 6
        max: 6
        passed: true
        comment: No overlapping text elements anywhere
      - id: VQ-03
        name: Element Visibility
        score: 5
        max: 6
        passed: false
        comment: Mode lines and diamond markers clear; engine order lines at opacity
          0.5 slightly hard to trace
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 4
        passed: true
        comment: Blue/orange/green/purple/red palette is colorblind-distinguishable;
          grey engine orders for category separation
      - id: VQ-05
        name: Layout & Canvas
        score: 3
        max: 4
        passed: false
        comment: Good 1600x900 canvas but right legend takes notable space; minor
          whitespace at top
      - id: VQ-06
        name: Axis Labels & Title
        score: 2
        max: 2
        passed: true
        comment: Rotational Speed (RPM) and Frequency (Hz) with units
    design_excellence:
      score: 12
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 5
        max: 8
        passed: false
        comment: Custom palette, visual distinction between line types, diamond markers
          with white stroke. Above defaults but not publication-caliber
      - id: DE-02
        name: Visual Refinement
        score: 4
        max: 6
        passed: false
        comment: Subtle grid (0.15 opacity), view stroke removed, well-configured
          legend. Good but not fully polished
      - id: DE-03
        name: Data Storytelling
        score: 3
        max: 6
        passed: false
        comment: Diamond markers create focal points; visual hierarchy separates modes
          from excitation. No annotations or operating range highlighting
    spec_compliance:
      score: 14
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: Correct Campbell Diagram with frequency curves, engine order lines,
          and critical speed markers
      - id: SC-02
        name: Required Features
        score: 3
        max: 4
        passed: false
        comment: Legend only covers natural frequencies; engine order lines not in
          legend. Optional critical zone shading not implemented
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: X=RPM, Y=Hz correctly assigned, all data visible
      - id: SC-04
        name: Title & Legend
        score: 3
        max: 3
        passed: true
        comment: Title format correct, legend labels match mode names
    data_quality:
      score: 14
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 5
        max: 6
        passed: false
        comment: 5 modes with realistic variation, 3 engine orders, multiple intersections.
          Gyroscopic effects could be more pronounced
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 5
        passed: true
        comment: Real rotordynamic scenario with proper mode labels
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 4
        passed: true
        comment: Base frequencies 45-220 Hz and speed 0-6000 RPM are realistic for
          rotating machinery
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Imports, Data, Plot, Save with no functions/classes
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports used
      - id: CQ-04
        name: Code Elegance
        score: 1
        max: 2
        passed: false
        comment: Verbose with manual loops for engine order layers and dense resampling
          for intersections
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves plot.png and plot.html, no deprecated functions
    library_mastery:
      score: 8
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 4
        max: 5
        passed: false
        comment: Good declarative encoding and layered composition. Manual loop for
          engine order layers less idiomatic
      - id: LM-02
        name: Distinctive Features
        score: 4
        max: 5
        passed: false
        comment: Layered composition, declarative types, alt.value(), tooltips, HTML
          export, configure methods
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - layer-composition
  - annotations
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - grid-styling
  - edge-highlighting
