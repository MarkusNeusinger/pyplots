library: seaborn
specification_id: marimekko-basic
created: '2025-12-23T15:14:11Z'
updated: '2025-12-23T15:20:36Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20464352354
issue: 0
python_version: 3.13.11
library_version: 0.13.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/marimekko-basic/seaborn/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/marimekko-basic/seaborn/plot_thumb.png
preview_html: null
quality_score: 91
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - patches
  - manual-ticks
  patterns:
  - data-generation
  - groupby-aggregation
  dataprep: []
  styling:
  - edge-highlighting
review:
  strengths:
  - Excellent implementation of Marimekko chart with correctly proportioned variable-width
    bars
  - Clear value labels on larger segments with appropriate threshold (height > 0.12)
  - Colorblind-safe palette using seaborn colorblind palette
  - Realistic market share scenario with meaningful regional and product data
  - Well-formatted title following the exact spec-id · library · pyplots.ai pattern
  - Clean white edges between segments enhance visual separation
  - Informative x-axis label explaining that width is proportional to revenue
  weaknesses:
  - Legend placement outside the plot area creates unused whitespace on the right;
    consider placing inside upper-right corner if space permits
  - While seaborn styling is used appropriately (set_style, set_context, despine),
    the core chart uses matplotlib patches since seaborn lacks native marimekko support
    - this is acceptable given the library limitation
  image_description: 'The plot displays a Marimekko chart showing market share data
    across 5 geographic regions (North America, Europe, Asia Pacific, Latin America,
    Middle East). Bar widths are proportional to each region''s total revenue, with
    Asia Pacific having the widest bar and Middle East the narrowest. Each bar is
    stacked with 4 product categories using seaborn''s colorblind palette: Electronics
    (blue), Apparel (gold/orange), Food & Beverage (teal/green), and Home Goods (rust
    brown). The y-axis shows percentage from 0% to 100%. White bold value labels (e.g.,
    "$45B", "$65B") appear on larger segments. The title "marimekko-basic · seaborn
    · pyplots.ai" is centered at the top. A legend titled "Product Line" is positioned
    outside the chart on the right side.'
  criteria_checklist:
    visual_quality:
      score: 37
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: 'All text is clearly readable: title at 24pt bold, axis labels at
          20pt, tick labels at 16pt, value labels at 14pt bold white'
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text; region labels well-spaced, value labels centered
          within segments
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Rectangles sized appropriately with clear white edges separating
          segments
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Uses seaborn's colorblind palette; all 4 colors clearly distinguishable
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good use of canvas, though legend placement creates some right-side
          whitespace
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: 'Descriptive labels: "Region (width proportional to total revenue)"
          and "Product Mix (%)"'
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: true
        comment: Grid at alpha=0.3 is subtle, but legend is placed outside plot area
          requiring extra space
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct Marimekko/mosaic chart with variable-width bars
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Regions as x-categories (widths), products as y-categories (heights)
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: 'All spec features: variable width bars, stacked segments, value
          labels, legend, proportional areas'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible, y-axis 0-100%, x-axis spans full width
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly identifies all 4 product categories
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: "marimekko-basic · seaborn · pyplots.ai"'
    data_quality:
      score: 17
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows varying region sizes and different product mixes; good variation
          but could show more extreme differences
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: 'Excellent real-world scenario: market share by region and product
          line with plausible revenue figures'
      - id: DQ-03
        name: Appropriate Scale
        score: 3
        max: 5
        passed: true
        comment: Values in billions are realistic, but some proportions are quite
          similar across regions
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear flow: imports → data → plot → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42) though data is actually deterministic
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports used (numpy, pandas, matplotlib patches, seaborn)
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current seaborn API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 0
        passed: true
        comment: Saves as plot.png with correct parameters
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 3
        max: 5
        passed: true
        comment: Uses sns.set_style, sns.set_context, sns.color_palette, and sns.despine,
          but no seaborn plot functions (marimekko requires matplotlib patches)
  verdict: APPROVED
