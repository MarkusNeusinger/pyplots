library: plotly
specification_id: map-connection-lines
created: '2026-01-21T16:29:18Z'
updated: '2026-01-21T16:32:23Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21217345083
issue: 3746
python_version: 3.13.11
library_version: 6.5.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/map-connection-lines/plotly/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/map-connection-lines/plotly/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/map-connection-lines/plotly/plot.html
quality_score: 91
review:
  strengths:
  - Excellent use of Plotly Scattergeo for creating great circle arcs automatically
  - Clean, professional color scheme with good contrast (blue routes, yellow markers)
  - Realistic flight route data with appropriate passenger volume scaling
  - Proper use of transparency (alpha 0.4-0.8) to handle overlapping routes
  - Well-formatted title following the spec-id convention
  - Informative hover tooltips with route details
  - Good geographic projection choice (Natural Earth)
  weaknesses:
  - No visual legend showing the line thickness to passenger volume mapping (only
    text annotation)
  - European airport cluster (LHR/CDG/FRA) has minor label overlap
  - Could use color intensity in addition to line width for value encoding
  image_description: The plot displays a world map using the Natural Earth projection
    with a light blue ocean background and light gray landmasses. Country borders
    are shown in subtle gray. Ten major airports are marked with bright yellow circular
    markers with blue outlines, labeled with their IATA codes (JFK, LAX, LHR, CDG,
    NRT, SYD, DXB, SIN, HKG, FRA). Fifteen flight routes connect these airports with
    blue curved lines (great circle arcs). Line thickness varies based on passenger
    volume - thicker lines represent higher traffic routes (e.g., JFK-LHR appears
    as the thickest line). Lines have varying opacity (0.4-0.8) to help distinguish
    overlapping routes. The title "Global Flight Routes · map-connection-lines · plotly
    · pyplots.ai" appears at the top in blue. An annotation at the bottom explains
    that line thickness indicates passenger volume (1.6M - 4.2M passengers/year).
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title is large and clear (28pt), airport codes are readable, annotation
          text is legible
      - id: VQ-02
        name: No Overlap
        score: 7
        max: 8
        passed: true
        comment: Minor overlap in European cluster (LHR/CDG/FRA) but still readable
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Markers sized appropriately (14px), line widths vary 2-8 based on
          traffic, good visibility
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue color scheme with yellow markers is colorblind-safe, good contrast
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Map fills canvas well, slight empty space in southern hemisphere
          but appropriate for flight data
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: N/A for maps, but annotation explains the encoding well
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: No legend showing the line thickness scale; annotation explains concept
          but visual legend would help
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct geographic connection lines map
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Origin/destination coordinates correctly mapped, value encoded in
          line width
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: 'Has curved lines, location markers, transparency, base map. Missing:
          explicit value-to-color mapping'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All airports and routes visible within map bounds
      - id: SC-05
        name: Legend Accuracy
        score: 1
        max: 2
        passed: false
        comment: No visual legend, only text annotation
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Correct format with spec-id, library, and pyplots.ai
    data_quality:
      score: 19
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows variation in route volumes, multiple regions, good geographic
          spread
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Real airport codes with plausible flight routes and realistic passenger
          volumes
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Passenger volumes (1.6M-4.2M/year) are realistic for major international
          routes
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Clean imports, data, plot, save structure, no functions/classes
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set for reproducibility
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only numpy and plotly.graph_objects imported
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Plotly API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses Scattergeo for geographic plotting, Natural Earth projection,
          hover tooltips. Could leverage more interactive features or color scales.
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - alpha-blending
  - edge-highlighting
