library: altair
specification_id: violin-basic
created: '2025-12-23T00:38:09Z'
updated: '2026-02-21T22:47:16Z'
generated_by: claude-opus-4-6
workflow_run: 20447779967
issue: 0
python_version: 3.14.3
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/violin-basic/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/violin-basic/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/violin-basic/altair/plot.html
quality_score: 94
impl_tags:
  dependencies: []
  techniques:
  - faceting
  - layer-composition
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep:
  - kde
  styling:
  - alpha-blending
  - grid-styling
review:
  strengths:
  - Expert-level Altair usage with declarative transforms (transform_density, transform_aggregate)
    instead of pre-computing statistics
  - 'Thoughtful data design: bimodal Sales distribution showcases violin plots advantage
    over box plots'
  - Intentional department ordering creates salary progression narrative with bimodal
    Sales as focal point
  - Custom colorblind-safe palette with maximally distinct hues including Python Blue
  - All font sizes explicitly set for reliable readability at target resolution
  - Clean well-commented code with clear data generation rationale
  weaknesses:
  - Median shown as a dot rather than a line (spec says Include median line) — functionally
    clear but deviates from literal spec wording
  - Design could push further toward publication-quality with more typographic refinement
    or background color treatment
  image_description: 'The plot displays four violin plots arranged as faceted panels
    showing salary distributions across four departments: Support (brown/tan), Marketing
    (purple), Engineering (Python Blue), and Sales (orange). Each violin shows a mirrored
    KDE density shape with a thick dark IQR rule and a white median dot with dark
    border inside. Support is centered around $55,000 with a compact unimodal shape;
    Marketing around $72,000 with wider spread; Engineering around $91,000 with the
    widest unimodal spread; and Sales shows a distinctive bimodal distribution with
    two humps (base salary ~$50k and commission earners ~$92k). The title "violin-basic
    · altair · pyplots.ai" appears at the top in large font. The y-axis is labeled
    "Salary ($)" with comma-formatted values from ~10,000 to ~140,000. Department
    labels appear below each violin. The grid is subtle with dashed lines at low opacity.
    No view borders or density axis labels are shown — clean, professional appearance.'
  criteria_checklist:
    visual_quality:
      score: 30
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 8
        passed: true
        comment: 'All font sizes explicitly set: title 28pt, axis title 22pt, tick
          labels 18pt, facet headers 20pt'
      - id: VQ-02
        name: No Overlap
        score: 6
        max: 6
        passed: true
        comment: No overlapping text anywhere. Clean facet spacing and label positioning
      - id: VQ-03
        name: Element Visibility
        score: 6
        max: 6
        passed: true
        comment: Violins well-sized, IQR rules thick (strokeWidth=5), median dots
          large (size=250) with high contrast
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 4
        passed: true
        comment: 'Custom colorblind-safe palette with maximally distinct hues: brown,
          purple, Python Blue, orange'
      - id: VQ-05
        name: Layout & Canvas
        score: 4
        max: 4
        passed: true
        comment: Tall violins fill canvas well with balanced spacing. Nothing cut
          off
      - id: VQ-06
        name: Axis Labels & Title
        score: 2
        max: 2
        passed: true
        comment: Y-axis labeled Salary ($) with units. Density axis correctly hidden
    design_excellence:
      score: 15
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 6
        max: 8
        passed: true
        comment: Custom palette, intentional ordering, professional appearance clearly
          above defaults
      - id: DE-02
        name: Visual Refinement
        score: 5
        max: 6
        passed: true
        comment: Subtle dashed grid (opacity 0.2), view strokes removed, density axis
          hidden, generous spacing
      - id: DE-03
        name: Data Storytelling
        score: 4
        max: 6
        passed: true
        comment: Intentional ordering creates salary progression narrative with bimodal
          Sales as focal point
    spec_compliance:
      score: 14
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: Correct violin plot using KDE with mirrored density shapes
      - id: SC-02
        name: Required Features
        score: 3
        max: 4
        passed: true
        comment: Quartile markers via IQR rule, mirrored density, median shown as
          dot not line (minor deviation from spec)
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: Category on X via facets, Salary on Y. All data visible with appropriate
          extent padding
      - id: SC-04
        name: Title & Legend
        score: 3
        max: 3
        passed: true
        comment: Title follows exact format. Legend correctly omitted since facet
          headers provide category labels
    data_quality:
      score: 15
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 6
        max: 6
        passed: true
        comment: 'Excellent variety: unimodal distributions with different spreads
          plus bimodal Sales demonstrating violin advantage'
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 5
        passed: true
        comment: 'Salary by department: real-world business scenario with bimodal
          Sales reflecting base plus commission'
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 4
        passed: true
        comment: Realistic salary values for each department role
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Clean Imports, Data, Plot, Save structure with no functions or classes
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: np.random.seed(42) set at the start
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All three imports used, no unused imports
      - id: CQ-04
        name: Code Elegance
        score: 2
        max: 2
        passed: true
        comment: Clean declarative Altair code with appropriate complexity and good
          comments
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves plot.png with scale_factor=3.0 and plot.html using current
          Altair API
    library_mastery:
      score: 10
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 5
        max: 5
        passed: true
        comment: 'Expert declarative grammar: transform_density, transform_aggregate,
          alt.layer, facet, resolve_scale'
      - id: LM-02
        name: Distinctive Features
        score: 5
        max: 5
        passed: true
        comment: 'Heavily uses Altair-specific: declarative density transform, stack
          center, resolve_scale, configure system, tooltip encoding'
  verdict: APPROVED
