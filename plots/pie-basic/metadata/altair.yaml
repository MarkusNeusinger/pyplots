library: altair
specification_id: pie-basic
created: '2025-12-23T00:35:02Z'
updated: '2026-02-14T15:09:37Z'
generated_by: claude-opus-4-6
workflow_run: 20447773724
issue: 0
python_version: 3.14.0
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/pie-basic/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/pie-basic/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/pie-basic/altair/plot.html
quality_score: 90
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - layer-composition
  - html-export
  patterns: []
  dataprep: []
  styling:
  - edge-highlighting
  - minimal-chrome
review:
  strengths:
  - Excellent use of Altair's radiusOffset for the exploded AWS slice — a clean declarative
    approach
  - Two well-placed annotations that add genuine narrative context to the data
  - Custom color palette with Python Blue first, professional typography hierarchy
    with explicit font sizes
  - 'Perfect spec compliance: all four requirements (percentage labels, distinct colors,
    legend, exploded slice) are met'
  - Realistic cloud market share data that makes the chart immediately comprehensible
  - 'Clean visual refinement: cornerRadius, padAngle, white strokes, and removed view
    borders'
  weaknesses:
  - Minor label crowding between the 3% and 4% percentage labels on the smallest slices
  - Some code duplication from splitting AWS and non-AWS into separate arc + text
    layers (4 layers instead of potentially 2 with conditional encoding)
  - Slight layout asymmetry with more whitespace on the left side of the canvas
  image_description: 'The plot displays a pie chart titled "pie-basic · altair · pyplots.ai"
    with subtitle "Global Cloud Infrastructure Market Share". Six slices represent
    cloud providers: AWS (dark blue, 31%), Azure (yellow, 24%), Google Cloud (teal,
    11%), Alibaba (coral/pink, 4%), Oracle (light green, 3%), and Others (gray, 27%).
    The AWS slice is visibly exploded (offset) from the center to emphasize it as
    the largest provider. Percentage labels are positioned outside each slice in bold
    text. Two italic annotations provide narrative: "AWS leads at 31% — largest single
    provider" in blue (top right) and ''"Others" at 27% collectively outpace all but
    AWS'' in gray (bottom left). A horizontal legend at the bottom lists all six providers
    with colored symbols. The background is clean white with no grid lines or axes.'
  criteria_checklist:
    visual_quality:
      score: 27
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 8
        passed: true
        comment: 'All font sizes explicitly set: title 28pt, subtitle 20pt, legend
          title 20pt, legend labels 18pt, percentage labels 21pt bold'
      - id: VQ-02
        name: No Overlap
        score: 5
        max: 6
        passed: true
        comment: No significant overlap. Minor crowding between 3% and 4% labels on
          small slices
      - id: VQ-03
        name: Element Visibility
        score: 5
        max: 6
        passed: true
        comment: All slices visible. Oracle 3% and Alibaba 4% are thin but distinguishable
          with stroke borders
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 4
        passed: true
        comment: Six distinct hues with good luminance contrast. No red-green-only
          distinction
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 4
        passed: true
        comment: Pie chart well-centered, good canvas utilization. Slight asymmetry
          with more whitespace on left
      - id: VQ-06
        name: Axis Labels & Title
        score: 2
        max: 2
        passed: true
        comment: Descriptive title and subtitle. No axes needed for pie chart
    design_excellence:
      score: 16
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 6
        max: 8
        passed: true
        comment: Custom Python Blue-first palette, professional typography hierarchy,
          white stroke borders with corner radius on arcs
      - id: DE-02
        name: Visual Refinement
        score: 5
        max: 6
        passed: true
        comment: View stroke removed, clean background, horizontal legend at bottom,
          cornerRadius and padAngle polish
      - id: DE-03
        name: Data Storytelling
        score: 5
        max: 6
        passed: true
        comment: 'Two annotations guide interpretation: AWS as market leader and Others
          collectively outpacing most providers'
    spec_compliance:
      score: 15
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: Correct pie chart type
      - id: SC-02
        name: Required Features
        score: 4
        max: 4
        passed: true
        comment: Percentage labels, distinct colors, legend, and exploded largest
          slice all present
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: Category mapped to color, value mapped to theta angle
      - id: SC-04
        name: Title & Legend
        score: 3
        max: 3
        passed: true
        comment: Title format correct, legend labels match data
    data_quality:
      score: 14
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 5
        max: 6
        passed: true
        comment: Good variation in slice sizes from large 31% to very small 3%
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 5
        passed: true
        comment: Cloud infrastructure market share is a real, neutral business scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 4
        passed: true
        comment: Realistic values that approximate actual market data, sum to 100%
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Imports, data, plot, save pattern. No functions or classes
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: Deterministic hardcoded data
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only altair and pandas imported, both used
      - id: CQ-04
        name: Code Elegance
        score: 1
        max: 2
        passed: true
        comment: Clean but some duplication from separate AWS/non-AWS layers for arcs
          and text
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png with scale_factor=3.0 and plot.html
    library_mastery:
      score: 9
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 5
        max: 5
        passed: true
        comment: 'Expert use of Altair declarative grammar: Chart, mark_arc, encode,
          Theta, Color, Order, transform_filter, layer composition'
      - id: LM-02
        name: Distinctive Features
        score: 4
        max: 5
        passed: true
        comment: Uses radiusOffset for exploded slice, padAngle, cornerRadius on arcs,
          alt.datum for filters, alt.value() for positioning
  verdict: APPROVED
