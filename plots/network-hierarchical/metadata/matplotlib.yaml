library: matplotlib
specification_id: network-hierarchical
created: '2026-01-08T22:40:02Z'
updated: '2026-01-08T22:42:38Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20834071969
issue: 3343
python_version: 3.13.11
library_version: 3.10.8
preview_url: https://storage.googleapis.com/pyplots-images/plots/network-hierarchical/matplotlib/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/network-hierarchical/matplotlib/plot_thumb.png
preview_html: null
quality_score: 91
review:
  strengths:
  - Excellent hierarchical layout with nodes centered over their children
  - Effective use of color to distinguish hierarchy levels
  - Clean visual design with white node outlines and subtle gray edges
  - Good node sizing that reflects hierarchy importance
  - Well-placed legend that does not interfere with the graph
  weaknesses:
  - Code uses a helper function count_descendants() which violates the KISS principle
    (no functions/classes)
  - Title format includes extra descriptive text before the spec-id
  - Some labels on the right edge (Helper) appear slightly close to canvas boundary
  image_description: The plot displays a hierarchical network graph representing a
    software module hierarchy with 24 nodes across 4 levels. The root node "App" (dark
    blue) is positioned at the top center. Four core modules ("Core", "UI", "Data",
    "Utils") in yellow are on Level 1, spreading horizontally below the root. Level
    2 contains 8 sub-modules (light blue) including "Auth", "Config", "Widget", "Theme",
    "Models", "Store", "Logger", and "Helper". The bottom level (Level 3) has 11 leaf
    modules in gray ("Login", "Sess", "Btns", "Forms", "Grid", "User", "Prod", "Cache",
    "DB", "REST", "Fmt"). Edges are straight gray lines connecting parent-child relationships.
    A legend in the upper-left shows all four level colors. The title uses the correct
    format. The background is white and nodes have white edge outlines for clarity.
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title is 24pt bold, labels are readable though some leaf labels are
          slightly tight at the edge
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text or nodes; spacing is well calculated
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Node sizes vary by level, all clearly visible with good alpha
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue/yellow/gray palette is colorblind-safe with good contrast
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good use of canvas but some nodes near right edge are slightly tight
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: true
        comment: N/A for network graph (axes hidden appropriately)
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Legend well placed in upper-left, no grid needed
    spec_compliance:
      score: 24
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct hierarchical network graph with tree layout
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Nodes organized by levels with parent-child edges correctly mapped
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Has hierarchical layout, level-based positioning, parent-child edges,
          proper node spacing
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All 24 nodes visible within canvas
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly identifies all 4 levels with matching colors
      - id: SC-06
        name: Title Format
        score: 1
        max: 2
        passed: false
        comment: Includes extra descriptive text before the spec-id
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows 4 levels of hierarchy with varying branching (1→4→8→11), demonstrates
          different subtree sizes
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Software module hierarchy is a plausible, neutral real-world scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: 24 nodes is appropriate for the spec's 10-50 node recommendation
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 1
        max: 3
        passed: false
        comment: Code defines a helper function count_descendants which violates KISS
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42) at the start
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: No deprecated APIs used
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png
    library_features:
      score: 5
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 5
        max: 5
        passed: true
        comment: 'Good use of matplotlib features: scatter with varying sizes, annotations,
          manual positioning, patches for legend, zorder control'
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - custom-legend
  - patches
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - minimal-chrome
  - alpha-blending
  - edge-highlighting
