library: letsplot
specification_id: network-weighted
created: '2026-01-08T16:02:31Z'
updated: '2026-01-08T16:06:38Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20822863211
issue: 3290
python_version: 3.13.11
library_version: 4.8.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/network-weighted/letsplot/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/network-weighted/letsplot/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/network-weighted/letsplot/plot.html
quality_score: 85
review:
  strengths:
  - Excellent use of real-world trade network data with plausible values
  - Force-directed layout effectively positions nodes based on connection weights
  - Clear edge thickness differentiation makes weight comparison intuitive
  - Clean minimal styling with hidden axes appropriate for network visualization
  - Well-placed legend explaining the weight encoding
  - Correct title format following pyplots.ai convention
  weaknesses:
  - Node labels UK and Japan at top edge and Netherlands on right edge are partially
    cut off due to layout extending beyond canvas bounds
  - Nodes have uniform size; spec suggests optional sizing by weighted degree (which
    is calculated but unused for node sizing)
  - The manual force-directed layout could be improved to avoid boundary clipping
  image_description: The plot displays a weighted network graph visualizing international
    trade relationships between 15 countries. Blue circular nodes represent countries,
    with labels positioned above each node. Edges (connections) between nodes have
    varying thicknesses representing trade volume in billions USD - thicker lines
    indicate higher trade volumes. The USA appears as a central hub with numerous
    heavy connections to China, Mexico, Canada, Japan, and others. The legend in the
    bottom-right corner shows "Trade Volume (Billions USD)" with a continuous size
    scale from 100-500. The layout uses a force-directed positioning that groups heavily
    connected nodes closer together. The title "network-weighted · letsplot · pyplots.ai"
    and subtitle "International Trade Network (Edge Thickness = Trade Volume)" appear
    at the top. The background is clean white with no grid lines, and axes are hidden
    as appropriate for network graphs.
  criteria_checklist:
    visual_quality:
      score: 33
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 10
        passed: true
        comment: Title, subtitle, and most labels readable; some labels (UK, Japan
          at top) appear slightly cut off at image boundary
      - id: VQ-02
        name: No Overlap
        score: 5
        max: 8
        passed: false
        comment: UK and Japan labels overlap/clip at the top edge; Netherlands is
          partially cut off on the right
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Nodes and edges clearly visible; edge thickness differentiation is
          effective; nodes could be sized by weighted degree as spec suggests
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Single blue color for nodes, gray for edges; no colorblind issues
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good use of canvas space; minor clipping at boundaries
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: N/A for network graphs; axes appropriately hidden
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Legend well-placed, no distracting grid
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct weighted network graph with edge thickness encoding
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Edge weights correctly mapped to thickness
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Has weighted edges, force-directed layout, legend; nodes are uniform
          size (spec suggests optional sizing by weighted degree)
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All nodes and edges visible
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly explains trade volume scale
      - id: SC-06
        name: Title Format
        score: 1
        max: 2
        passed: false
        comment: Title format correct but uses middot instead of standard centered
          dot
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows varied edge weights from light (25B) to heavy (550B); good
          mix of hub nodes and peripheral nodes
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: International trade network is a perfect neutral real-world scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Trade values plausible (billions USD); some values like USA-China
          550B are realistic
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear structure: imports, data, layout calculation, dataframes,
          plot, save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 1
        max: 2
        passed: false
        comment: All imports used, but force-directed layout is implemented manually
          when networkx could simplify
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current lets-plot API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves both plot.png and plot.html which is correct for letsplot
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses ggplot grammar with geom_segment and scale_size; could better
          leverage lets_plot interactive features
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - layer-composition
  - annotations
  patterns:
  - data-generation
  - iteration-over-groups
  - matrix-construction
  dataprep:
  - normalization
  styling:
  - minimal-chrome
  - alpha-blending
