library: altair
specification_id: linked-views-selection
created: '2026-01-08T21:55:13Z'
updated: '2026-01-08T22:10:05Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20832961587
issue: 3344
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/linked-views-selection/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/linked-views-selection/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/linked-views-selection/altair/plot.html
quality_score: 91
review:
  strengths:
  - Excellent implementation of Altair's native linked selection using selection_interval()
    and conditional encoding
  - Clean, readable code structure with well-organized chart composition using hconcat/vconcat
  - Good colorblind-safe color palette consistent across all views
  - Appropriate subtitle explaining the interaction mechanism to users
  - Realistic Iris-like data that demonstrates the linked views concept effectively
  weaknesses:
  - Layout could be improved - the stacked right column makes the bar chart feel somewhat
    disconnected
  - Could include selection count or summary statistics as mentioned in spec (optional
    feature)
  - Equal sample sizes (50 each) do not showcase the dynamic filtering as dramatically
    as varied sizes would
  image_description: |-
    The plot displays three coordinated views for exploring Iris-like flower data with linked selection:

    1. **Left panel (Sepal Dimensions)**: A scatter plot showing Sepal Length (cm) on the x-axis vs Sepal Width (cm) on the y-axis. Points are colored by species: blue (#306998) for Setosa, yellow (#FFD43B) for Versicolor, and red (#E24A33) for Virginica. The three species form distinct clusters - Setosa in the upper left with high sepal width and low sepal length, Versicolor scattered in the middle, and Virginica spread on the right side.

    2. **Top-right panel (Petal Length Distribution)**: A stacked histogram showing the distribution of Petal Length (cm) binned across all species. The histogram reveals clear separation - Setosa concentrated in the 0.5-2.0 cm range, while Versicolor and Virginica overlap in the 4-6 cm range.

    3. **Bottom-right panel (Species Distribution)**: A bar chart showing counts per species, with all three bars at 50 points each (equal sample sizes).

    The main title "linked-views-selection · altair · pyplots.ai" appears at the top with a subtitle explaining the interaction: "Brush on scatter plot to filter all views | Click and drag to select". A legend for Species appears on the right side of the histogram. Colors are consistent across all three views.
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: All text readable; title and axis labels well-sized, tick labels
          slightly smaller than ideal
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Markers appropriately sized for 150 data points, good density
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Excellent colorblind-safe palette (blue, yellow, red)
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 5
        passed: true
        comment: Good overall but bottom-right chart creates some imbalance with vertical
          stacking
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Clear descriptive labels with units (cm)
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Subtle grid (alpha=0.3), legend well-placed
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct implementation of linked views with multiple chart types
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: X/Y correctly mapped; categorical and numeric dimensions properly
          used
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: 'All spec features present: 3 coordinated views, selection sync,
          consistent colors, de-emphasized unselected points, clear selection mechanism'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible, scales use zero=False appropriately
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Species legend accurate and clear
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: linked-views-selection · altair · pyplots.ai'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 6
        max: 8
        passed: true
        comment: Good demonstration of brushing-and-linking across scatter, histogram,
          and bar chart; could benefit from more variation in category sizes
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Iris-like botanical measurement data is perfect for this visualization
          type
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Realistic flower measurements in cm with appropriate distributions
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Clean linear flow: imports → data → charts → combine → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only altair, numpy, pandas imported
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Altair 5 API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: 'Saves both plot.png and plot.html (minor: spec did not require HTML)'
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Good use of Altair's declarative linked selection with selection_interval(),
          conditional encoding, and hconcat/vconcat. Could leverage more advanced
          features like selection_point for click selection or dynamic legend filtering.
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - hover-tooltips
  - html-export
  - layer-composition
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep:
  - binning
  styling:
  - alpha-blending
  - grid-styling
