library: bokeh
specification_id: subplot-mosaic
created: '2025-12-31T10:58:44Z'
updated: '2025-12-31T11:24:35Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20617510121
issue: 3002
python_version: 3.13.11
library_version: 3.8.1
preview_url: https://storage.googleapis.com/pyplots-images/plots/subplot-mosaic/bokeh/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/subplot-mosaic/bokeh/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/subplot-mosaic/bokeh/plot.html
quality_score: 90
impl_tags:
  dependencies: []
  techniques:
  - subplots
  patterns:
  - data-generation
  - columndatasource
  dataprep: []
  styling:
  - grid-styling
review:
  strengths:
  - Excellent demonstration of mosaic layout concept with 6 diverse subplots of varying
    sizes
  - Cohesive visual design with Python brand colors (blue/yellow) and consistent styling
  - Realistic business dashboard scenario with meaningful metrics (revenue, profitability,
    sales, satisfaction)
  - Good use of Bokeh row/column layout system to create asymmetric grid
  - Legends are consistently styled with appropriate font sizes and background alpha
  - All subplots have clear, descriptive titles and axis labels with units
  weaknesses:
  - Code defines unused data sources (source_e1, source_e2 for conversion rate) that
    clutter the implementation
  - The Theme object is imported and defined but never applied via curdoc; apply_theme()
    duplicates this functionality
  - Helper function apply_theme() breaks KISS principle; grid styling could be inlined
  - Font sizes on smaller subplots (conversion rate, satisfaction) could be slightly
    larger for better readability
  - Could demonstrate Bokeh interactive features (hover tools, linked brushing) for
    richer dashboard experience
  image_description: 'The plot displays a business dashboard mosaic layout with 6
    subplots of varying sizes:

    1. **Top-left (large, ~2/3 width)**: "Quarterly Revenue Overview" - Blue line
    chart with markers showing daily revenue ($50k-$62k) over 90 days

    2. **Top-right (~1/3 width)**: "Product Profitability" - Scatter plot with blue
    (Premium Line) and yellow (Standard Line) dots showing profit margin vs units
    sold

    3. **Middle-left (~half width)**: "Sales by Category" - Blue vertical bar chart
    for Electronics, Clothing, Food, Books

    4. **Middle-right top (small)**: "Conversion Rate (%)" - Line chart with blue
    and yellow lines tracking weekly conversion rates

    5. **Middle-right bottom (small)**: "Customer Satisfaction" - Yellow bar chart
    showing quarterly scores (Q1-Q4: 78-88)

    6. **Bottom (full width)**: Main title "subplot-mosaic 路 bokeh 路 pyplots.ai" -
    Dual line chart comparing 2023 (blue) vs 2024 (green) monthly orders


    Colors: Python Blue (#306998), Python Yellow (#FFD43B), Accent Green (#4CAF50).
    Legends present on most subplots. Dashed subtle grids. Clean professional appearance.'
  criteria_checklist:
    visual_quality:
      score: 35
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 7
        max: 10
        passed: true
        comment: Titles and major labels readable; some smaller subplot labels could
          be larger
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text anywhere
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Good marker/line sizing for data density
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Colorblind-safe palette (blue/yellow/green)
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Excellent mosaic demonstration; good use of space
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: 'Labels include units: Revenue ($), Profit Margin (%), Sales ($),
          Score'
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Subtle dashed grids (alpha 0.3), well-placed legends
    spec_compliance:
      score: 24
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct mosaic layout with varying subplot sizes
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: X/Y correctly assigned across all subplots
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Multiple plot types (line, scatter, bar), different sizes, cell spanning.
          Empty cell gap feature partially implemented.
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All axes show complete data
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Accurate legends with meaningful labels
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Correct format "subplot-mosaic 路 bokeh 路 pyplots.ai"
    data_quality:
      score: 20
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: 'Excellent variety: time series, scatter, bars, comparisons, trends'
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Business dashboard scenario is realistic and neutral
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Realistic values (revenue $50-60k, margins 5-45%, satisfaction 78-88%)
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 2
        max: 3
        passed: true
        comment: Has apply_theme() helper function; defines unused data sources (source_e1,
          source_e2)
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 1
        max: 2
        passed: true
        comment: Theme is imported but only used to define an unused theme variable;
          apply_theme uses direct attribute assignment instead
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Bokeh API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 3
        max: 5
        passed: true
        comment: Good use of row/column layouts, ColumnDataSource, Legend/LegendItem,
          Spacer; could add linked axes or hover tools
  verdict: APPROVED
