library: pygal
specification_id: ohlc-bar
created: '2026-01-08T16:12:54Z'
updated: '2026-01-08T16:24:48Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20823200220
issue: 3293
python_version: 3.13.11
library_version: 3.1.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/ohlc-bar/pygal/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/ohlc-bar/pygal/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/ohlc-bar/pygal/plot.html
quality_score: 90
review:
  strengths:
  - Correct OHLC bar representation using pygal XY chart with creative line segment
    approach
  - Good color differentiation between bullish (green) and bearish (red) bars
  - Clean code structure following KISS principles
  - Appropriate font sizes for the 4800x2700 canvas
  - Realistic stock price data generation with proper OHLC relationships
  weaknesses:
  - X-axis shows numeric indices instead of actual date labels despite dates being
    generated
  - Missing horizontal grid lines which spec mentions for reading price levels
  - Legend labels in output differ from code comments (Up/Down vs Bullish/Bearish)
  image_description: 'The plot displays an OHLC (Open-High-Low-Close) bar chart with
    40 trading days of stock price data on a white background. Green bars indicate
    bullish days (close ≥ open) and red bars indicate bearish days (close < open).
    Each OHLC bar correctly shows: a vertical line for the high-low range, a left
    horizontal tick for the opening price, and a right horizontal tick for the closing
    price. The chart shows a general downtrend from approximately $150 to $130 over
    the period. The title "ohlc-bar · pygal · pyplots.ai" appears at top center. Y-axis
    is labeled "Price ($)" ranging from ~130 to ~166. X-axis is labeled "Trading Day"
    with numeric indices 0-36. A legend at the bottom shows "Up (Close ≥ Open)" in
    green and "Down (Close < Open)" in red. Light gray dashed vertical grid lines
    are visible.'
  criteria_checklist:
    visual_quality:
      score: 35
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title, axis labels, and tick labels are all clearly readable at the
          canvas size
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements; bars are well-spaced
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: OHLC bars are visible and distinguishable, though some bars overlap
          slightly due to data density
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Green/red color scheme is standard for financial charts and has good
          contrast on white background
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 5
        passed: true
        comment: Good use of canvas space, but x-axis shows numeric indices instead
          of date labels which reduces context
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Y-axis has Price ($) with units, X-axis has Trading Day which is
          descriptive
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Only vertical grid lines visible; missing horizontal guides for price
          levels; legend is well-placed but uses different label format than code
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct OHLC bar chart with vertical lines and horizontal ticks
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Date on X-axis, price on Y-axis, OHLC values correctly mapped
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Has open/close ticks, high-low lines, color coding; but spec mentions
          horizontal grid lines for reading price levels which are missing
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data points visible within axes range
      - id: SC-05
        name: Legend Accuracy
        score: 1
        max: 2
        passed: true
        comment: Legend labels differ from code (shows Up/Down not Bullish/Bearish)
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: ohlc-bar · pygal · pyplots.ai'
    data_quality:
      score: 19
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: Shows both bullish and bearish bars, various price ranges, realistic
          price movements
      - id: DQ-02
        name: Realistic Context
        score: 6
        max: 7
        passed: true
        comment: Plausible stock price scenario with business days, but no specific
          stock context
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Price values ($130-$166) are realistic for stock prices
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Clean imports → data → plot → save structure, no unnecessary functions/classes
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42) for reproducibility
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used (numpy, pandas, pygal, Style)
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current pygal API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses pygal Style customization and XY chart with line segments to
          create OHLC bars; creative use of None separators for discontinuous lines
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep:
  - time-series
  styling: []
