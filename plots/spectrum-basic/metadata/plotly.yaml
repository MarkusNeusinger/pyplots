library: plotly
specification_id: spectrum-basic
created: '2025-12-31T05:35:05Z'
updated: '2025-12-31T05:47:43Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20612812571
issue: 2926
python_version: 3.13.11
library_version: 6.5.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/spectrum-basic/plotly/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/spectrum-basic/plotly/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/spectrum-basic/plotly/plot.html
quality_score: 93
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - fill-under-curve
  - html-export
  patterns:
  - data-generation
  dataprep: []
  styling: []
review:
  strengths:
  - Excellent peak annotation with clear yellow arrows pointing to dominant frequencies
  - Clean dB scale calculation with proper normalization and epsilon for log safety
  - Realistic synthetic signal with three distinct frequency components plus noise
  - Proper use of FFT with rfft/rfftfreq for real-valued signals
  - Well-proportioned fill area under the curve enhances visual clarity
  weaknesses:
  - Does not leverage Plotly's interactive features (hover tooltips showing exact
    dB values, zoom capabilities display)
  - Grid transparency could be more subtle (currently visible but not obtrusive)
  image_description: The plot displays a frequency spectrum showing amplitude (dB)
    on the Y-axis (ranging from -80 to 0) versus frequency (Hz) on the X-axis (ranging
    from 0 to 500). The spectrum is rendered as a blue line (#306998) with a light
    blue fill underneath. Three prominent peaks are clearly visible at 50 Hz, 120
    Hz, and 300 Hz, each annotated with yellow arrow pointers and labeled with their
    respective frequencies. The 50 Hz peak is the strongest at approximately -3 dB,
    the 120 Hz peak reaches about -10 dB, and the 300 Hz peak is around -15 dB. A
    noisy baseline fluctuates between -45 and -70 dB. The title "spectrum-basic ·
    plotly · pyplots.ai" is centered at the top. The background is white with subtle
    gray grid lines.
  criteria_checklist:
    visual_quality:
      score: 38
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title, axis labels, and tick marks are all clearly readable at appropriate
          sizes
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text; annotations are well-positioned above peaks
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Line width is appropriate for the frequency resolution; peaks are
          clearly distinguishable from noise floor
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue color scheme with yellow annotations provides good contrast
          and is colorblind-safe
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Plot fills the canvas well with balanced margins
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: 'Both axes have descriptive labels with units: "Frequency (Hz)" and
          "Amplitude (dB)"'
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Grid is present but alpha is slightly high; no legend needed for
          single trace
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct frequency spectrum line plot
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Frequency correctly on X-axis, amplitude (dB) on Y-axis
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: FFT computation, dB scale, peak annotations as suggested in spec
          notes
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: X-axis limited to 0-500 Hz showing the meaningful frequency range
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Single trace, no legend needed; trace named appropriately
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: "spectrum-basic · plotly · pyplots.ai"'
    data_quality:
      score: 20
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: Shows multiple frequency components at different amplitudes, plus
          realistic noise floor
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Signal processing scenario with plausible 50/120/300 Hz components
          (power line frequency, harmonics)
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Frequency range (0-500 Hz) and dB values (-80 to 0) are realistic
          for audio/electrical signals
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Clean linear flow: imports → data generation → FFT → plot → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only numpy and plotly.graph_objects imported, both used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Plotly APIs
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 0
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 0
        max: 5
        passed: false
        comment: While the implementation is correct, it doesn't leverage Plotly's
          interactive features in the static output; the fill area and annotations
          are basic plotly features but nothing that showcases Plotly's unique strengths
          like hover info customization or range sliders
  verdict: APPROVED
