library: bokeh
specification_id: parallel-categories-basic
created: '2025-12-30T00:05:32Z'
updated: '2025-12-30T00:13:57Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20585401180
issue: 0
python_version: 3.13.11
library_version: 3.8.1
preview_url: https://storage.googleapis.com/pyplots-images/plots/parallel-categories-basic/bokeh/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/parallel-categories-basic/bokeh/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/parallel-categories-basic/bokeh/plot.html
quality_score: 91
review:
  strengths:
  - Excellent implementation of parallel categories from first principles using Bokeh
    patches API
  - Smooth bezier curves for ribbons create professional appearance
  - Color scheme (Python blue/yellow + green) is distinctive and colorblind-accessible
  - Realistic product journey data with conditional probabilities creates meaningful
    flow patterns
  - Both PNG and HTML outputs provided for static and interactive use
  - Text sizes appropriately scaled for 4800x2700 canvas
  weaknesses:
  - Some thinner ribbons representing less common paths are harder to trace visually
  - Legend placement in upper right creates slight visual imbalance with the main
    chart
  image_description: 'The plot displays a parallel categories diagram with three dimensions:
    Channel (left), Category (middle), and Outcome (right). Each dimension is represented
    by a dark gray vertical bar with category labels positioned beside them. Colored
    ribbons with bezier curves connect categories across dimensions, showing the flow
    of 500 simulated product journey observations. The color scheme uses blue (#306998)
    for Online, yellow (#FFD43B) for Store, and green (#4DAF4A) for Mobile channels.
    A legend in the upper right corner identifies these colors. Dimension titles ("Channel",
    "Category", "Outcome") appear at the top. Category labels are clearly readable:
    Mobile/Store/Online on the left, Home/Clothing/Electronics in the middle, and
    Exchanged/Returned/Purchased on the right. The background is a subtle light gray
    (#FAFAFA), and ribbons have 60% opacity to show overlapping flows.'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 48pt, dimension labels at 36pt, category labels at 28pt,
          legend at 24pt - all clearly readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text, labels positioned to avoid collisions
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Ribbons well-sized with good alpha transparency; minor deduction
          for some thin ribbons being less visible
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue/yellow/green palette is colorblind-friendly, avoids red-green
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good use of canvas, but legend placement creates slight asymmetry
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: true
        comment: N/A for parallel categories (no traditional axes), dimension titles
          serve this purpose
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Grid appropriately hidden, manual legend well-placed
    spec_compliance:
      score: 24
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct parallel categories visualization with ribbons
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Three categorical dimensions correctly mapped
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: 'Width-proportional ribbons present, color by first dimension; minor:
          no interactive highlighting (though HTML version available)'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All categories visible, full range shown
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly identifies channel colors
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: '"parallel-categories-basic · bokeh · pyplots.ai" format correct'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows diverse flows, varying ribbon widths, crossings between categories;
          could show more variation in outcome proportions
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Product purchase journey (Channel → Category → Outcome) is a realistic
          e-commerce scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: 500 observations with 3 dimensions × 3 categories each is reasonable;
          probabilities create realistic patterns
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear flow: imports → data → calculations → plot → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: '`np.random.seed(42)` set'
      - id: CQ-03
        name: Clean Imports
        score: 1
        max: 2
        passed: true
        comment: All imports used, but `Label` could be consolidated
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Bokeh API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 4
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 4
        max: 5
        passed: true
        comment: Implements parallel categories from scratch using Bokeh primitives
          (patches, ColumnDataSource, Labels); saves both PNG and HTML for interactivity
  verdict: APPROVED
