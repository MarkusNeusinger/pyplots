library: highcharts
specification_id: map-drilldown-geographic
created: '2026-01-20T07:42:31Z'
updated: '2026-01-20T07:45:29Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21163297442
issue: 3770
python_version: 3.13.11
library_version: unknown
preview_url: https://storage.googleapis.com/pyplots-images/plots/map-drilldown-geographic/highcharts/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/map-drilldown-geographic/highcharts/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/map-drilldown-geographic/highcharts/plot.html
quality_score: 88
review:
  strengths:
  - Excellent use of Highcharts Maps with proper TopoJSON integration and drilldown
    capability
  - Clean code structure using inline JavaScript configuration pattern appropriate
    for Highcharts
  - Good colorblind-safe sequential color scale for choropleth
  - Professional appearance with clear title, subtitle, and legend
  - Interactive features (drilldown, tooltips, hover) properly implemented
  - Appropriate data context (regional sales) that demonstrates the visualization
    purpose
  weaknesses:
  - Only 2-level hierarchy (US → states → cities) instead of 3 levels (country → state
    → city as spec suggests)
  - Title format appears to use standard characters instead of the proper middle dot
    (·) Unicode character
  - Label overlap in densely packed Northeast region
  - Drilldown only available for 10 states out of 50 (limited city data coverage)
  image_description: The plot displays a choropleth map of the United States showing
    regional sales performance in millions of dollars. States are colored using a
    sequential blue color scale ranging from light blue (low values, ~$0M) to dark
    blue (high values, ~$250M). California shows the darkest blue color indicating
    highest sales (~$245M), followed by New York and Texas with moderately dark blue.
    Each state is labeled with its name. The legend on the right side shows the "Sales
    ($M)" scale with values from $0M to $250M. The title reads "map-drilldown-geographic
    · highcharts · pyplots.ai" and the subtitle indicates "Regional Sales Performance
    ($M) — Click a state to drill down to cities". The layout uses the standard US
    projection with Alaska and Hawaii shown below the continental states. White borders
    separate each state clearly.
  criteria_checklist:
    visual_quality:
      score: 34
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title and subtitle are clear and readable, state labels are visible
          though some smaller states (e.g., Rhode Island, Delaware) have crowded labels
      - id: VQ-02
        name: No Overlap
        score: 6
        max: 8
        passed: true
        comment: Some state labels in the Northeast region overlap or are tightly
          spaced (NJ, DE, MD, CT, RI, MA)
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Map elements are well sized, states clearly distinguishable by color
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Sequential blue colormap is colorblind-safe, good contrast
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good use of canvas space, slight asymmetry with legend placement
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: N/A for maps, but legend clearly labeled with units $M
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: true
        comment: Legend well placed but takes significant vertical space
    spec_compliance:
      score: 22
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct choropleth map with drilldown capability
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Sales values correctly mapped to state colors
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Drilldown implemented, breadcrumb navigation present, tooltips work.
          However, only 2 levels instead of 3 levels as spec suggests
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All 50 states visible with appropriate color range
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly shows sales range in $M
      - id: SC-06
        name: Title Format
        score: 0
        max: 2
        passed: false
        comment: Title uses Unicode escape sequence for middle dot but should verify
          rendering
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Good variety in sales values showing different regions, but city
          drilldown only available for 10 states
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Regional sales performance is a neutral, business-relevant scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Sales values are plausible for state-level aggregation
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Clean linear structure: imports, data, config, render'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Deterministic data (hardcoded values, no random generation)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only necessary imports used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Using current Highcharts Maps API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves as plot.png and plot.html
    library_features:
      score: 5
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 5
        max: 5
        passed: true
        comment: Excellent use of Highcharts Maps module, drilldown module, breadcrumb
          navigation, hover states, tooltips, and color axis
  verdict: REJECTED
impl_tags:
  dependencies:
  - selenium
  techniques:
  - html-export
  - hover-tooltips
  - colorbar
  patterns:
  - data-generation
  dataprep: []
  styling:
  - custom-colormap
  - edge-highlighting
