library: altair
specification_id: contour-map-geographic
created: '2026-01-17T11:55:07Z'
updated: '2026-01-18T22:12:16Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21093797329
issue: 3772
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/contour-map-geographic/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/contour-map-geographic/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/contour-map-geographic/altair/plot.html
quality_score: 78
review:
  strengths:
  - Excellent use of Altair geographic projection with TopoJSON world atlas
  - Good layered composition with base map, filled regions, and contour markers
  - Realistic temperature data modeling with latitude dependency, Gulf Stream effect,
    and Alps cold spot
  - Clean, well-structured code following KISS principles
  - Interactive tooltips provide additional data exploration capability
  weaknesses:
  - Contour lines are implemented as scattered dots rather than actual continuous
    isolines - they do not form recognizable line patterns
  - Spec requires labeled contour lines but implementation has no contour value labels
    on the plot
  - Square markers create a pixelated/gridded appearance rather than smooth filled
    contours
  - Geographic coverage is awkward - data rectangle is clipped and does not follow
    coastlines or political boundaries
  - Large empty gray areas on the right side of the map waste canvas space
  image_description: The plot shows a temperature contour map of Europe using a grid
    of colored square markers on a Mercator projection. The geographic basemap displays
    Europe, North Africa, and parts of the Middle East in light gray with subtle country
    borders. Temperature data is overlaid as colored squares covering the region from
    approximately -10°E to 40°E longitude and 35°N to 70°N latitude. The color scale
    ranges from blue (cold, -10°C) through yellow/cream (mild, 10-15°C) to red (warm,
    25-30°C), using a "redyellowblue" reversed colorscheme. Temperature decreases
    noticeably from south to north (Mediterranean regions in red, Scandinavia in blue).
    Dark gray dots are scattered across the visualization representing contour line
    boundaries. A colorbar legend on the right shows "Temperature (°C)" with values
    from -10 to 30. The title reads "European Temperature · contour-map-geographic
    · altair · pyplots.ai" at the top.
  criteria_checklist:
    visual_quality:
      score: 32
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title and legend text are readable, appropriately sized
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements
      - id: VQ-03
        name: Element Visibility
        score: 5
        max: 8
        passed: false
        comment: Square markers create gridded appearance; contour lines are scattered
          dots that don't form visible lines
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Red-yellow-blue diverging colormap is colorblind-friendly
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 5
        passed: false
        comment: Data only covers western portion; large gray empty areas to right
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: false
        comment: No axis labels (map projection context)
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Legend well-placed with clear temperature scale
    spec_compliance:
      score: 18
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 8
        passed: false
        comment: Approximation using squares, not true contour lines; dots don't form
          actual isolines
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Lat/lon correctly mapped to geographic projection
      - id: SC-03
        name: Required Features
        score: 3
        max: 5
        passed: false
        comment: Missing labeled contour lines as specified; filled contours approximated
          but not smooth
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Temperature range -10 to 30°C visible and appropriate
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly shows Temperature (°C)
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Title follows format with descriptive prefix
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows temperature gradient from south to north, includes cold Alps
          spot, good variation
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: European temperature map is a perfect real-world scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Temperature values are realistic for Europe
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Clean linear structure: imports → data → plot → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only necessary imports
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Modern Altair API usage
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 0
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 0
        max: 5
        passed: false
        comment: Does not use Altair's actual contour capabilities; workaround with
          square marks is not leveraging library strengths
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - layer-composition
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep:
  - binning
  styling:
  - custom-colormap
  - alpha-blending
