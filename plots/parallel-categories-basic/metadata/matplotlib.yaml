library: matplotlib
specification_id: parallel-categories-basic
created: '2025-12-30T00:04:38Z'
updated: '2025-12-30T00:22:19Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20585400230
issue: 0
python_version: 3.13.11
library_version: 3.10.8
preview_url: https://storage.googleapis.com/pyplots-images/plots/parallel-categories-basic/matplotlib/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/parallel-categories-basic/matplotlib/plot_thumb.png
preview_html: null
quality_score: 91
impl_tags:
  dependencies: []
  techniques:
  - bezier-curves
  - patches
  - custom-legend
  patterns:
  - data-generation
  - matrix-construction
  - iteration-over-groups
  dataprep: []
  styling:
  - alpha-blending
  - minimal-chrome
review:
  strengths:
  - Excellent implementation of parallel categories using matplotlib low-level Path
    API with smooth bezier curve ribbons
  - Clean visual design with dark navy category bars and white text labels
  - Proper ribbon width proportional to observation counts showing flow patterns
  - Good color coding by source channel with appropriate transparency for overlapping
    ribbons
  - Realistic e-commerce customer journey scenario (Channel → Category → Outcome)
  - Title follows exact required format
  weaknesses:
  - Online (blue) and Mobile (lighter blue) colors in legend are too similar and could
    be confused; recommend using more distinct colors like green for Mobile
  - The second-hop ribbon coloring logic uses mode() which may not accurately trace
    back the original channel for all flows
  image_description: 'The plot displays a parallel categories diagram with three vertical
    dimensions: Channel (Online, Store, Mobile), Category (Sports, Home, Clothing,
    Electronics), and Outcome (Abandoned, Returned, Purchased). Dark navy blue rectangular
    bars represent each category, with white bold text labels inside. Smooth bezier
    curve ribbons connect categories between dimensions, showing the flow of 500 observations.
    Ribbons are colored by source channel: blue for Online, yellow/gold for Store,
    and a lighter blue for Mobile. The ribbons have appropriate transparency (alpha=0.6)
    showing overlaps. The title "parallel-categories-basic · matplotlib · pyplots.ai"
    appears at the top in dark navy. A legend in the bottom-right shows the Channel
    color coding. The plot uses a white background with no axes or grid.'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 24pt, dimension labels at 20pt, category labels at 14pt
          bold white - all clearly readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text, category labels well-positioned within bars
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Ribbons clearly visible with good alpha, bars well-sized, though
          some ribbon flows are thin
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 5
        passed: true
        comment: Blue/yellow/blue scheme is mostly distinguishable, though Online
          and Mobile blues are similar
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Plot fills canvas well, legend appropriately placed
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Legend well-placed with good formatting, no grid needed
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct parallel categories plot with ribbons connecting categorical
          dimensions
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Three categorical dimensions correctly mapped
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Width-proportional ribbons, color by source dimension, category bars
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All categories visible and properly scaled
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly shows Channel colors
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Follows exact format: parallel-categories-basic · matplotlib · pyplots.ai'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 6
        max: 8
        passed: true
        comment: Shows flow patterns across three dimensions, though random data doesn't
          demonstrate meaningful correlations
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Customer purchase flow scenario is realistic and neutral
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: 500 samples with realistic distribution probabilities
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 2
        max: 3
        passed: true
        comment: Script structure is linear but code is more complex than typical
          KISS style due to manual path creation
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: No deprecated functions
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 3
        max: 5
        passed: true
        comment: Good use of matplotlib.path.Path for bezier curves and mpatches for
          custom shapes, but this is a workaround since matplotlib lacks native parallel
          categories support
  verdict: APPROVED
