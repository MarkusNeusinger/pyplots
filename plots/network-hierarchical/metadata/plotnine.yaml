library: plotnine
specification_id: network-hierarchical
created: '2026-01-08T22:38:20Z'
updated: '2026-01-08T22:48:05Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20834075716
issue: 3343
python_version: 3.13.11
library_version: 0.15.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/network-hierarchical/plotnine/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/network-hierarchical/plotnine/plot_thumb.png
preview_html: null
quality_score: 91
review:
  strengths:
  - Excellent 4-level color scheme that is colorblind-safe and visually distinct
  - Clean hierarchical layout with proportional node sizing by level
  - Good realistic example data (software company org chart)
  - Proper use of plotnine grammar of graphics composition
  - Clean code structure with manual layout calculation
  - All text labels are readable and non-overlapping
  weaknesses:
  - Node labels (size=8) could be slightly larger for better readability at full resolution
  - No edge bundling or curved edges as suggested in spec notes
  - Legend grid/key styling could be improved
  image_description: 'The plot displays a hierarchical organizational chart with 4
    levels (CEO at top, VPs, Directors, and Team members at bottom). The CEO node
    (dark blue, Python Blue #306998) is centered at the top, connected to 3 VP nodes
    (yellow #FFD43B) below. The VPs connect to 8 Director-level nodes (teal #4ECDC4),
    which in turn connect to approximately 20 team member nodes (coral/red #FF6B6B)
    at the bottom level. All nodes have text labels positioned above them. Gray edges
    (#555555) connect parent-child relationships with straight lines. The legend at
    the bottom shows "Hierarchy Level" with color coding for all 4 levels. The title
    "network-hierarchical 路 plotnine 路 pyplots.ai" appears at the top. The white background
    is clean, and axes are removed for a network-style visualization.'
  criteria_checklist:
    visual_quality:
      score: 37
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title at 24pt is excellent, legend text at 16-18pt is good. Node
          labels at size=8 are readable but slightly small for some abbreviations
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text or elements. Labels are well-spaced with nudge_y
          offset
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Node sizes vary by level (16, 12, 9, 6) creating excellent visual
          hierarchy. Edges at size=1.2 with alpha=0.7 are well-balanced
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: 'Excellent colorblind-safe palette: blue, yellow, teal, coral are
          all distinguishable'
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Good canvas utilization, balanced margins, plot fills approximately
          60% of canvas
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Axes appropriately hidden for network visualization using element_blank
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Legend placed at bottom is good, but legend key styling with white
          boxes could be improved
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct hierarchical network graph with tree layout
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Nodes positioned by level (y-axis) and distributed horizontally (x-axis)
          correctly
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Has hierarchical levels, parent-child edges, node labels. Missing
          curved/bundled edges option mentioned in spec notes
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All nodes visible within plot limits
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly shows all 4 hierarchy levels with accurate colors
      - id: SC-06
        name: Title Format
        score: 1
        max: 2
        passed: true
        comment: Uses correct format network-hierarchical 路 plotnine 路 pyplots.ai
    data_quality:
      score: 19
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows 4 distinct levels, varying branch widths. Could have more dramatic
          branching differences
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Software company organizational hierarchy is excellent, neutral,
          realistic scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: 22 nodes across 4 levels is appropriate for readable static visualization
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Clean linear flow: imports, data, layout calculation, dataframes,
          plot, save'
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 3
        passed: true
        comment: No random seed needed as data is deterministic, layout algorithm
          is deterministic
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Current plotnine API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png with dpi=300
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses ggplot grammar with geom_segment, geom_point, geom_text composition,
          scale_color_manual, scale_size_identity. However, plotnine does not have
          native network graph support, so this is essentially simulating a network
          with basic geoms
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - layer-composition
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - minimal-chrome
  - alpha-blending
