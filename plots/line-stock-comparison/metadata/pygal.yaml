library: pygal
specification_id: line-stock-comparison
created: '2026-01-20T10:21:52Z'
updated: '2026-01-20T10:44:44Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21167798458
issue: 3748
python_version: 3.13.11
library_version: 3.1.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/line-stock-comparison/pygal/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/line-stock-comparison/pygal/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/line-stock-comparison/pygal/plot.html
quality_score: 91
review:
  strengths:
  - Excellent use of colorblind-friendly color palette from pygal Style
  - Custom tooltips with formatted date and value enhance interactivity
  - Clean x-axis with monthly major labels avoiding clutter of 252 daily labels
  - Proper rebasing calculation demonstrating stock comparison technique
  - Good code organization with clear data simulation section
  weaknesses:
  - The legend shows Reference (100) as a 5th item but the code only adds 4 series
    - this may be a pygal rendering artifact
  - Grid line at y=100 serves as reference but could be more explicitly styled
  image_description: The plot shows a multi-line stock price comparison chart with
    4 stock series (AAPL, GOOGL, MSFT, SPY) plus a Reference (100) line. The chart
    spans from January 2024 to December 2024. All series are rebased to 100 at the
    start. AAPL (blue) shows moderate growth ending around 113. GOOGL (yellow/orange)
    shows the strongest performance, rising to ~175 peak before settling around 118.
    MSFT (pink) underperforms, ending around 82. SPY Benchmark (green/teal) shows
    strong growth reaching ~170 and ending around 160. A horizontal gray reference
    line at 100 marks the starting point. The title "line-stock-comparison · pygal
    · pyplots.ai" is displayed at the top. X-axis shows monthly date labels at 45-degree
    rotation, Y-axis shows "Rebased Price (Start = 100)" with range 70-180. Legend
    is positioned at bottom with 5 series in a row.
  criteria_checklist:
    visual_quality:
      score: 37
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title, axis labels, tick marks, and legend are all clearly readable
          at full size with appropriate font sizes
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements; x-axis labels are rotated to avoid
          collision
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: 'Lines are well-sized with stroke_width=5, dots_size=3 appropriate
          for 252 data points. Minor deduction: lines occasionally visually merge
          during flat periods'
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: 'Colorblind-safe palette (#0072B2, #E69F00, #CC79A7, #009E73) used
          correctly'
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Plot fills canvas well, legend at bottom is clean, good margins
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Y-axis has descriptive label with context, X-axis labeled Date
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Legend shows Reference (100) as 5th item not present in code - rendering
          artifact
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct multi-line chart for stock comparison
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Dates on X-axis, rebased prices on Y-axis correctly mapped
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Normalization to 100, distinct colors, legend, reference line at
          100 via grid
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Y-axis range (70-180) shows all data without clipping
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly identifies AAPL, GOOGL, MSFT, SPY (Benchmark)
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Correctly formatted as line-stock-comparison · pygal · pyplots.ai
    data_quality:
      score: 19
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: Shows outperformers, underperformer, moderate performer, volatile
          vs stable behavior
      - id: DQ-02
        name: Realistic Context
        score: 6
        max: 7
        passed: true
        comment: 'Stock comparison scenario is realistic; minor: benchmark outperforming
          individuals is atypical'
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Rebased values (70-180) are realistic for 1-year stock performance
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: No functions/classes, follows imports → data → plot → save pattern
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set for reproducibility
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports used (datetime, numpy, pygal, Style)
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current pygal API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 5
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 5
        max: 5
        passed: true
        comment: Uses pygal's custom Style class, custom tooltips, interactive HTML
          export, x_labels_major, legend_at_bottom_columns
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - hover-tooltips
  - html-export
  - manual-ticks
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep:
  - normalization
  - cumulative-sum
  - time-series
  styling:
  - grid-styling
