library: plotly
specification_id: line-stock-comparison
created: '2026-01-20T10:23:03Z'
updated: '2026-01-20T10:25:42Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21167798198
issue: 3748
python_version: 3.13.11
library_version: 6.5.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/line-stock-comparison/plotly/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/line-stock-comparison/plotly/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/line-stock-comparison/plotly/plot.html
quality_score: 92
review:
  strengths:
  - Excellent implementation of the rebasing formula (price / first_price * 100)
  - Good use of geometric Brownian motion for realistic synthetic price data
  - Clean horizontal reference line at 100 with annotation
  - Proper use of Plotly-specific hover templates for informative tooltips
  - Well-structured code following KISS principles
  - Appropriate use of plotly_white template for clean appearance
  weaknesses:
  - The Starting Point (100) annotation text appears quite small relative to other
    text elements
  - Could leverage more Plotly interactive features like range slider (rangeslider)
    for time period selection
  - The colorblind accessibility could be improved by avoiding red-green pairing
  image_description: 'The plot displays a multi-line chart comparing four stock tickers
    (AAPL, GOOGL, MSFT, SPY) over approximately one year of trading data (Jan 2024
    - Dec 2024). All series are rebased to 100 at the starting point. The chart uses
    four distinct colors: blue (AAPL), yellow/gold (GOOGL), red (MSFT), and green
    (SPY). A horizontal dashed gray reference line at y=100 is labeled "Starting Point
    (100)" on the right side. The y-axis shows "Rebased Price (Starting = 100)" ranging
    from ~80 to 180, and the x-axis shows dates. The legend is positioned horizontally
    above the plot. Grid lines are subtle. SPY (green) shows the strongest performance
    ending around 170, followed by GOOGL (yellow) around 125, AAPL (blue) around 118,
    while MSFT (red) underperforms ending around 85.'
  criteria_checklist:
    visual_quality:
      score: 37
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title, axis labels, and tick marks are all clearly readable with
          appropriate font sizes
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements; legend and labels are well-separated
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Line width of 3 is appropriate; all four series are clearly distinguishable
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 5
        passed: true
        comment: Colors are reasonably distinct, though red/green combination could
          be challenging for some colorblind users
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Good use of canvas space with balanced margins
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: 'Descriptive labels with context: Rebased Price (Starting = 100)
          and Date'
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Grid is subtle and appropriate; however the Starting Point (100)
          annotation text appears quite small compared to other text elements
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct multi-line chart for stock comparison
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Date on x-axis, rebased price on y-axis correctly mapped
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: 'All required features present: rebasing to 100, distinct colors,
          legend, reference line at 100, grid lines'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Axes show complete data range appropriately
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly identifies all four stock symbols
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Uses correct format: line-stock-comparison · plotly · pyplots.ai'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: 'Shows variety of performance patterns: outperformer (SPY), underperformer
          (MSFT), and middle performers (AAPL, GOOGL). Could show more correlation/divergence
          patterns'
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Real stock tickers with plausible geometric Brownian motion price
          paths
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Values are realistic for rebased prices over a year (80-180 range).
          The SPY index showing extreme outperformance vs individual tech stocks is
          somewhat unusual
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Clean structure: imports → data generation → plotting → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: 'Only necessary imports: numpy, pandas, plotly.graph_objects'
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Plotly API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 2
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 2
        max: 5
        passed: false
        comment: Uses Plotly-specific features like hovertemplate and hovermode=x
          unified, add_hline() with annotation. However, could better leverage interactive
          range sliders, dropdown selectors, or animation features that make Plotly
          distinctive
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - hover-tooltips
  - html-export
  - annotations
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep:
  - time-series
  - normalization
  styling:
  - grid-styling
