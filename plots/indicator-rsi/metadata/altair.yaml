library: altair
specification_id: indicator-rsi
created: '2026-01-07T20:20:20Z'
updated: '2026-01-07T20:28:32Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20795210835
issue: 3229
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/indicator-rsi/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/indicator-rsi/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/indicator-rsi/altair/plot.html
quality_score: 91
review:
  strengths:
  - Excellent implementation of zone shading using mark_rect with appropriate opacity
  - Proper layered composition combining zones, threshold lines, and RSI line
  - Clean declarative Altair syntax with proper encoding types (T, Q, N)
  - Good use of tooltips for interactivity
  - Correct title format with informative subtitle
  - Proper RSI calculation with 14-period lookback as specified
  weaknesses:
  - RSI data never enters overbought territory (above 70), limiting feature coverage
    demonstration
  - Legend placement overlaps with the overbought zone shading area
  image_description: The plot shows an RSI (Relative Strength Index) chart with a
    blue line tracking RSI values over approximately 120 trading days from January
    2024 to late April 2024. The Y-axis displays RSI values from 0 to 100. The overbought
    zone (70-100) is shaded in light red/pink, and the oversold zone (0-30) is shaded
    in light green. Three horizontal dashed threshold lines are visible at 30 (green),
    50 (gray), and 70 (red). A legend in the top-right corner shows "Threshold Lines"
    with entries for Oversold (30), Neutral (50), and Overbought (70). The RSI line
    fluctuates between approximately 25 and 65, entering the oversold zone multiple
    times but never reaching the overbought zone. The title reads "indicator-rsi ·
    altair · pyplots.ai" with subtitle "14-Period RSI with Overbought/Oversold Zones".
  criteria_checklist:
    visual_quality:
      score: 37
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title, axis labels, legend text all clearly readable at full size
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements anywhere
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: RSI line is clearly visible with strokeWidth=3, zones appropriately
          shaded
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Green/red/blue color scheme with sufficient contrast, zones use low
          opacity
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good layout, but legend in top-right could be positioned better
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: RSI Value and Date are descriptive
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Legend placement overlaps the overbought zone shading
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct RSI line chart type
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Date on X, RSI value on Y correctly mapped
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: 'All features present: fixed Y-axis 0-100, threshold lines at 30/50/70,
          overbought/oversold zone shading'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Y-axis correctly fixed from 0 to 100
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly labels threshold lines
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Uses indicator-rsi · altair · pyplots.ai format
    data_quality:
      score: 16
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 5
        max: 8
        passed: false
        comment: Shows RSI oscillating and entering oversold zone, but never reaches
          overbought zone (70+)
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Stock price RSI over trading days is a realistic, neutral scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: RSI values are within valid 0-100 range, though distribution is slightly
          biased to lower values
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: No functions/classes, follows imports → data → plot → save structure
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only necessary imports (altair, numpy, pandas)
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Altair API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses Altair layered composition, tooltips, and declarative encoding,
          but could use more interactive features
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - layer-composition
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep:
  - time-series
  styling:
  - alpha-blending
  - grid-styling
