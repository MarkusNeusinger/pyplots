library: altair
specification_id: arc-basic
created: '2025-12-23T08:49:37Z'
updated: '2025-12-23T09:04:22Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20455963635
issue: 0
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/arc-basic/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/arc-basic/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/arc-basic/altair/plot.html
quality_score: 91
impl_tags:
  dependencies: []
  techniques:
    - layer-composition
    - html-export
  patterns:
    - data-generation
    - iteration-over-groups
    - matrix-construction
  dataprep: []
  styling:
    - alpha-blending
review:
  strengths:
  - Excellent implementation of arc diagram using Altairs declarative grammar with
    custom path generation
  - Beautiful color scheme using Python blue (#306998) and yellow (#FFD43B) brand
    colors
  - Arc height correctly proportional to node distance as specified
  - Semi-transparency (0.6) handles overlapping arcs well
  - Edge weight encoding via strokeWidth provides visual differentiation
  - Clean code structure with clear data preparation and chart layering
  - 'Appropriate data context: character interactions in a story chapter'
  weaknesses:
  - Layout has excessive whitespace below the baseline; nodes are positioned at y=10
    in a 900px height canvas
  - Missing legend for edge weight interpretation (strokeWidth encoding has legend=None)
  image_description: The plot displays an arc diagram showing character interactions.
    Ten nodes (Alice, Bob, Carol, David, Eve, Frank, Grace, Henry, Iris, Jack) are
    arranged horizontally along the bottom of the chart, represented as yellow circles
    with blue outlines. The character names appear below each node in bold blue text.
    Curved blue arcs connect pairs of nodes above the horizontal line, with arc height
    proportional to the distance between connected nodes. The longest arcs span from
    Alice to Jack and Alice to Henry, reaching nearly to the top of the plot. Shorter
    arcs connect adjacent or nearby characters. The arcs use semi-transparent blue
    (#306998) with varying thicknesses based on edge weights. The title "Character
    Interactions · arc-basic · altair · pyplots.ai" appears at the top center.
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title is large (28pt), node labels are 18pt bold, all clearly readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text or elements
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Nodes are appropriately sized (600), arcs visible with opacity 0.6
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue/yellow color scheme is colorblind-safe
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 5
        passed: true
        comment: Good overall, but nodes positioned low with much empty space below
          baseline
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: false
        comment: No axes present (appropriate for this chart type, but no units shown)
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Clean design, no unnecessary grid, strokeWidth encoding is self-explanatory
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct arc diagram type
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Nodes correctly arranged horizontally, arcs connect pairs
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Arc heights proportional to distance, semi-transparency, stroke width
          for weights
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All nodes and connections visible
      - id: SC-05
        name: Legend Accuracy
        score: 0
        max: 2
        passed: true
        comment: No legend for edge weights (strokeWidth legend is disabled)
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: "Character Interactions · arc-basic · altair · pyplots.ai"'
    data_quality:
      score: 20
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: Shows short-range and long-range connections, varying weights (1-3)
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Character interactions in a story is a perfect real-world scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: 10 nodes with 15 edges is ideal for readability
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Simple linear structure: imports → data → plot → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only necessary imports (altair, numpy, pandas)
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Altair API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves both plot.png and plot.html (correct)
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 3
        max: 5
        passed: true
        comment: Uses declarative layering, encoding system, but arc diagrams are
          not native to Altair so required manual path generation
  verdict: APPROVED
