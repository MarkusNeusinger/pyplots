library: altair
specification_id: scatter-brush-zoom
created: '2026-01-08T16:09:18Z'
updated: '2026-01-08T16:15:25Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20823152413
issue: 3295
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/scatter-brush-zoom/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/scatter-brush-zoom/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/scatter-brush-zoom/altair/plot.html
quality_score: 94
review:
  strengths:
  - Excellent implementation of linked views showing selection counts in a bar chart
  - Clean use of Altair's declarative selection and conditional encoding
  - Helpful subtitle explaining interaction controls
  - Good use of tooltips showing detailed point information
  - Clever legend_layer technique to maintain consistent legend despite selection
    filtering
  weaknesses:
  - Marker size (200) is slightly large for 200 points, could be reduced to ~100-150
    for cleaner appearance
  - Bar chart x-axis labels appear rotated/crowded - consider increasing space or
    adjusting label angle
  image_description: 'The plot displays an interactive scatter plot with 200 data
    points organized into 4 visible clusters (Sensor A, B, C, D) using distinct colors:
    blue (#306998) for Sensor A in the top-right region, yellow (#FFD43B) for Sensor
    B in the bottom-left region, green (#4CAF50) for Sensor C in the center, and pink/magenta
    (#E91E63) for Sensor D scattered across the plot. The X-axis shows "Efficiency
    Score (%)" ranging 0-100, and the Y-axis shows "Reliability Index" ranging 0-100.
    The title "scatter-brush-zoom · altair · pyplots.ai" appears at the top with a
    helpful subtitle "Click and drag to select a region | Scroll to zoom | Shift+drag
    to pan". Below the main scatter plot is a linked bar chart titled "Selected Points
    by Category" showing the count of points per category (50, 50, 60, 40 respectively).
    The current view shows all points selected (full colors), demonstrating the selection
    state propagating to the linked bar chart. Grid lines are subtle. The layout is
    clean with good proportions between the scatter plot and the linked bar chart.'
  criteria_checklist:
    visual_quality:
      score: 38
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at fontSize=28, subtitle at 18, axis labels at 16-20. All text
          perfectly readable at full resolution.
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements. Markers are well-spaced with no severe
          overlap.
      - id: VQ-03
        name: Element Visibility
        score: 6
        max: 8
        passed: true
        comment: Marker size=200 with alpha=0.85 for 200 points. Slightly large for
          this density, but still effective.
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Four distinct colors (blue, yellow, green, pink) that are colorblind-friendly
          and easily distinguishable.
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Excellent use of canvas with 1600x900 main scatter and 1600x200 linked
          bar chart. Well-proportioned.
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: 'Descriptive labels with units: Efficiency Score (%) and Reliability
          Index.'
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Grid at alpha=0.5 is subtle, legend is well-placed and clearly shows
          all 4 categories.
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct interactive scatter plot with brush selection capability.
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: X/Y correctly mapped to numeric axes with proper scaling.
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: 'All spec features present: brush selection, visual highlighting,
          zoom, pan, linked view.'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Axes show 0-100 range, all data visible within bounds.
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly identifies all 4 sensor categories with matching
          colors.
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Uses exact format: scatter-brush-zoom · altair · pyplots.ai'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows 4 distinct clusters plus scattered outliers, demonstrating
          various selection scenarios.
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Plausible sensor performance analysis scenario with Efficiency Score
          and Reliability Index.
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Percentage scale (0-100) is appropriate; some cluster centers could
          be more distinctly positioned.
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Simple linear flow: imports → data generation → chart creation →
          save.'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42) for deterministic data.
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: 'Only necessary imports: altair, numpy, pandas.'
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Altair API (selection_interval, add_params).
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves both plot.png and plot.html.
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses Altair's declarative selection system, conditional encoding,
          transform_filter for linked views, and vconcat. Good but could showcase
          more advanced features.
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - hover-tooltips
  - html-export
  - layer-composition
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - alpha-blending
  - edge-highlighting
  - grid-styling
