library: pygal
specification_id: flowmap-origin-destination
created: '2026-01-16T08:06:32Z'
updated: '2026-01-16T08:09:05Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21059785752
issue: 3765
python_version: 3.13.11
library_version: 3.1.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/flowmap-origin-destination/pygal/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/flowmap-origin-destination/pygal/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/flowmap-origin-destination/pygal/plot.html
quality_score: 88
review:
  strengths:
  - Creative implementation extending pygal's Graph class to create a custom flow
    map visualization
  - Excellent geographic context with simplified European coastlines
  - Clear visual hierarchy with thickness-based flow encoding and transparency for
    overlapping arcs
  - Well-designed legend explaining both flow volume and location markers
  - Realistic trade route data between actual European port cities
  weaknesses:
  - Code uses a custom class (FlowMap) rather than following KISS structure (imports
    → data → plot → save)
  - Missing hover tooltips which pygal supports for interactivity
  - Some thinner flow arcs could be slightly more visible
  image_description: 'The plot displays an origin-destination flow map of European
    port trade routes. The visualization features a light blue background representing
    ocean/sea, with simplified gray coastlines showing parts of Europe (UK, Ireland,
    Iberian Peninsula, France, Italy, Greece, and Baltic region). Yellow circular
    markers indicate port city locations (14 cities total). Curved blue arcs (Bezier
    curves) connect origin-destination pairs, with line thickness proportional to
    trade flow volume (ranging from 220 to 850). Thicker, more opaque arcs represent
    higher flow volumes. The plot has axis labels "Longitude" (x-axis, -12 to 28)
    and "Latitude" (y-axis, 35 to 58). A legend on the right shows "Flow Volume" with
    three thickness examples (Low 220, Medium 535, High 850) and a "Locations" section
    showing the yellow city marker. The title follows the correct format: "flowmap-origin-destination
    · pygal · pyplots.ai".'
  criteria_checklist:
    visual_quality:
      score: 35
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title, axis labels, and legend text are all clearly readable at full
          size. Font sizes are appropriate for the 4800x2700 canvas.
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements. All labels, ticks, and legend items
          are well-separated.
      - id: VQ-03
        name: Element Visibility
        score: 6
        max: 8
        passed: true
        comment: Flow arcs are visible with appropriate thickness variation. City
          markers are clearly visible. However, some thinner arcs could be slightly
          more prominent.
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Uses blue (#306998) for flows and yellow (#FFD43B) for markers -
          colorblind-safe combination with good contrast.
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good use of canvas with balanced margins. Plot area fills approximately
          60-70% of the canvas. Legend is appropriately placed.
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: Descriptive axis labels Longitude and Latitude are present.
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: true
        comment: Grid is subtle with alpha 0.4. Legend is well-organized. Grid could
          be slightly more subtle.
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct origin-destination flow map with curved arcs overlaid on
          geographic context.
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Origin/destination coordinates correctly mapped to positions; flow
          magnitude correctly mapped to arc thickness.
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Has curved arcs (Bezier), thickness proportional to flow, transparency
          for overlapping arcs, geographic context with coastlines. Missing hover
          tooltips.
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data points are visible within the defined lat/lon ranges.
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly explains flow volume thickness and location markers.
      - id: SC-06
        name: Title Format
        score: 1
        max: 2
        passed: true
        comment: Uses correct format but no subtitle with additional context.
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows variety of flow magnitudes from 220 to 850, demonstrates hub
          locations, directional flows between multiple cities.
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: European port trade flows is a realistic, neutral scenario. Port
          names are real cities with accurate coordinates.
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Trade volumes (220-850) are plausible relative measures. Coordinates
          are accurate for European cities.
    code_quality:
      score: 7
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 0
        max: 3
        passed: false
        comment: Uses a custom class (FlowMap extending Graph), which violates the
          KISS principle of no functions/classes.
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42) even though data is deterministic.
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only necessary imports are included.
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current pygal API.
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html.
    library_features:
      score: 5
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 5
        max: 5
        passed: true
        comment: Excellent use of pygal's SVG rendering capabilities by extending
          the Graph class to create a custom chart type. Demonstrates advanced pygal
          usage with direct SVG node manipulation.
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - bezier-curves
  - custom-legend
  - annotations
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - alpha-blending
  - grid-styling
