library: seaborn
specification_id: pie-portfolio-interactive
created: '2026-01-20T23:08:42Z'
updated: '2026-01-20T23:19:22Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21190551626
issue: 3754
python_version: 3.13.11
library_version: 0.13.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/pie-portfolio-interactive/seaborn/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/pie-portfolio-interactive/seaborn/plot_thumb.png
preview_html: null
quality_score: 91
review:
  strengths:
  - Excellent use of seaborn color palette functions (husl, light_palette, dark_palette,
    blend_palette) for cohesive color gradients
  - Creative nested donut design showing asset class hierarchy with inner/outer rings
  - Well-implemented annotation system with dynamic positioning and color-coded borders
  - Comprehensive legend showing category percentage, absolute value, and holding
    count
  - Good canvas utilization with square aspect ratio appropriate for pie charts
  weaknesses:
  - Seaborn lacks native pie chart functions, so matplotlib.pie is used for rendering
    - this limits the library features score
  - Annotations could be slightly more compact to avoid extending close to canvas
    edges
  image_description: 'The plot displays a nested donut chart (sunburst-style) representing
    portfolio allocation. The outer ring shows 9 individual asset holdings with percentage
    labels (28.0%, 15.0%, 7.0%, 5.0%, 6.0%, 5.0%, 12.0%, 18.0%, 5.0%). The inner ring
    shows 3 aggregated asset classes: Equities (50% - pink/coral tones), Fixed Income
    (35% - green tones), and Alternatives (15% - blue tones). The center displays
    "Portfolio $1000K" in bold dark text. Annotation boxes with colored borders connect
    to major holdings (≥6%) showing asset name, dollar value, and percentage (e.g.,
    "US Large Cap Equity $280,000 (28.0%)"). Colors within each category form gradients
    - pinks for equities, greens for fixed income, blues for alternatives. A legend
    at bottom shows "Asset Classes (Click to Drill Down)" with all three categories
    including percentages, dollar values, and holding counts. An italic note at the
    very bottom indicates interactive features. The title "pie-portfolio-interactive
    · seaborn · pyplots.ai" appears at top. White edge separators distinguish all
    wedges. The chart uses a square aspect ratio with balanced layout.'
  criteria_checklist:
    visual_quality:
      score: 37
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: 'All text clearly readable: title 24pt, center text 24pt bold, annotations
          13pt, percentage labels 14-16pt bold, legend 14pt'
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements; annotations positioned dynamically
          based on quadrant; outer ring percentages only shown for wedges >4%
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Donut rings well-sized with radius 1.0 outer and 0.65 inner; wedge
          widths at 0.35 provide clear visibility; white edge separators enhance distinction
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: HUSL palette used for distinct category colors; light/dark palette
          blending creates accessible gradients; pink, green, blue are colorblind-distinguishable
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good canvas utilization with square 12x12 figure; chart fills majority
          of space; slight issue with annotations extending to edges
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: false
        comment: N/A for pie charts - no axes to label
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Legend well-placed at bottom center; includes detailed info (percentage,
          value, holding count); no grid needed for pie chart
    spec_compliance:
      score: 24
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct pie/donut chart as specified; nested rings show hierarchy
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Weights correctly mapped to wedge sizes; categories properly grouped
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Has tooltips (simulated via annotations), drill-down indication,
          percentage+absolute values, color-coding by asset class, legend. Missing
          actual interactivity (seaborn limitation)
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible; weights sum to 100%
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend labels correctly show category name, percentage, value, and
          holding count
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: pie-portfolio-interactive · seaborn · pyplots.ai'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 6
        max: 8
        passed: true
        comment: Shows multiple asset classes (3), individual holdings (9), hierarchy,
          percentages, and absolute values. Could show more variation in allocation
          sizes
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: 'Realistic portfolio scenario: US Large Cap, International, Emerging
          Markets, Treasury/Corporate/Municipal Bonds, REITs, Gold, Private Equity
          with sensible allocations'
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Total $1M portfolio with realistic allocation percentages (28% large
          cap, 18% treasuries, etc.)
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear structure: imports → data → style → outer ring → inner ring
          → annotations → legend → title → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set (though data is actually deterministic)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: 'All imports used: matplotlib.pyplot, numpy, pandas, seaborn'
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: No deprecated functions used
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves as plot.png but should verify path
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Good use of seaborn color palettes (husl, light_palette, dark_palette,
          blend_palette, saturate, desaturate), set_theme, set_context. However, no
          seaborn plot functions used (matplotlib pie) as seaborn lacks native pie
          charts
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - patches
  - custom-legend
  patterns:
  - data-generation
  - groupby-aggregation
  - iteration-over-groups
  dataprep: []
  styling:
  - edge-highlighting
  - alpha-blending
