library: altair
specification_id: network-directed
created: '2025-12-30T23:54:55Z'
updated: '2025-12-31T00:11:25Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20608486085
issue: 2858
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/network-directed/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/network-directed/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/network-directed/altair/plot.html
quality_score: 90
impl_tags:
  dependencies: []
  techniques:
  - bezier-curves
  - layer-composition
  - hover-tooltips
  patterns:
  - data-generation
  - iteration-over-groups
  - matrix-construction
  dataprep: []
  styling: []
review:
  strengths:
  - Excellent hierarchical layout algorithm that calculates node depths based on topological
    ordering
  - Clever handling of bidirectional edges using curved bezier paths to avoid overlap
  - Clean color palette with five distinct, colorblind-safe colors for module groupings
  - Proper use of Altair layered chart composition (edges + curved edges + arrows
    + nodes + labels)
  - Thoughtful arrow positioning using angle encoding for correct orientation along
    edges
  - Interactive tooltips showing node label and group on hover
  weaknesses:
  - Edge lines are relatively thin (strokeWidth=2) making some dependency paths harder
    to follow in the dense central area
  - Layout results in vertical clustering at certain depth levels creating visual
    congestion
  - Does not utilize Altair built-in interactivity features like selection highlighting
    or zoom/pan that would help explore the network
  image_description: 'The plot displays a directed network graph visualizing software
    package dependencies. The layout is hierarchical, flowing left-to-right with "App"
    on the far left as the root node, progressing through middleware/router/api layers
    to utility nodes like "Logger" and "Config" on the right. There are 12 circular
    nodes color-coded by module type: blue (main: App), yellow (core: Router, API,
    Auth, Database, Middleware), cyan (service: Cache), gray (util: Utils, Logger,
    Config), and red (data: Models, Schemas). Directed edges are drawn as gray lines
    with triangular arrow heads indicating dependency direction. The title reads "network-directed
    · altair · pyplots.ai" with a subtitle explaining "Software Package Dependencies
    (curved edges show bidirectional dependencies)". A legend labeled "Module Type"
    appears in the upper right showing the 5 category colors. Node labels appear above
    each circle in bold black text.'
  criteria_checklist:
    visual_quality:
      score: 35
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title (28pt), subtitle (18pt), and node labels (18pt) are clearly
          readable. Legend text is appropriately sized.
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text; labels positioned above nodes with good spacing
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Nodes are appropriately sized (800), arrows visible with triangular
          markers (size 150). Edge lines slightly thin but visible.
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Five distinct colors that are colorblind-safe (blue, yellow, cyan,
          gray, red) - no red-green confusion issues
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good hierarchical layout utilizing ~60% of canvas, slight imbalance
          with more whitespace at bottom
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: No grid (appropriate for network), legend well-placed in upper right
          with clear labels
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct directed network graph with nodes and directed edges
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Nodes correctly represent entities, edges show directed dependencies
          from source to target
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Has directed arrows, node grouping by color, hierarchical layout,
          curved edges for bidirectional connections as spec suggests
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All 12 nodes and 24 edges visible and within bounds
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly maps Module Type categories to colors
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Uses correct format: "network-directed · altair · pyplots.ai"'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: 'Shows directed edges, bidirectional pairs with curves, hierarchical
          structure, node grouping. Minor: could show edge weights via thickness'
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Software package dependencies is a perfect, realistic, neutral example
          for directed graphs
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: 12 nodes is appropriate for static visualization (spec says 10-50).
          Good number of edges (24) showing realistic dependency patterns
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 2
        max: 3
        passed: true
        comment: Follows imports → data → plot → save pattern, but has significant
          computation logic for layout/curves (necessary for network graphs)
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only altair, numpy, pandas imported and all used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Altair 5.x/6.x API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: false
        comment: Uses Altair's declarative encoding, layered charts, tooltips, and
          angle encoding for arrow rotation. However, doesn't leverage Altair's interactivity
          (selection, zoom/pan) which would enhance network exploration.
  verdict: APPROVED
