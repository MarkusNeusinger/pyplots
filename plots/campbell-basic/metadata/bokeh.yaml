library: bokeh
specification_id: campbell-basic
created: '2026-02-15T21:10:18Z'
updated: '2026-02-15T21:21:30Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 22043026932
issue: 4241
python_version: 3.14.3
library_version: 3.8.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/bokeh/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/bokeh/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/bokeh/plot.html
quality_score: 86
review:
  strengths:
  - 'Comprehensive Campbell Diagram with all spec-required elements: 5 modes, 3 engine
    orders, critical speed markers, operating range shading'
  - Excellent visual refinement with polished typography, subtle grid, and removed
    chart chrome
  - Good data storytelling through operating range zone and danger zone highlighting
  - Strong color palette with good accessibility
  - Interactive HoverTool on critical speed markers leverages Bokeh distinctive capabilities
  - Dual output (PNG + HTML) maximizes Bokeh web-native strengths
  weaknesses:
  - Natural frequency curves appear nearly flat — gyroscopic effects should be more
    visually pronounced to make the diagram more dramatic and educational
  - Upper portion of the plot (150-200 Hz) is largely empty, wasting canvas space
    — the y-range could be tightened or the data could extend higher
  - Operating Range label at y=5 with alpha=0.6 is too subtle and easily overlooked
  - The seed(42) is set but no random data is actually generated, which is harmless
    but unnecessary
  image_description: 'The plot displays a Campbell Diagram with the title "campbell-basic
    · bokeh · pyplots.ai" centered at the top. The X-axis shows "Rotational Speed
    (RPM)" ranging from 0 to 6000, and the Y-axis shows "Frequency (Hz)" from 0 to
    200. Five natural frequency mode curves are plotted in distinct colors: 1st Bending
    (blue), 2nd Bending (gold/orange), 1st Torsional (red/coral), Axial (purple),
    and 3rd Bending (teal/cyan). Three dashed diagonal engine order lines (1x, 2x,
    3x) in dark gray extend from the origin, labeled with bold text at their upper
    endpoints. Red diamond markers indicate critical speed intersections where engine
    order lines cross natural frequency curves. A light blue shaded region between
    approximately 3000-5000 RPM marks the "Operating Range" with an italic label near
    the bottom. Small pink/red danger zone rectangles highlight critical speeds that
    fall within the operating range. A legend in the top-left corner lists all nine
    elements (5 modes, 3 EO lines, critical speed). The background is light gray (#FAFAFA)
    with subtle grid lines.'
  criteria_checklist:
    visual_quality:
      score: 26
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 8
        passed: true
        comment: 'All font sizes explicitly set: title 28pt, axis labels 22pt, tick
          labels 18pt, legend 18pt, EO labels 22pt'
      - id: VQ-02
        name: No Overlap
        score: 5
        max: 6
        passed: true
        comment: Legend slightly overlaps 3rd Bending curve area; a couple of critical
          speed markers are very close together
      - id: VQ-03
        name: Element Visibility
        score: 5
        max: 6
        passed: true
        comment: Mode curves thick and visible, markers prominent. Operating Range
          label at y=5 with alpha=0.6 is too faint
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 4
        passed: true
        comment: 'Well-differentiated colors: blue, gold, red, purple, teal. No red-green-only
          distinction'
      - id: VQ-05
        name: Layout & Canvas
        score: 2
        max: 4
        passed: false
        comment: Upper portion of plot (150-200 Hz) is largely empty. Data concentrated
          in lower-middle of y-axis range
      - id: VQ-06
        name: Axis Labels & Title
        score: 2
        max: 2
        passed: true
        comment: 'Descriptive labels with units: Rotational Speed (RPM) and Frequency
          (Hz)'
    design_excellence:
      score: 16
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 6
        max: 8
        passed: true
        comment: Strong design with intentional palette, custom typography, subtle
          background. Danger zone and operating range shading add sophistication
      - id: DE-02
        name: Visual Refinement
        score: 6
        max: 6
        passed: true
        comment: Subtle grid, no outline, minor ticks removed, custom axis colors,
          light background with white border fill
      - id: DE-03
        name: Data Storytelling
        score: 4
        max: 6
        passed: true
        comment: Operating range zone and danger boxes guide viewer to critical intersections
          within operating envelope
    spec_compliance:
      score: 15
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: Correct Campbell Diagram with natural frequency curves overlaid with
          engine order excitation lines
      - id: SC-02
        name: Required Features
        score: 4
        max: 4
        passed: true
        comment: 'All spec features present: 5 modes, 3 EO lines, critical speed markers,
          mode labels, EO labels, legend, operating range shading'
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: X=RPM, Y=Hz correctly assigned. Engine order slopes = order/60 matching
          spec formula
      - id: SC-04
        name: Title & Legend
        score: 3
        max: 3
        passed: true
        comment: Title format correct. Legend clearly distinguishes all 5 modes, 3
          EO lines, and critical speed markers
    data_quality:
      score: 13
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 5
        max: 6
        passed: true
        comment: 5 modes with varying speed-dependency, 3 engine orders, multiple
          critical speed intersections. Frequency variations could be more pronounced
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 5
        passed: true
        comment: Rotordynamic scenario with realistic mode names, plausible frequency
          ranges (22-140 Hz), realistic speed range (0-6000 RPM)
      - id: DQ-03
        name: Appropriate Scale
        score: 3
        max: 4
        passed: true
        comment: Values plausible for rotating machinery. Natural frequency variations
          with speed are quite small, making curves appear nearly flat
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear flow: imports, data, plot, save. No functions or classes'
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: np.random.seed(42) set, though all data is deterministic
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used
      - id: CQ-04
        name: Code Elegance
        score: 1
        max: 2
        passed: true
        comment: Generally clean but somewhat verbose. strict=False in zip is unnecessary
          noise
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png via export_png and plot.html via save
    library_features:
      score: 7
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 4
        max: 5
        passed: true
        comment: Good use of ColumnDataSource, explicit Legend construction, BoxAnnotation,
          Label placement
      - id: LM-02
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: HoverTool for interactive tooltips on critical speed markers, HTML
          output alongside PNG
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - hover-tooltips
  - annotations
  - custom-legend
  - html-export
  patterns:
  - data-generation
  - columndatasource
  - iteration-over-groups
  dataprep:
  - interpolation
  styling:
  - grid-styling
  - alpha-blending
