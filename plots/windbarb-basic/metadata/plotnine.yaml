library: plotnine
specification_id: windbarb-basic
created: '2026-01-11T10:06:20Z'
updated: '2026-01-11T10:10:02Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20893329746
issue: 3694
python_version: 3.13.11
library_version: 0.15.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/windbarb-basic/plotnine/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/windbarb-basic/plotnine/plot_thumb.png
preview_html: null
quality_score: 88
review:
  strengths:
  - Excellent implementation of wind barbs using plotnine layered grammar of graphics
    (ggplot + geom layers)
  - 'Properly handles meteorological convention: barbs point into wind direction,
    calm winds shown as open circles'
  - Good legend explaining wind barb notation
  - Clean, well-structured code following KISS principles
  - Comprehensive feature coverage showing calm, light, moderate, and strong winds
  weaknesses:
  - Pennants are rendered as triangle outlines rather than filled triangles (meteorological
    standard)
  - Legend box overlaps the data area in upper left corner
  - Some barbs at edges extend beyond comfortable viewing margins
  image_description: 'The plot shows a wind barb visualization on a grid layout representing
    weather station data. The x-axis is labeled "Longitude (°E)" ranging from 0 to
    12, and the y-axis is labeled "Latitude (°N)" ranging from 0 to about 8. Blue
    (#306998) wind barbs are displayed across the grid, with staffs pointing in wind
    directions and barb flags attached. The plot includes calm wind indicators shown
    as open circles (visible at coordinates near (0,0), (10,0), and (10,4)). Full
    and half barbs are visible on most staffs indicating wind speeds. A legend box
    in the upper left explains the notation: calm (<2.5 kt), half barb (5 kt), full
    barb (10 kt), and pennant (50 kt). The title reads "windbarb-basic · plotnine
    · pyplots.ai". The plot uses a minimal theme with subtle gray grid lines.'
  criteria_checklist:
    visual_quality:
      score: 34
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title, axis labels, and tick marks are all clearly readable at the
          specified font sizes
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping elements; barbs are well-spaced on the grid
      - id: VQ-03
        name: Element Visibility
        score: 6
        max: 8
        passed: true
        comment: Barbs are visible but some are slightly small relative to the canvas
          size
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Uses single blue color (#306998), no colorblind issues
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 5
        passed: true
        comment: Good use of canvas but some barbs near edges extend outside the main
          viewing area
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: 'Descriptive labels with units: Longitude (°E) and Latitude (°N)'
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Legend overlaps data area in upper left; could be positioned better
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct wind barb plot type with staffs, barbs, and calm indicators
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: X/Y correctly mapped to longitude/latitude
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Has calm circles, half barbs, full barbs; pennants shown as triangular
          outlines but should be filled triangles per meteorological convention
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible within axis limits
      - id: SC-05
        name: Legend Accuracy
        score: 1
        max: 2
        passed: false
        comment: Legend explains notation but pennant symbol suggests filled triangle
          while implementation shows outline
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Uses correct format windbarb-basic · plotnine · pyplots.ai
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: Shows calm winds, various speeds with different barb counts, and
          high winds with pennants
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Weather station grid with longitude/latitude is realistic meteorological
          scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 3
        max: 5
        passed: true
        comment: Wind speeds and coordinates are realistic; however the 6x5 grid layout
          creates some barb clustering
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear flow: imports → data → plot → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Current plotnine API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses plotnine layered grammar of graphics (ggplot + geom layers)
          and annotate for legend, but no advanced features like faceting
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - layer-composition
  patterns:
  - data-generation
  - iteration-over-groups
  - matrix-construction
  dataprep: []
  styling:
  - grid-styling
