library: plotly
specification_id: treemap-basic
created: '2025-12-24T09:51:26Z'
updated: '2025-12-24T10:01:55Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20483443585
issue: 0
python_version: 3.13.11
library_version: 6.5.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/treemap-basic/plotly/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/treemap-basic/plotly/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/treemap-basic/plotly/plot.html
quality_score: 92
impl_tags:
  dependencies: []
  techniques:
    - hover-tooltips
    - html-export
  patterns:
    - data-generation
  dataprep: []
  styling: []
review:
  strengths:
  - Excellent color differentiation between main categories with colorblind-safe palette
  - Clear hierarchical structure with white borders showing nesting relationships
  - Good use of Plotly treemap features including hover templates and branchvalues
  - Text is legible at all levels with appropriate font sizing
  - Realistic budget allocation scenario with sensible values
  weaknesses:
  - Root node Budget label appears small and could be more prominent
  - No units shown in the values (should indicate thousands)
  image_description: 'The plot displays a treemap showing budget allocation by department
    and project (in thousands). The visualization uses five distinct colors for main
    categories: Engineering (dark blue #306998), Sales (green #2CA02C), Marketing
    (yellow #FFD43B), Operations (purple #9467BD), and HR (pink #E377C2). Each main
    category contains nested subcategories with their corresponding values. The layout
    is hierarchical with "Budget" as the root node, five department categories as
    children, and individual projects as leaf nodes. White borders (2px) clearly delineate
    hierarchy boundaries between rectangles. All labels display both the name and
    numeric value. The title "treemap-basic · plotly · pyplots.ai" is centered at
    the top. The treemap fills the canvas well with Engineering taking the largest
    portion (1150 total), followed by Sales (640), Marketing (520), Operations (280),
    and HR (190).'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: All text clearly readable with font size 24, title at 32pt
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Rectangles well-sized proportional to values
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Colorblind-safe palette with distinct hues
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Treemap fills canvas well with balanced margins
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: false
        comment: N/A for treemaps (no axes)
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: N/A for treemaps (hierarchy shown via nesting)
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct treemap chart type
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Categories, subcategories, and values correctly mapped
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Nested rectangles, area proportional to value, distinct category
          colors, borders between rectangles
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible and accessible
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Categories self-labeled via color coding
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: treemap-basic · plotly · pyplots.ai'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: Shows varied hierarchy depths, different sized categories, multiple
          subcategories per parent
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Budget allocation by department is a classic treemap use case
      - id: DQ-03
        name: Appropriate Scale
        score: 3
        max: 5
        passed: false
        comment: Values are sensible but lack explicit unit display in labels (-2)
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Clean imports → data → plot → save structure
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Deterministic data (no random values)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only plotly.graph_objects imported and used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Plotly API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves as plot.png but also plot.html (minor)
    library_features:
      score: 4
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 4
        max: 5
        passed: true
        comment: Uses go.Treemap with branchvalues, hover templates with percentParent,
          and HTML export
  verdict: APPROVED
