library: plotly
specification_id: marimekko-basic
created: '2025-12-23T15:14:03Z'
updated: '2025-12-23T15:19:45Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20464353289
issue: 0
python_version: 3.13.11
library_version: 6.5.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/marimekko-basic/plotly/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/marimekko-basic/plotly/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/marimekko-basic/plotly/plot.html
quality_score: 93
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  - matrix-construction
  dataprep: []
  styling:
  - edge-highlighting
review:
  strengths:
  - Excellent implementation of Marimekko chart logic with correct proportional widths
    and stacked heights
  - Value labels inside segments provide immediate readability of actual dollar amounts
  - Clean, professional appearance with white borders separating segments
  - Descriptive axis labels explain the dual-encoding concept (width = market size)
  - Well-structured hover templates with rich information (region, product, value,
    share)
  weaknesses:
  - Grid lines are too subtle (alpha 0.1) making it difficult to read exact percentage
    values
  - Color palette could be more colorblind-friendly; blue and teal may be hard to
    distinguish for some viewers
  image_description: 'The plot displays a Marimekko chart showing market share by
    region and product line. Four regions are shown on the x-axis: North America,
    Europe, Asia Pacific, and Latin America, with bar widths proportional to market
    size (Asia Pacific is widest, Latin America is narrowest). Each bar is divided
    into three stacked segments representing product lines: Enterprise (dark blue
    #306998), SMB (yellow #FFD43B), and Consumer (teal #4ECDC4). Value labels in white
    text show dollar amounts (e.g., $120M, $180M) inside each segment. The y-axis
    shows percentage from 0% to 100%. A horizontal legend at the top identifies the
    three product lines. The title reads "Market Share by Region · marimekko-basic
    · plotly · pyplots.ai".'
  criteria_checklist:
    visual_quality:
      score: 37
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 28pt, axis labels at 22pt, tick labels at 18pt, value labels
          at 18pt - all clearly readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text; value labels fit within segments, axis labels
          well spaced
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Bar segments are clearly visible with white borders separating them
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 5
        passed: true
        comment: Colors are distinguishable but the blue-teal combination could be
          slightly challenging for some colorblind viewers
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Excellent use of canvas space, plot fills ~70% of area with balanced
          margins
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: 'Descriptive labels with context: "Region (width = market size)"
          and "Product Mix (share within region)"'
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: true
        comment: Legend is well positioned but grid lines are extremely subtle (alpha
          0.1), making percentage benchmarks hard to reference
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct Marimekko/mekko chart with variable-width stacked bars
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: X-categories (regions) determine bar width, Y-categories (products)
          are stacked, values determine proportions
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: 'All spec features present: proportional widths, stacked heights,
          value labels on segments'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Y-axis shows full 0-100%, all data visible
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly identifies all three product lines
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: "Market Share by Region · marimekko-basic · plotly
          · pyplots.ai"'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows variation in both width and segment proportions; Asia Pacific
          has largest market and different product mix than others
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Market share by region and product line is a classic real-world use
          case for Marimekko charts
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Values in millions USD are realistic; however, some regions have
          very similar totals (NA=270, EU=250) which doesn't maximize width variation
          demonstration
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Simple linear structure: imports → data → calculations → figure
          → layout → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Deterministic hardcoded data, no random elements
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only plotly.graph_objects imported and used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Plotly API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 3
        max: 5
        passed: true
        comment: Uses go.Bar with customdata for hover templates, but could leverage
          more Plotly interactivity features
  verdict: APPROVED
