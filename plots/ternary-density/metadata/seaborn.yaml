library: seaborn
specification_id: ternary-density
created: '2026-01-11T09:30:06Z'
updated: '2026-01-11T09:34:03Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20892891073
issue: 3696
python_version: 3.13.11
library_version: 0.13.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/ternary-density/seaborn/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/ternary-density/seaborn/plot_thumb.png
preview_html: null
quality_score: 91
review:
  strengths:
  - Excellent use of viridis colormap for perceptually uniform density visualization
  - Three distinct data clusters clearly demonstrate density estimation capability
  - Proper ternary coordinate transformation with clipping to triangle boundary
  - Grid lines visible beneath density layer with appropriate transparency
  - Contour lines at key density levels enhance interpretability
  - Professional typography with clear vertex labels
  weaknesses:
  - No colorbar/legend showing the density scale interpretation
  - Contour lines could be slightly thicker for better visibility at full resolution
  image_description: 'The plot displays a ternary density visualization for soil composition
    data (sand/silt/clay). The triangle has vertices labeled "Sand (%)", "Silt (%)",
    and "Clay (%)" in bold blue text (#306998). The density is shown using a filled
    viridis colormap with 20 levels, ranging from dark purple (low density) to bright
    yellow-green (high density). Three distinct density clusters are visible: one
    in the lower-left corner (high sand content), one in the lower-right area (high
    silt content), and one in the upper region (high clay content). Blue contour lines
    overlay the density for easier interpretation. Grid lines are visible beneath
    the density layer with 10% intervals. The triangle boundary is drawn in blue (#306998)
    with a thick line. Percentage labels (20, 40, 60, 80) appear along each edge in
    gray. The title "Soil Composition · ternary-density · seaborn · pyplots.ai" appears
    at the top in bold black text. The figure uses a 12x12 square aspect ratio appropriate
    for ternary diagrams, with the plot well-centered and filling the canvas appropriately.'
  criteria_checklist:
    visual_quality:
      score: 37
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 26pt, vertex labels at 22pt, percentage labels at 14pt -
          all clearly readable
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements, labels well positioned outside triangle
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Density clearly visible with good contrast; contour lines visible
          but could be slightly thicker
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Viridis colormap is perceptually uniform and colorblind-safe
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Square 12x12 figure with good proportions, plot fills canvas well
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: false
        comment: Ternary plots don't use traditional axes; vertices labeled but no
          unit context beyond (%)
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Grid subtle (alpha=0.25), no legend needed for density plot
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct ternary density plot with KDE overlay
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Three components correctly mapped to ternary coordinates
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Density overlay, contour lines, grid lines, vertex labels present;
          no colorbar showing density scale
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible within triangle bounds
      - id: SC-05
        name: Legend Accuracy
        score: 1
        max: 2
        passed: false
        comment: No colorbar/legend to show density scale interpretation
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Uses correct format with context: Soil Composition · ternary-density
          · seaborn · pyplots.ai'
    data_quality:
      score: 20
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: Shows three distinct clusters representing different soil types (sandy,
          silty, clay-rich)
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Soil composition is a classic ternary data application, neutral scientific
          topic
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: All values sum to 100%, realistic soil composition percentages
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear script: imports → data → plot → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 0
        max: 2
        passed: false
        comment: All imports are used - Polygon from matplotlib.patches is necessary
          for clipping
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current seaborn API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png with proper DPI
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses sns.kdeplot for density estimation which is seaborn's strength,
          but most work is manual matplotlib for ternary transformation
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - patches
  - annotations
  - layer-composition
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep:
  - kde
  styling:
  - custom-colormap
  - alpha-blending
  - minimal-chrome
  - grid-styling
