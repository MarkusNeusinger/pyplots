library: bokeh
specification_id: scatter-regression-lowess
created: '2025-12-30T23:53:54Z'
updated: '2025-12-30T23:58:02Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20608462380
issue: 2855
python_version: 3.13.11
library_version: 3.8.1
preview_url: https://storage.googleapis.com/pyplots-images/plots/scatter-regression-lowess/bokeh/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/scatter-regression-lowess/bokeh/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/scatter-regression-lowess/bokeh/plot.html
quality_score: 92
impl_tags:
  dependencies:
    - statsmodels
  techniques:
    - html-export
  patterns:
    - data-generation
    - columndatasource
  dataprep:
    - regression
  styling:
    - alpha-blending
review:
  strengths:
  - Excellent biological data example (enzyme activity curve) that perfectly demonstrates
    LOWESS smoothing on non-linear data
  - Clean color contrast between blue points and yellow LOWESS curve makes the relationship
    immediately clear
  - Proper use of ColumnDataSource pattern for data management
  - Text sizing scaled appropriately for 4800x2700 canvas
  - Correctly uses statsmodels LOWESS with appropriate smoothing fraction (0.4)
  - Generates both static PNG and interactive HTML output
  weaknesses:
  - Legend text could be larger to match the canvas scale (currently 22pt vs 28pt
    axis labels)
  - Could add HoverTool to show individual point values in interactive version
  - Grid dashed style may be unnecessary - solid subtle lines would be cleaner
  image_description: The plot displays a scatter plot with 200 blue data points (#306998)
    showing enzyme activity (%) vs temperature (°C). A smooth yellow/gold LOWESS curve
    (#FFD43B) is overlaid, clearly showing the characteristic bell-shaped enzyme activity
    pattern - activity rises from ~20% at 10°C, peaks at approximately 75% around
    35°C, then decreases back to ~30% at 50°C. The title "scatter-regression-lowess
    · bokeh · pyplots.ai" appears in the top left. Axis labels include units (°C and
    %). A legend in the top right identifies "Data Points" and "LOWESS Fit". The grid
    uses subtle dashed lines. The overall layout is clean with good use of canvas
    space.
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title at 36pt, axis labels at 28pt, tick labels at 22pt - all clearly
          readable, slightly larger than minimum requirements
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements anywhere
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: 'Markers (size=18) and line (width=5) are well-sized for 200 points;
          alpha=0.6 appropriate; minor: markers could be slightly larger'
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Blue (#306998) and yellow (#FFD43B) provide excellent contrast, colorblind-safe
          combination
      - id: VQ-05
        name: Layout Balance
        score: 4
        max: 5
        passed: true
        comment: Good canvas utilization, plot fills majority of space; slight imbalance
          with legend in far corner
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: 'Both axes have descriptive labels with units: "Temperature (°C)"
          and "Enzyme Activity (%)"'
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: true
        comment: Grid subtle with alpha=0.3 and dashed style; legend positioned well
          but could be larger for the canvas size
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: 'Correct: scatter plot with LOWESS regression curve'
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: X=temperature (independent), Y=enzyme activity (dependent) correctly
          assigned
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: 'All spec features present: LOWESS curve distinct from points, moderate
          smoothing (frac=0.4), transparency on points, axis labels, descriptive title'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Axes show all data points and full LOWESS curve
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly identifies "Data Points" and "LOWESS Fit"
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Exact format: "scatter-regression-lowess · bokeh · pyplots.ai"'
    data_quality:
      score: 19
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: 'Excellent: shows complex non-linear relationship with rising, peak,
          and declining phases - perfect for demonstrating LOWESS capabilities'
      - id: DQ-02
        name: Realistic Context
        score: 6
        max: 7
        passed: true
        comment: 'Enzyme activity vs temperature is a well-known biological phenomenon;
          the bell curve is scientifically accurate; minor: could add more context'
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Temperature range 10-50°C realistic for enzyme studies; activity
          0-100% appropriate; peak at ~35°C matches typical enzyme optima
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Clean structure: imports → data → LOWESS calculation → plot → styling
          → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: 'All imports are used: numpy, bokeh modules, statsmodels lowess'
      - id: CQ-04
        name: No Deprecated API
        score: 0
        max: 1
        passed: true
        comment: Using `p.scatter()` which is current, but CDN import for save is
          older pattern
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 3
        max: 5
        passed: true
        comment: Uses ColumnDataSource properly, figure configuration, and both PNG
          and HTML export; could leverage more Bokeh-specific features like HoverTool
          for interactivity
  verdict: APPROVED
