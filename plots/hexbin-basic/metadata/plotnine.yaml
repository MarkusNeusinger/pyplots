library: plotnine
specification_id: hexbin-basic
created: 2025-12-14 19:50:01+00:00
updated: '2026-02-21T21:25:06Z'
generated_by: claude-opus-4-6
workflow_run: 20213177380
issue: 859
python_version: 3.14.3
library_version: 0.15.3
preview_url: https://storage.googleapis.com/pyplots-images/plots/hexbin-basic/plotnine/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/hexbin-basic/plotnine/plot_thumb.png
preview_html: null
quality_score: 88
impl_tags:
  dependencies: []
  techniques:
  - colorbar
  - layer-composition
  patterns:
  - data-generation
  - groupby-aggregation
  dataprep:
  - binning
  styling:
  - custom-colormap
  - edge-highlighting
  - minimal-chrome
review:
  strengths:
  - Striking custom geothermal palette that thematically matches the seismic data
    context
  - Comprehensive data design with four distinct distribution components creating
    realistic density variation
  - All text explicitly sized with clear typography hierarchy and custom colors
  - Fully vectorized hex computation — clean and efficient manual implementation
  - Realistic seismic scenario with proper geographic coordinates, units, and context
  weaknesses:
  - Custom palette is not perceptually uniform as the spec explicitly requires
  - Minor hexagon tiling gaps visible in sparse regions
  - Manual hex computation limits library mastery score (plotnine limitation)
  improvements: []
  verdict: REJECTED
  image_description: 'The plot displays a hexagonal binning visualization titled "Seismic
    Event Density · hexbin-basic · plotnine · pyplots.ai" on a warm off-white/beige
    background (#f0edeb). The x-axis is labeled "Longitude (°E)" ranging from 32 to
    40, and the y-axis is labeled "Latitude (°N)" ranging from approximately 35 to
    40. Hexagons are filled using a custom "geothermal" palette progressing from deep
    dark indigo (#1a1423) for low counts through purple, magenta, and coral to warm
    gold/yellow (#faf3dd) for high counts. A colorbar on the right side is labeled
    "Event Count" with values from ~10 to ~50+. Two prominent density hotspots are
    visible: one centered around longitude 35.5, latitude 37 (primary cluster, bright
    gold) and another around longitude 37.5, latitude 38.5 (secondary cluster, coral-gold).
    A smaller cluster appears near longitude 33.5, latitude 36.5. Diffuse low-density
    hexagons fill the remaining area in dark indigo/purple. Hex borders use the background
    color for subtle separation. Grid lines are absent. Typography is bold and well-sized
    throughout.'
  criteria_checklist:
    visual_quality:
      score: 27
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 8
        passed: true
        comment: 'All font sizes explicitly set: title 24pt, axis labels 20pt bold,
          ticks 16pt, legend title 16pt bold, legend/base text 14pt'
      - id: VQ-02
        name: No Overlap
        score: 6
        max: 6
        passed: true
        comment: No overlapping text elements; title, axis labels, tick labels, and
          colorbar all clearly separated
      - id: VQ-03
        name: Element Visibility
        score: 5
        max: 6
        passed: true
        comment: Hexagons well-sized for 5000 data points; minor tiling gaps visible
          in sparse regions
      - id: VQ-04
        name: Color Accessibility
        score: 3
        max: 4
        passed: true
        comment: Custom palette with good luminance contrast; not perceptually uniform
          as spec recommends
      - id: VQ-05
        name: Layout & Canvas
        score: 3
        max: 4
        passed: true
        comment: Good layout with plot filling most of 16:9 canvas; minor unused space
          near right edge
      - id: VQ-06
        name: Axis Labels & Title
        score: 2
        max: 2
        passed: true
        comment: Longitude (°E) and Latitude (°N) — descriptive with units
    design_excellence:
      score: 15
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 6
        max: 8
        passed: true
        comment: Custom geothermal palette thematically matches seismic context; warm
          background, custom text colors, intentional typography hierarchy
      - id: DE-02
        name: Visual Refinement
        score: 5
        max: 6
        passed: true
        comment: Grid removed, custom panel/plot backgrounds, subtle hex borders with
          background color, thorough theme customization
      - id: DE-03
        name: Data Storytelling
        score: 4
        max: 6
        passed: true
        comment: Multiple seismic clusters at varying intensities create natural visual
          hierarchy with clear focal points
    spec_compliance:
      score: 14
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: Correct hexagonal binning plot with density-colored hexagonal bins
      - id: SC-02
        name: Required Features
        score: 3
        max: 4
        passed: true
        comment: Colorbar present, gridsize used; missing perceptually uniform colormap
          as spec requires
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: X=longitude, Y=latitude correctly mapped with coord_fixed for geographic
          proportions
      - id: SC-04
        name: Title & Legend
        score: 3
        max: 3
        passed: true
        comment: Title contains required format with descriptive prefix; colorbar
          labeled Event Count
    data_quality:
      score: 15
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 6
        max: 6
        passed: true
        comment: 'Shows all hexbin aspects: dense clusters, medium density, diffuse
          background, clear density gradients'
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 5
        passed: true
        comment: Seismic event density at Eastern Mediterranean coordinates; neutral
          scientific topic
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 4
        passed: true
        comment: Realistic longitude/latitude for seismically active region; appropriate
          event counts per bin
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Clean Imports → Data → Hex computation → Plot → Save flow; no functions
          or classes
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: np.random.seed(42) set at start
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All 12 plotnine imports used; numpy and pandas used for data/computation
      - id: CQ-04
        name: Code Elegance
        score: 2
        max: 2
        passed: true
        comment: Fully vectorized hex binning and polygon construction; appropriate
          complexity given plotnine lacks geom_hex
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png with dpi=300; current plotnine API
    library_mastery:
      score: 7
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 4
        max: 5
        passed: true
        comment: Good ggplot grammar usage; manual hex preprocessing necessary due
          to missing geom_hex
      - id: LM-02
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses scale_fill_gradientn, guide_colorbar(nbin=200), coord_fixed,
          comprehensive theme elements
