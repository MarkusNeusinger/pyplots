library: plotnine
specification_id: campbell-basic
created: '2026-02-15T21:08:00Z'
updated: '2026-02-15T21:40:57Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 22043026955
issue: 4241
python_version: 3.14.3
library_version: 0.15.3
preview_url: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/plotnine/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/campbell-basic/plotnine/plot_thumb.png
preview_html: null
quality_score: 90
review:
  strengths:
  - Excellent use of plotnine grammar of graphics with layered composition (operating
    range band, lines, markers, annotations)
  - 'Strong data storytelling with Critical: 1180 RPM annotation and vertical dotted
    line creating immediate visual focus'
  - Colorblind-safe palette with both color AND linetype differentiation between modes
    and EO lines
  - Consolidated legend entry for all three EO lines reduces clutter while maintaining
    clarity
  - Publication-quality typography with explicitly set font sizes at all levels
  - Realistic turbomachinery data with appropriate mode names, frequency ranges, and
    gyroscopic speed dependence
  weaknesses:
  - Operating range band is nearly invisible at alpha=0.04 — could benefit from slightly
    higher opacity
  - Duplicate interpolation code for 1x/1st Bending critical speed annotation repeats
    the general intersection logic
  - 3x EO line extends well beyond the plot useful frequency range creating visual
    noise in the upper portion
  image_description: 'The plot displays a Campbell diagram for rotating machinery
    analysis. Five natural frequency curves are plotted against rotational speed (0–6000
    RPM): 1st Bending (dark blue, ~18 Hz baseline, slightly increasing), 2nd Bending
    (amber/yellow, ~45 Hz baseline, decreasing), 1st Torsional (purple, ~52 Hz baseline,
    increasing), 2nd Torsional (red-orange, ~75 Hz baseline, roughly flat), and Axial
    (teal/green, ~90 Hz baseline, nearly flat). Three dashed gray engine order lines
    (1×, 2×, 3×) radiate diagonally from the origin. Red diamond markers are placed
    at each intersection of an EO line with a natural frequency curve (approximately
    10 critical speed points). A dotted red vertical line at ~1180 RPM with an italic
    annotation "Critical: 1180 RPM" highlights the 1×/1st Bending intersection as
    the most operationally significant. A very subtle blue-tinted operating range
    band spans 2000–4500 RPM with a faint "Operating Range" label. The bottom legend
    is horizontal with a white background and gray border, consolidating all three
    EO lines into a single "Engine Order (1×, 2×, 3×)" entry. Title reads "campbell-basic
    · plotnine · pyplots.ai" in bold centered text.'
  criteria_checklist:
    visual_quality:
      score: 27
      max: 30
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 8
        passed: true
        comment: 'All font sizes explicitly set: title 24pt, axis titles 20pt, ticks
          16pt, legend 13pt'
      - id: VQ-02
        name: No Overlap
        score: 5
        max: 6
        passed: true
        comment: 'Minor: 3x label slightly crowds 2nd Torsional line area'
      - id: VQ-03
        name: Element Visibility
        score: 6
        max: 6
        passed: true
        comment: Mode lines weight 2.0, EO lines 1.0, diamond markers size 4.5 — excellent
          differentiation
      - id: VQ-04
        name: Color Accessibility
        score: 4
        max: 4
        passed: true
        comment: Colorblind-safe palette with linetype differentiation
      - id: VQ-05
        name: Layout Balance
        score: 2
        max: 4
        passed: false
        comment: Operating range band extremely subtle (alpha=0.04); 3x EO line extends
          beyond useful range; bottom legend compresses plot
      - id: VQ-06
        name: Axis Labels & Title
        score: 2
        max: 2
        passed: true
        comment: 'Descriptive with units: Rotational Speed (RPM) and Natural Frequency
          (Hz)'
    design_excellence:
      score: 16
      max: 20
      items:
      - id: DE-01
        name: Aesthetic Sophistication
        score: 7
        max: 8
        passed: true
        comment: Custom colorblind-safe palette, intentional typography hierarchy,
          refined panel background, publication-quality polish
      - id: DE-02
        name: Visual Refinement
        score: 5
        max: 6
        passed: true
        comment: Subtle grid, minor grid removed, panel background with border, good
          whitespace; legend border slightly heavy
      - id: DE-03
        name: Data Storytelling
        score: 4
        max: 6
        passed: true
        comment: 'Critical: 1180 RPM annotation with dotted vertical line creates
          focal point; operating range band adds context; visual hierarchy via line
          weights'
    spec_compliance:
      score: 15
      max: 15
      items:
      - id: SC-01
        name: Plot Type
        score: 5
        max: 5
        passed: true
        comment: Correct Campbell diagram with frequency curves and EO lines
      - id: SC-02
        name: Required Features
        score: 4
        max: 4
        passed: true
        comment: 5 modes, 3 EO lines, critical speed markers, mode labels, EO labels,
          operating range shading
      - id: SC-03
        name: Data Mapping
        score: 3
        max: 3
        passed: true
        comment: X=Speed (RPM), Y=Frequency (Hz) correctly mapped
      - id: SC-04
        name: Title Format
        score: 3
        max: 3
        passed: true
        comment: campbell-basic · plotnine · pyplots.ai with consolidated EO legend
          entry
    data_quality:
      score: 14
      max: 15
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 5
        max: 6
        passed: true
        comment: 5 modes with varying speed dependence, multiple intersections; could
          show more dramatic gyroscopic variation
      - id: DQ-02
        name: Realistic Context
        score: 5
        max: 5
        passed: true
        comment: Real turbomachinery terminology and plausible frequency ranges
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 4
        passed: true
        comment: Realistic RPM and Hz values for rotating machinery
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Imports, data, plot, save — no functions or classes
      - id: CQ-02
        name: Reproducibility
        score: 2
        max: 2
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports used
      - id: CQ-04
        name: Code Elegance
        score: 1
        max: 2
        passed: false
        comment: Duplicate interpolation logic for 1x/1st Bending annotation repeats
          general intersection pattern
      - id: CQ-05
        name: Output & API
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png with dpi=300
    library_features:
      score: 9
      max: 10
      items:
      - id: LM-01
        name: Idiomatic Usage
        score: 5
        max: 5
        passed: true
        comment: Expert grammar-of-graphics composition with layer stacking, scale_manual,
          guide_legend, coord_cartesian, annotate
      - id: LM-02
        name: Distinctive Features
        score: 4
        max: 5
        passed: true
        comment: scale_size_identity for line weight, guide_legend(override_aes),
          coord_cartesian zoom, geom_rect band
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - layer-composition
  - custom-legend
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep:
  - interpolation
  styling:
  - grid-styling
  - alpha-blending
