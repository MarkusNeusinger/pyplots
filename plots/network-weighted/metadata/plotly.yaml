library: plotly
specification_id: network-weighted
created: '2026-01-08T15:58:57Z'
updated: '2026-01-08T16:26:11Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20822849491
issue: 3290
python_version: 3.13.11
library_version: 6.5.1
preview_url: https://storage.googleapis.com/pyplots-images/plots/network-weighted/plotly/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/network-weighted/plotly/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/network-weighted/plotly/plot.html
quality_score: 92
review:
  strengths:
  - Clear edge thickness differentiation showing varying trade volumes from thin (35B)
    to thick (620B USD)
  - Well-implemented force-directed layout with weight-influenced attraction keeping
    high-trade partners close (USA-China-Canada cluster)
  - Effective node sizing based on weighted degree - USA and China correctly appear
    as the largest hubs
  - Smart label positioning avoids overlap through explicit handling of problematic
    pairs (Japan/S.Korea, Italy/France)
  - Informative weight scale annotation box explaining edge thickness interpretation
  - Clean data representing a realistic international trade network scenario
  weaknesses:
  - The network is positioned more toward the right side of the canvas, leaving significant
    whitespace on the left - better centering would improve layout balance
  image_description: |-
    The plot displays a weighted network graph of international trade relationships between 15 countries. Nodes are represented as yellow circular markers with dark blue (#306998) borders, sized proportionally to their weighted degree (total trade volume). USA and China appear as the largest nodes, reflecting their position as major trade hubs.

    Edges connect trading partners with varying thickness representing trade volume in billions of USD. The thickest edges (dark blue, high opacity) connect USA-Canada (~620B), USA-Mexico (~550B), and USA-China (~580B), clearly visible as prominent thick lines. Thinner, more transparent edges represent smaller trade relationships like Spain-Italy (50B) and India-UK (35B).

    The title "network-weighted · plotly · pyplots.ai" is centered at the top in dark gray text (size 28). A legend box in the top-left corner explains "Edge Thickness = Trade Volume" with the range "35B USD (thin) to 620B USD (thick)" on a white background with subtle border.

    Country labels are displayed in dark gray (#333333) with size 16 font, positioned intelligently around each node to avoid overlap - Japan appears "top right", S. Korea "bottom left", Italy "top left", and France "bottom right" with other nodes using contextual positioning based on nearby neighbors.

    The layout uses a force-directed algorithm where high-trade partners are pulled closer together, creating a visible USA-China-Mexico-Canada cluster on the right side. European countries (Germany, France, Italy, Spain, Netherlands, UK) form a cluster on the left-center. Asian-Pacific countries (Japan, S. Korea, Australia) connect primarily through China.

    Background is clean white with no grid lines (appropriate for network graphs). The overall layout fills approximately 60-70% of the canvas with the network slightly positioned toward the right.
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 28pt, node labels at 16pt, annotation text at 18pt - all
          clearly readable at 4800x2700
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: Smart label positioning with explicit handling for close pairs (Japan/S.Korea,
          Italy/France) prevents all text overlap
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Node sizes (20-55px) appropriately scaled by weighted degree; edge
          widths (2-18px) provide clear visual differentiation
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Single blue color scheme for edges with alpha variation (0.4-0.9);
          yellow nodes with blue borders - no colorblind issues
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 5
        passed: true
        comment: Network fills ~60-70% of canvas but positioned slightly right of
          center; left side has more whitespace
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: true
        comment: N/A for network graph - axes correctly hidden (no labels needed)
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: No grid (appropriate for network); annotation box with weight scale
          well-positioned in top-left with clear styling
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct weighted network graph with edge thickness mapping
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Nodes=countries, edges=trade relationships, weight=trade volume correctly
          mapped to edge thickness
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: 'All spec features: edge thickness for weight, node sizing by weighted
          degree, weight scale annotation, force-directed layout with weight influence'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All 15 nodes and 29 edges visible within plot bounds
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Weight scale annotation accurately describes edge thickness range
          (35B-620B USD)
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Uses exact format: network-weighted · plotly · pyplots.ai'
    data_quality:
      score: 20
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 8
        max: 8
        passed: true
        comment: 'Shows full range: high-weight edges (USA-Canada 620B), medium (France-Spain
          110B), low (India-UK 35B); large hubs (USA, China) vs peripheral nodes (Spain,
          Australia)'
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: International trade network is real-world relevant; trade volumes
          approximate actual relationships (USA-China, USA-Canada top partners)
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Trade values in billions USD (35B-620B) are realistic for major bilateral
          trade flows
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: Follows imports → data → layout computation → edge traces → node
          trace → figure → save structure; no functions/classes
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) ensures reproducible force-directed layout
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only numpy and plotly.graph_objects imported, both used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Plotly 6.x API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 5
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 5
        max: 5
        passed: true
        comment: 'Uses Plotly-specific features: hover tooltips with formatted text
          (trade pairs + values), individual edge traces for per-edge styling, annotations
          with paper coordinates, HTML export for interactivity'
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - annotations
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - alpha-blending
