library: pygal
specification_id: map-connection-lines
created: '2026-01-21T16:29:42Z'
updated: '2026-01-21T16:32:40Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21217351602
issue: 3746
python_version: 3.13.11
library_version: 3.1.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/map-connection-lines/pygal/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/map-connection-lines/pygal/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/map-connection-lines/pygal/plot.html
quality_score: 82
review:
  strengths:
  - Excellent data selection with real-world major airport codes and realistic passenger
    volumes
  - Good use of curved lines (Bezier curves) to represent routes as great circle approximations
  - Volume-based line thickness and color categorization effectively shows traffic
    intensity
  - Proper geographic projection with longitude/latitude axes
  - Well-structured code with clear comments explaining the data
  weaknesses:
  - Coastlines are nearly invisible, failing to provide the geographic context required
    by the specification
  - Contains a helper function create_arc_points() which violates the KISS principle
  - Airport markers could be larger for better visibility at the full canvas resolution
  image_description: 'The plot displays a world map of flight connection lines between
    major international airports. The background is a light blue (#E8F4F8) with a
    subtle grid overlay showing longitude (x-axis, -160° to 160°) and latitude (y-axis,
    -60° to 80°). Simplified coastlines are shown in very faint gray lines but are
    barely visible. Routes are displayed as curved lines in three color categories
    based on passenger volume: teal/green for routes < 2M passengers, gold/yellow
    for routes 2-3M, and red-orange for routes > 3M. Airport locations are marked
    with blue circular dots. The title "map-connection-lines · pygal · pyplots.ai"
    appears at the top, and a legend at the bottom shows five categories: Coastlines,
    Routes < 2M, Routes 2-3M, Routes > 3M, and Airports. The visualization shows global
    connectivity with major hubs in Europe (London, Paris, Frankfurt), North America
    (JFK, LAX, Chicago), Asia (Tokyo, Singapore, Hong Kong, Beijing), Middle East
    (Dubai), and southern hemisphere (Sydney, São Paulo, Johannesburg).'
  criteria_checklist:
    visual_quality:
      score: 32
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 10
        passed: true
        comment: Title and axis labels are readable; font sizes scaled for canvas,
          but tick labels could be slightly larger
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements; legend is well-spaced at bottom
      - id: VQ-03
        name: Element Visibility
        score: 5
        max: 8
        passed: false
        comment: Airport markers visible but small; route lines have varying thickness;
          coastlines are nearly invisible
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Teal, gold, and red-orange palette is colorblind-friendly with good
          contrast
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 5
        passed: false
        comment: Plot uses canvas well but nearly invisible coastlines reduce geographic
          context
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: 'Descriptive labels with units: Longitude (°) and Latitude (°)'
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: false
        comment: Grid is subtle (good), but legend items are small and far from the
          plot
    spec_compliance:
      score: 22
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: 'Correct: XY chart showing connection lines between coordinates'
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Longitude on X, latitude on Y, correctly mapped
      - id: SC-03
        name: Required Features
        score: 3
        max: 5
        passed: false
        comment: 'Missing adequate geographic context: coastlines barely visible.
          Curved lines, transparency, endpoint markers all present'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Axes show full global range (-180 to 180 longitude, -60 to 80 latitude)
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend accurately describes all series
      - id: SC-06
        name: Title Format
        score: 1
        max: 2
        passed: false
        comment: Correct format with middle dots but rendering slightly differs
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows multiple volume categories, various route lengths, global coverage
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Real major airports with plausible passenger volume data
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Passenger volumes in thousands (1100-4200K) are realistic for major
          routes
    code_quality:
      score: 7
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 1
        max: 3
        passed: false
        comment: Contains helper function create_arc_points() which breaks KISS principle
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) is set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: All imports are used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Modern pygal API used
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: false
        comment: Saves as plot.png correctly
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses pygal XY chart, custom Style, stroke_style, legend config; but
          doesn't fully leverage pygal interactivity
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - bezier-curves
  - layer-composition
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - alpha-blending
  - grid-styling
