library: bokeh
specification_id: contour-map-geographic
created: '2026-01-17T11:54:34Z'
updated: '2026-01-18T22:12:18Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 21093797308
issue: 3772
python_version: 3.13.11
library_version: 3.8.2
preview_url: https://storage.googleapis.com/pyplots-images/plots/contour-map-geographic/bokeh/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/contour-map-geographic/bokeh/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/contour-map-geographic/bokeh/plot.html
quality_score: 85
review:
  strengths:
  - Excellent use of Viridis colormap for elevation visualization
  - Good geographic context with realistic Pacific Northwest region and Cascade Range
    simulation
  - Proper use of Bokeh features including ColorBar, LabelSet, and ColumnDataSource
  - Clear contour labeling at 500m intervals with white backgrounds for readability
  - Interactive tools (pan, zoom) enabled for Bokeh interactivity
  - Coastline representation adds geographic context
  weaknesses:
  - Relies on matplotlib for contour path extraction - Bokeh does not natively support
    contour lines, so this workaround is necessary but adds complexity
  - Contour label font size (14pt) is small relative to the 4800x2700 canvas; should
    be larger for better readability
  - Grid styling could be more subtle; current dashed grid is somewhat distracting
  - Legend placement in top-left corner partially overlaps plot content area
  image_description: The plot displays a contour map of simulated elevation data for
    the Pacific Northwest region. The visualization uses a Viridis colormap (purple
    for low elevation, yellow for high elevation) rendered as a raster image background
    with black contour lines overlaid on top. The Y-axis shows Latitude (°N) ranging
    from 42 to 49 degrees, and the X-axis shows Longitude (°W) ranging from -125 to
    -117 degrees. The central mountain range (Cascade Range) is clearly visible as
    two prominent yellow peaks reaching approximately 3000m elevation. Contour labels
    with white backgrounds appear at 500m intervals (500m, 1000m, 1500m, 2000m, 2500m,
    3000m). A blue coastline (approximate) is drawn along the western edge. A colorbar
    on the right indicates "Elevation (m)" with the scale from 0 to 3000. A legend
    in the top-left shows "Coastline (approx.)". The title correctly reads "contour-map-geographic
    · bokeh · pyplots.ai".
  criteria_checklist:
    visual_quality:
      score: 32
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 10
        passed: true
        comment: Title and axis labels readable, but contour labels (14pt) are small
          for 4800x2700 canvas
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements
      - id: VQ-03
        name: Element Visibility
        score: 6
        max: 8
        passed: true
        comment: Contour lines visible but some thinner lines blend with background
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Viridis colormap is colorblind-safe
      - id: VQ-05
        name: Layout Balance
        score: 3
        max: 5
        passed: true
        comment: Good proportions but title area could be better balanced
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: 'Labels with units: Longitude (°W), Latitude (°N)'
      - id: VQ-07
        name: Grid & Legend
        score: 0
        max: 2
        passed: false
        comment: Grid dashes somewhat distracting; legend placement overlaps plot
          area
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: 'Correct chart type: contour lines on geographic map'
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Lat/Lon correctly assigned to axes
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Has contour lines, labels, filled background, colorbar, coastline;
          lacks interval explanation
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible within axes range
      - id: SC-05
        name: Legend Accuracy
        score: 1
        max: 2
        passed: true
        comment: Legend only shows coastline, no contour level explanation
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: contour-map-geographic · bokeh · pyplots.ai'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows mountain ranges, coastal transition, elevation gradients; two
          distinct peaks demonstrate variation
      - id: DQ-02
        name: Realistic Context
        score: 6
        max: 7
        passed: true
        comment: Pacific Northwest elevation is plausible, though terrain patterns
          are somewhat idealized
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Elevation values 0-3000m are realistic for Cascade Range
    code_quality:
      score: 8
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 2
        max: 3
        passed: true
        comment: Mostly linear but uses matplotlib internally for contour extraction
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) is set
      - id: CQ-03
        name: Clean Imports
        score: 1
        max: 2
        passed: true
        comment: matplotlib.pyplot imported only for contour extraction, could be
          confusing
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: No deprecated functions
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png
    library_features:
      score: 4
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 4
        max: 5
        passed: true
        comment: 'Uses Bokeh features: ColumnDataSource, LabelSet, ColorBar, LinearColorMapper;
          relies on matplotlib for contour extraction'
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - colorbar
  - annotations
  - hover-tooltips
  patterns:
  - data-generation
  - columndatasource
  - iteration-over-groups
  - matrix-construction
  dataprep:
  - interpolation
  styling:
  - custom-colormap
  - alpha-blending
  - grid-styling
