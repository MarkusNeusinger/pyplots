library: altair
specification_id: scatter-text
created: '2026-01-09T14:24:37Z'
updated: '2026-01-09T14:27:35Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20854881873
issue: 3482
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/scatter-text/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/scatter-text/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/scatter-text/altair/plot.html
quality_score: 86
review:
  strengths:
  - Excellent use of viridis colormap for accessibility and visual appeal
  - Clean, KISS-compliant code structure with proper reproducibility
  - Perfect spec compliance with correct title format
  - Meaningful, neutral data context (programming languages)
  - Good use of scale domains to ensure all data is visible
  weaknesses:
  - Text overlap between JavaScript and Python at top of chart reduces readability
  - Does not leverage Altairs distinctive interactivity features (tooltips, hover,
    selections)
  - Minor text overlaps in dense regions (Rust/Kotlin, Julia/Dart) could be addressed
    with jitter or smaller font
  image_description: 'The plot displays a scatter plot with text labels instead of
    markers, showing 30 programming languages positioned by their age (x-axis: "Language
    Age (Years Since Creation)", 0-75 years) and relative popularity score (y-axis:
    0-105). Each language name is rendered as bold text at its coordinate position.
    The text is colored using the viridis colormap, mapping to the popularity score
    (shown in the "Popularity" color legend on the right). High-popularity languages
    like Python and JavaScript appear in yellow/green at the top, while low-popularity
    languages like COBOL, Lisp, and Fortran appear in purple/dark blue at the bottom
    right. The title "scatter-text 路 altair 路 pyplots.ai" is centered at the top.
    There is notable text overlap between "JavaScript" and "Python" at the top of
    the chart, and slight overlap between "Rust" and "Kotlin", and "Julia" and "Dart"
    in the lower-left region.'
  criteria_checklist:
    visual_quality:
      score: 33
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 8
        max: 10
        passed: true
        comment: Text is readable at full size, though font could be slightly larger
          for optimal legibility at high resolution
      - id: VQ-02
        name: No Overlap
        score: 4
        max: 8
        passed: false
        comment: Notable overlap between JavaScript and Python at the top, and minor
          overlaps between Rust/Kotlin and Julia/Dart
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Text labels are well-sized (fontSize=16 with scale_factor=3.0), bold
          styling helps visibility
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Viridis colormap is colorblind-safe, excellent choice
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Good canvas utilization, plot fills appropriate space with balanced
          margins
      - id: VQ-06
        name: Axis Labels
        score: 2
        max: 2
        passed: true
        comment: 'Descriptive labels with context: Language Age (Years Since Creation)
          and Relative Popularity Score'
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: true
        comment: Grid has appropriate opacity (0.3), legend is well-placed but slightly
          compact
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct implementation using mark_text() for scatter text plot
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: X maps to age, Y maps to popularity, text shows language names
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Text labels, coordinates, color encoding all present as spec suggests
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: Axes show all data points with appropriate domain padding
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Popularity color legend correctly shows the colormap scale
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: 'Correct format: scatter-text 路 altair 路 pyplots.ai'
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows variety in both age and popularity, though clustering in newer
          languages area
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Programming languages with age and popularity is an excellent, neutral,
          relatable scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Ages and popularity scores are plausible, though some popularity
          values seem slightly arbitrary
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Clean linear flow: imports, data, plot, save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) is set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: 'Only necessary imports: altair, numpy, pandas'
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Altair API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 0
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 0
        max: 5
        passed: false
        comment: While mark_text() is used correctly, the implementation does not
          leverage Altairs distinctive features like interactivity (tooltips, hover),
          selections, or layering
  verdict: REJECTED
impl_tags:
  dependencies: []
  techniques:
  - html-export
  - custom-colormap
  patterns:
  - data-generation
  dataprep: []
  styling:
  - grid-styling
  - custom-colormap
