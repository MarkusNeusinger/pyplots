library: plotly
specification_id: pie-drilldown
created: '2025-12-31T14:04:59Z'
updated: '2025-12-31T14:26:12Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20620475114
issue: 3072
python_version: 3.13.11
library_version: 6.5.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/pie-drilldown/plotly/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/pie-drilldown/plotly/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/pie-drilldown/plotly/plot.html
quality_score: 91
review:
  strengths:
  - Excellent use of Plotly interactive capabilities with custom JavaScript for drilldown
    navigation
  - Professional colorblind-safe color scheme with consistent subcategory shades
  - Robust JSON serialization for data passing to JavaScript (no fragile string replacement)
  - Clear breadcrumb navigation and user instructions
  - Clean donut style with center annotation adds modern aesthetic
  - Dual output (PNG + HTML) maximizes utility
  weaknesses:
  - Minor text overlap between breadcrumb annotation and Marketing slice label in
    top-left area
  - Static PNG cannot demonstrate the drilldown functionality - consider adjusting
    breadcrumb position to avoid overlap
  image_description: 'A donut-style pie chart displaying a company budget breakdown
    for FY 2024 across four departments. The chart uses a colorblind-safe palette:
    Engineering (blue, 37.1%), Marketing (purple, 19.8%), Operations (green, 20.5%),
    and Sales (red-orange, 22.6%). The title "pie-drilldown ¬∑ plotly ¬∑ pyplots.ai"
    appears centered at the top. A breadcrumb indicator "üìç All Departments" is positioned
    in the top-left corner. Each slice is slightly pulled out with white borders separating
    them. Labels with department names and percentages are positioned outside the
    slices using connector lines. The center displays "Company Budget FY 2024". A
    legend titled "Departments" is placed on the right side. At the bottom, instructional
    text "üëÜ Click any slice to drill down into subcategories" guides users on interaction.'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: 'Title 28pt, labels 20pt, all clearly readable. Minor: annotation
          text could be slightly larger'
      - id: VQ-02
        name: No Overlap
        score: 6
        max: 8
        passed: true
        comment: Minor overlap between "All Departments" breadcrumb and "Marketing"
          label at top-left
      - id: VQ-03
        name: Element Visibility
        score: 8
        max: 8
        passed: true
        comment: Pie slices well-sized, donut hole appropriate, slight pull effect
          enhances visibility
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Excellent colorblind-safe palette (blue, purple, green, red-orange)
          with good contrast
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Chart well-centered, good use of canvas space, legend properly positioned
      - id: VQ-07
        name: Grid & Legend
        score: 1
        max: 2
        passed: true
        comment: Legend well placed but no grid (expected for pie charts)
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct pie/donut chart with drilldown concept
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Values correctly mapped to slice sizes
      - id: SC-03
        name: Required Features
        score: 4
        max: 5
        passed: true
        comment: Has breadcrumb, click instruction, animated transitions (in HTML),
          but static PNG shows only top level. Missing visual indicator (cursor change)
          shown only in HTML
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible, percentages sum to ~100%
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: Legend correctly matches slice colors and labels
      - id: SC-06
        name: Title Format
        score: 1
        max: 2
        passed: true
        comment: Correct format but lowercase "plotly" (minor)
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows hierarchical budget data with 4 departments and subcategories
          defined. Static image only shows top level
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Company budget breakdown is a perfect real-world scenario for drilldown
          charts
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Budget values are realistic ($180K-$850K range), though some subcategory
          values seem slightly arbitrary
    code_quality:
      score: 9
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Clean linear structure: imports ‚Üí data ‚Üí plot ‚Üí save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Deterministic data (no randomness)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only json and plotly.graph_objects used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Using current Plotly API
      - id: CQ-05
        name: Output Correct
        score: 0
        max: 1
        passed: true
        comment: Saves both plot.png and plot.html (correct for interactive library)
    library_features:
      score: 5
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 5
        max: 5
        passed: true
        comment: 'Excellent use of Plotly-specific features: hover templates, annotations,
          donut chart with hole, animated transitions via JavaScript injection, HTML
          export with interactivity'
  verdict: APPROVED
