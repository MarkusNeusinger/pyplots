library: matplotlib
specification_id: alluvial-basic
created: '2025-12-24T22:21:18Z'
updated: '2025-12-24T22:31:13Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20494683388
issue: 0
python_version: 3.13.11
library_version: 3.10.8
preview_url: https://storage.googleapis.com/pyplots-images/plots/alluvial-basic/matplotlib/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/alluvial-basic/matplotlib/plot_thumb.png
preview_html: null
quality_score: 91
impl_tags:
  dependencies: []
  techniques:
  - bezier-curves
  - patches
  - manual-ticks
  patterns:
  - data-generation
  - matrix-construction
  - iteration-over-groups
  dataprep: []
  styling:
  - alpha-blending
  - minimal-chrome
review:
  strengths:
  - Excellent implementation of alluvial diagram from scratch using matplotlib low-level
    Path and patches API
  - Clean bezier curves for flow bands with appropriate transparency (alpha=0.4) for
    overlapping flows
  - Consistent color scheme across all time points for easy category tracking
  - Realistic voter migration data with believable patterns
  - Well-structured flow matrix data that accurately represents transitions between
    categories
  weaknesses:
  - Legend uses Independent but nodes use Indep abbreviation - should be consistent
  - Node labels could be slightly larger for the smallest nodes
  image_description: 'The plot shows a well-designed alluvial diagram visualizing
    voter migration across 4 election cycles (2012, 2016, 2020, 2024). Four political
    categories are displayed as stacked rectangular nodes at each time point: Party
    A (dark blue, #306998), Party B (yellow, #FFD43B), Party C (teal, #4ECDC4), and
    Independent (gray, #95A5A6). Semi-transparent curved flow bands connect the nodes
    between consecutive time points, showing how voters migrate between parties. Each
    node is labeled with the party name and voter count in thousands. The title follows
    the required format with spec-id, library, and pyplots.ai. A legend in the lower
    left identifies the four categories. The layout is clean with good use of whitespace
    and the flows are visually clear.'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 9
        max: 10
        passed: true
        comment: Title, year labels, node labels all readable; node labels slightly
          small for smallest nodes
      - id: VQ-02
        name: No Overlap
        score: 8
        max: 8
        passed: true
        comment: No overlapping text elements
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Flow bands well-sized with appropriate alpha (0.4); nodes clearly
          visible
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Colors are colorblind-friendly (blue, yellow, teal, gray)
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Plot fills canvas well, balanced margins
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: true
        comment: N/A for alluvial diagrams (no traditional axes), but time points
          labeled clearly
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Legend well placed in lower left, no grid needed
    spec_compliance:
      score: 23
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct alluvial diagram with vertical ordering and flow bands
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Time points as columns, categories as stacked nodes, flows proportional
          to magnitude
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: 'All spec features present: multiple time points, consistent colors,
          proportional band widths, transparency for flows'
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All data visible within the chart bounds
      - id: SC-05
        name: Legend Accuracy
        score: 0
        max: 2
        passed: true
        comment: Legend labels match categories but "Indep." abbreviation in nodes
          differs from "Independent" in legend
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: Correctly uses "{context} · alluvial-basic · matplotlib · pyplots.ai"
    data_quality:
      score: 19
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows multiple transitions, persistence within parties, and cross-party
          migrations; could show more dramatic shifts
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: Voter migration is a perfect real-world scenario for alluvial diagrams
      - id: DQ-03
        name: Appropriate Scale
        score: 5
        max: 5
        passed: true
        comment: Values in thousands of voters are realistic and sensible
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear script: imports → data → plot → save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: Uses np.random.seed(42)
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only necessary imports used
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: No deprecated functions
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Uses distinctive library features
        score: 3
        max: 5
        passed: true
        comment: Good use of matplotlib.patches (PathPatch, Rectangle) and Path for
          custom bezier curves; demonstrates matplotlib's flexibility for custom visualizations
  verdict: APPROVED
