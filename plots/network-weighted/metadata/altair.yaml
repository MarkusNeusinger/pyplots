library: altair
specification_id: network-weighted
created: '2026-01-08T15:58:06Z'
updated: '2026-01-08T16:01:08Z'
generated_by: claude-opus-4-5-20251101
workflow_run: 20822854669
issue: 3290
python_version: 3.13.11
library_version: 6.0.0
preview_url: https://storage.googleapis.com/pyplots-images/plots/network-weighted/altair/plot.png
preview_thumb: https://storage.googleapis.com/pyplots-images/plots/network-weighted/altair/plot_thumb.png
preview_html: https://storage.googleapis.com/pyplots-images/plots/network-weighted/altair/plot.html
quality_score: 92
review:
  strengths:
  - Excellent implementation of force-directed layout algorithm from scratch
  - Three well-organized legends explaining edge thickness, node color, and node size
  - Good use of Altair layered composition (edges + nodes + labels)
  - Realistic and interesting trade network data with visible hub structure
  - Proper title format with informative subtitle
  weaknesses:
  - Could enable interactivity with .interactive() for zoom/pan
  - Some node labels slightly overlap their nodes (e.g., China)
  - Edge thickness legend could show more granular values
  image_description: 'The plot displays a weighted network graph showing international
    trade relationships between 15 countries. Nodes are circular markers colored by
    geographic region: blue for Americas (USA, Canada, Mexico, Brazil), yellow for
    Europe (Germany, UK, France, Italy, Spain, Netherlands), coral/red for Asia (China,
    Japan, S. Korea, India), and teal for Oceania (Australia). Node sizes vary based
    on weighted degree (total trade volume), with USA and China being the largest
    nodes. Edges are gray lines with varying thickness representing bilateral trade
    volume in billions USD - the thickest edges connect USA-Canada, USA-Mexico, and
    USA-China. The layout appears force-directed with major trading partners clustered.
    Three legends appear on the right: edge thickness (Trade B USD), node color (Region),
    and node size (Total Trade). Title follows the correct format with a descriptive
    subtitle.'
  criteria_checklist:
    visual_quality:
      score: 36
      max: 40
      items:
      - id: VQ-01
        name: Text Legibility
        score: 10
        max: 10
        passed: true
        comment: Title at 28pt, subtitle at 18pt, labels at 16pt bold, all legends
          readable
      - id: VQ-02
        name: No Overlap
        score: 7
        max: 8
        passed: true
        comment: Minor overlap between China label and node, but generally clean
      - id: VQ-03
        name: Element Visibility
        score: 7
        max: 8
        passed: true
        comment: Nodes well-sized, edges distinguishable, though some thin edges hard
          to see
      - id: VQ-04
        name: Color Accessibility
        score: 5
        max: 5
        passed: true
        comment: Four distinct colors (blue, yellow, red, teal) are colorblind-safe
      - id: VQ-05
        name: Layout Balance
        score: 5
        max: 5
        passed: true
        comment: Good use of canvas, plot fills ~60% with balanced margins
      - id: VQ-06
        name: Axis Labels
        score: 0
        max: 2
        passed: true
        comment: N/A for network graph - axes correctly hidden
      - id: VQ-07
        name: Grid & Legend
        score: 2
        max: 2
        passed: true
        comment: Three well-organized legends, no grid (appropriate for network)
    spec_compliance:
      score: 25
      max: 25
      items:
      - id: SC-01
        name: Plot Type
        score: 8
        max: 8
        passed: true
        comment: Correct weighted network graph
      - id: SC-02
        name: Data Mapping
        score: 5
        max: 5
        passed: true
        comment: Edge thickness to trade weight, node size to weighted degree, color
          to region
      - id: SC-03
        name: Required Features
        score: 5
        max: 5
        passed: true
        comment: Has weighted edges, node sizing by degree, force-directed layout,
          legend for weight scale
      - id: SC-04
        name: Data Range
        score: 3
        max: 3
        passed: true
        comment: All nodes and edges visible within plot bounds
      - id: SC-05
        name: Legend Accuracy
        score: 2
        max: 2
        passed: true
        comment: All three legends correctly labeled
      - id: SC-06
        name: Title Format
        score: 2
        max: 2
        passed: true
        comment: network-weighted · altair · pyplots.ai with descriptive subtitle
    data_quality:
      score: 18
      max: 20
      items:
      - id: DQ-01
        name: Feature Coverage
        score: 7
        max: 8
        passed: true
        comment: Shows variation in edge weights and node degrees, hub structure visible
      - id: DQ-02
        name: Realistic Context
        score: 7
        max: 7
        passed: true
        comment: International trade network is a real, neutral, comprehensible scenario
      - id: DQ-03
        name: Appropriate Scale
        score: 4
        max: 5
        passed: true
        comment: Trade values in billions USD are realistic
    code_quality:
      score: 10
      max: 10
      items:
      - id: CQ-01
        name: KISS Structure
        score: 3
        max: 3
        passed: true
        comment: 'Linear flow: imports, data, layout calculation, dataframes, charts,
          save'
      - id: CQ-02
        name: Reproducibility
        score: 3
        max: 3
        passed: true
        comment: np.random.seed(42) set
      - id: CQ-03
        name: Clean Imports
        score: 2
        max: 2
        passed: true
        comment: Only altair, numpy, pandas imported
      - id: CQ-04
        name: No Deprecated API
        score: 1
        max: 1
        passed: true
        comment: Uses current Altair API
      - id: CQ-05
        name: Output Correct
        score: 1
        max: 1
        passed: true
        comment: Saves as plot.png and plot.html
    library_features:
      score: 3
      max: 5
      items:
      - id: LF-01
        name: Distinctive Features
        score: 3
        max: 5
        passed: true
        comment: Uses layered composition, encoding-based styling, tooltips; could
          use more interactivity
  verdict: APPROVED
impl_tags:
  dependencies: []
  techniques:
  - layer-composition
  - hover-tooltips
  - html-export
  patterns:
  - data-generation
  - iteration-over-groups
  dataprep: []
  styling:
  - alpha-blending
  - edge-highlighting
